/*!
 * bowser@2.11.0 (MIT)
 *   author: Dustin Diaz <dustin@dustindiaz.com> (http://dustindiaz.com)
 *   url: git+https://github.com/lancedikson/bowser.git
 *   contributors:
 *     Denis Demchenko (http://twitter.com/lancedikson)
 *
 *   Copyright 2015, Dustin Diaz (the "Original Author")
 *   All rights reserved.
 *
 *   MIT License
 *
 *   Permission is hereby granted, free of charge, to any person
 *   obtaining a copy of this software and associated documentation
 *   files (the "Software"), to deal in the Software without
 *   restriction, including without limitation the rights to use,
 *   copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the
 *   Software is furnished to do so, subject to the following
 *   conditions:
 *
 *   The above copyright notice and this permission notice shall be
 *   included in all copies or substantial portions of the Software.
 *
 *   Distributions of all or part of the Software intended to be used
 *   by the recipients as they would use the unmodified Software,
 *   containing modifications that substantially alter, remove, or
 *   disable functionality of the Software, outside of the documented
 *   configuration mechanisms provided by the Software, shall be
 *   modified such that the Original Author's bug reporting email
 *   addresses and urls are either replaced with the contact information
 *   of the parties responsible for the changes, or removed entirely.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 *   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 *   OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 *   NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 *   HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 *   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 *   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 *   OTHER DEALINGS IN THE SOFTWARE.
 *
 *
 *   Except where noted, this license applies to any and all software
 *   programs and associated documentation files created by the
 *   Original Author, when distributed with the Software.
 *
 *
 *
 * core-js@3.22.5 (MIT)
 *   url: https://github.com/zloirock/core-js.git
 *
 *   Copyright (c) 2014-2022 Denis Pushkarev
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in
 *   all copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 *   THE SOFTWARE.
 *
 *
 *
 * detect-node@2.1.0 (MIT)
 *   author: Ilya Kantor
 *   url: https://github.com/iliakan/detect-node
 *
 *   MIT License
 *
 *   Copyright (c) 2017 Ilya Kantor
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * fast-copy@2.1.3 (MIT)
 *   author: tony_quetano@planttheidea.com
 *   url: git+https://github.com/planttheidea/fast-copy.git
 *   contributors:
 *     Dariusz Rzepka <rzepkadarek@gmail.com>
 *
 *   MIT License
 *
 *   Copyright (c) 2018 Tony Quetano
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * is-electron@2.2.1 (MIT)
 *   author: Cheton Wu <cheton@gmail.com>
 *   url: git@github.com:cheton/is-electron.git
 *
 *   The MIT License (MIT)
 *
 *   Copyright (c) 2016-2018 Cheton Wu
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * is-mobile@3.1.1 (MIT)
 *   author: Julian Gruber (http://juliangruber.com)
 *   url: git://github.com/juliangruber/is-mobile.git
 *
 *
 */
/*!
 * vrg@0.27.0
 * license:proprietary
 * (c) 2022 latel88 All rights reserved
*/(()=>{var e,t,n,r,i=[(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},(e,t,n)=>{"use strict";var r=n(53),i=n(109),s=n(55),a=n(25),o=n(17).f,l=n(118),u=n(22),c=n(11),h="Array Iterator",d=a.set,f=a.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==p.name)try{o(p,"name",{value:"values"})}catch(e){}},(e,t,n)=>{var r=n(65),i=Function.prototype,s=i.bind,a=i.call,o=r&&s.bind(a,a);e.exports=r?function(e){return e&&o(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,n)=>{var r=n(0),i=n(123),s=n(124),a=n(1),o=n(19),l=n(6),u=l("iterator"),c=l("toStringTag"),h=a.values,d=function(e,t){if(e){if(e[u]!==h)try{o(e,u,h)}catch(t){e[u]=h}if(e[c]||o(e,c,t),i[t])for(var n in a)if(e[n]!==a[n])try{o(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},e=>{e.exports=function(e){return"function"==typeof e}},(e,t,n)=>{var r=n(0),i=n(85),s=n(12),a=n(88),o=n(110),l=n(111),u=i("wks"),c=r.Symbol,h=c&&c.for,d=l?c:c&&c.withoutSetter||a;e.exports=function(e){if(!s(u,e)||!o&&"string"!=typeof u[e]){var t="Symbol."+e;o&&s(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},(e,t,n)=>{var r=n(65),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},(e,t,n)=>{var r=n(0),i=n(93).f,s=n(19),a=n(18),o=n(87),l=n(120),u=n(95);e.exports=function(e,t){var n,c,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||o(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!u(g?c:p+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),a(n,c,d,e)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s,b:()=>o,c:()=>l,d:()=>O,e:()=>_,f:()=>M,g:()=>v,h:()=>y,i:()=>d,j:()=>f,k:()=>m,l:()=>g,m:()=>b,n:()=>u});n(1),n(4);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=2*Math.PI,s=(Math.PI,Math.PI/2),a=Math.PI/4;class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,"x",void 0),r(this,"y",void 0),this.x=e,this.y=t}}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,"x",void 0),r(this,"y",void 0),r(this,"z",void 0),this.x=e,this.y=t,this.z=n}}function u(e,t,n,r){return[e-n,t-r]}function c(e,t,n,r,i,s){return[e-r,t-i,n-s]}function h(e,t,n,r,i,s){return e*r+t*i+n*s}function d(e,t,n,r){const[i,s]=u(e,t,n,r);return Math.sqrt(function(e,t,n,r){return e*n+t*r}(i,s,i,s))}function f(e,t,n,r,i,s){const[a,o,l]=c(e,t,n,r,i,s);return Math.sqrt(h(a,o,l,a,o,l))}function p(e){return[Math.cos(b(e)),Math.sin(b(e))]}function g(e,t){const n=Math.sin(b(t)),r=Math.cos(b(t)),i=Math.sin(b(e)),s=Math.cos(b(e)),a=Math.abs(r);return[s*a,-n,i*a]}function m(e,t,n,r,i){let a=0,o=0,l=0;const[u,c]=p(e-s);if(a+=n*u,l+=n*c,t>0){const[n,i,u]=g(e,t-s);a+=r*n,o+=r*i,l+=r*u}else{const[n,i,u]=g(e,t+s);a-=r*n,o-=r*i,l-=r*u}const[h,d,f]=g(e,t);return a+=i*h,o+=i*d,l+=i*f,[a,o,l]}function v(e,t,n,r){const[i,s]=u(e,t,n,r);return Math.atan2(s,i)}function y(e,t,n,r,i,s){const[a,o,l]=c(e,t,n,r,i,s);return[Math.atan2(l,a),-Math.atan2(o,Math.sqrt(a*a+l*l))]}function b(e){return(e%=i)<0&&(e+=i),6123233995736766e-32===e?0:e}function w(e,t,n){let r=e*e+t*t+n*n;return r>0&&(r=1/Math.sqrt(r)),[e*r,t*r,n*r]}function E(e,t){let n=(e=b(e))-(t=b(t));return n-=Math.floor(n/i)*i,n-=n>Math.PI?i:0,n}function _(e,t,n,r){const[i,o]=function(e,t,n,r){const i=E(e,n);return[i,E(Math.abs(i)<3*a?t:s*(t/Math.abs(t))-t+s*(t/Math.abs(t)),r)]}(e,t,n,r);return[Math.abs(i),Math.abs(o)]}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const s=Math.cos(e),a=Math.sin(e),o=Math.cos(t),l=Math.sin(t),u=r-.5,c=i-.5,h=n,d=h*o+c*l;return w(d*s-u*a,c*o-h*l,u*s+d*a)}function O(e){return 90/e/(e/90*2)}},(e,t,n)=>{var r=n(0),i=n(14),s=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not an object")}},(e,t,n)=>{var r=n(3);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,n)=>{var r=n(2),i=n(23),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a,b:()=>c,c:()=>u,d:()=>h});n(1),n(4),n(20),n(21),n(15);var r=n(80);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new WeakMap;class a{constructor(e,t){i(this,"type",void 0),i(this,"timestamp",void 0),i(this,"target",void 0),this.type=t,this.timestamp=performance.now(),this.target=e}on(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s.get(this.target)||null;null===n&&s.set(this.target,n=new Map),n.has(this.type)||n.set(this.type,new Array);const r=n.get(this.type)||null;null!==r&&(t?r.unshift(e):r.push(e))}off(e){const t=s.get(this.target)||null;if(null===t||!t.has(this.type))return;const n=t.get(this.type)||null;null!==n&&n.includes(e)&&n.splice(n.indexOf(e),1)}trigger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.get(this.target)||null,n=this.target["on".concat(this.type)],i=n instanceof Function;if(null===t&&!i)return;for(const t in e)this[t]=e[t];i&&n.call(this.target,this);const a=null!==t&&t.get(this.type)||null;if(null!==a){const e=(0,r.a)(a);for(let t=0,n=0|e.length;t<n;t=t+1|0)e[t].call(this.target,this)}}async triggerAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=s.get(this.target)||null,n=this.target["on".concat(this.type)],i=n instanceof Function;if(null===t&&!i)return;for(const t in e)this[t]=e[t];if(i){const e=n.call(this.target,this);e instanceof Promise&&await e}const a=null!==t&&t.get(this.type)||null;if(null!==a){const e=(0,r.a)(a);for(let t=0,n=0|e.length;t<n;t=t+1|0){const n=e[t].call(this.target,this);n instanceof Promise&&await n}}}}const o=new WeakMap,l=new Array;function u(){for(;l.length>0;){const e=l.shift()||null;if(null===e)continue;const t=o.get(e)||new Array;for(;t.length>0;){const n=t.shift()||null;null!==n&&e.removeEventListener(n.type,n.handler)}o.delete(e)}}function c(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r);let i=o.get(e)||null;null===i&&o.set(e,i=new Array),i.some((e=>e.type===t&&e.handler===n))||i.push({type:t,handler:n})}function h(e,t,n){e.removeEventListener(t,n);const r=o.get(e)||null;if(null===r)return;const i=r.filter((e=>e.type===t&&e.handler===n));for(;i.length>0;){const e=i.shift()||null;null!==e&&r.splice(r.indexOf(e),1)}r.length<=0&&(o.delete(e),l.splice(l.indexOf(e),1))}},(e,t,n)=>{var r=n(5);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},(e,t,n)=>{n(214),n(215),n(216),n(217),n(218),n(219)},(e,t,n)=>{var r=n(0),i=n(42),s=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},(e,t,n)=>{var r=n(0),i=n(11),s=n(113),a=n(112),o=n(10),l=n(68),u=r.TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=i?a?function(e,t,n){if(o(e),t=l(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=h(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=l(t),o(n),s)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{var r=n(0),i=n(5),s=n(19),a=n(119),o=n(87);e.exports=function(e,t,n,l){var u=!!l&&!!l.unsafe,c=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet,d=l&&void 0!==l.name?l.name:t;return i(n)&&a(n,d,l),e===r?(c?e[t]=n:o(t,n),e):(u?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=n:s(e,t,n),e)}},(e,t,n)=>{var r=n(11),i=n(17),s=n(39);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{"use strict";var r=n(8),i=n(116).includes,s=n(3),a=n(109);r({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},(e,t,n)=>{"use strict";var r=n(8),i=n(2),s=n(171),a=n(29),o=n(16),l=n(172),u=i("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(o(a(this)),o(s(e)),arguments.length>1?arguments[1]:void 0)}})},e=>{e.exports=!1},(e,t,n)=>{var r=n(0),i=n(29),s=r.Object;e.exports=function(e){return s(i(e))}},(e,t,n)=>{var r=n(0),i=n(5),s=n(54),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not a function")}},(e,t,n)=>{var r,i,s,a=n(159),o=n(0),l=n(2),u=n(14),c=n(19),h=n(12),d=n(86),f=n(92),p=n(90),g="Object already initialized",m=o.TypeError,v=o.WeakMap;if(a||d.state){var y=d.state||(d.state=new v),b=l(y.get),w=l(y.has),E=l(y.set);r=function(e,t){if(w(y,e))throw new m(g);return t.facade=e,E(y,e,t),t},i=function(e){return b(y,e)||{}},s=function(e){return w(y,e)}}else{var _=f("state");p[_]=!0,r=function(e,t){if(h(e,_))throw new m(g);return t.facade=e,c(e,_,t),t},i=function(e){return h(e,_)?e[_]:{}},s=function(e){return h(e,_)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},(e,t,n)=>{"use strict";var r=n(8),i=n(0),s=n(7),a=n(11),o=n(186),l=n(48),u=n(105),c=n(57),h=n(39),d=n(19),f=n(187),p=n(31),g=n(145),m=n(146),v=n(68),y=n(12),b=n(42),w=n(14),E=n(89),_=n(37),M=n(30),O=n(41),x=n(94).f,A=n(189),S=n(134).forEach,T=n(73),R=n(17),P=n(93),L=n(25),F=n(147),I=L.get,N=L.set,k=R.f,C=P.f,D=Math.round,U=i.RangeError,B=u.ArrayBuffer,G=B.prototype,j=u.DataView,z=l.NATIVE_ARRAY_BUFFER_VIEWS,Y=l.TYPED_ARRAY_CONSTRUCTOR,H=l.TYPED_ARRAY_TAG,W=l.TypedArray,V=l.TypedArrayPrototype,X=l.aTypedArrayConstructor,q=l.isTypedArray,K="BYTES_PER_ELEMENT",Z="Wrong length",J=function(e,t){X(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},Q=function(e,t){k(e,t,{get:function(){return I(this)[t]}})},$=function(e){var t;return M(G,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return q(e)&&!E(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):C(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?k(e,t,n):(e[t]=n.value,e)};a?(z||(P.f=te,R.f=ne,Q(V,"buffer"),Q(V,"byteOffset"),Q(V,"byteLength"),Q(V,"length")),r({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,h="set"+e,f=i[l],v=f,y=v&&v.prototype,b={},E=function(e,t){k(e,t,{get:function(){return function(e,t){var n=I(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=I(e);n&&(r=(r=D(r))<0?0:r>255?255:255&r),i.view[h](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};z?o&&(v=t((function(e,t,n,r){return c(e,y),F(w(t)?$(t)?void 0!==r?new f(t,m(n,a),r):void 0!==n?new f(t,m(n,a)):new f(t):q(t)?J(v,t):s(A,v,t):new f(g(t)),e,v)})),O&&O(v,W),S(x(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,r){c(e,y);var i,o,l,u=0,h=0;if(w(t)){if(!$(t))return q(t)?J(v,t):s(A,v,t);i=t,h=m(n,a);var d=t.byteLength;if(void 0===r){if(d%a)throw U(Z);if((o=d-h)<0)throw U(Z)}else if((o=p(r)*a)+h>d)throw U(Z);l=o/a}else l=g(t),i=new B(o=l*a);for(N(e,{buffer:i,byteOffset:h,byteLength:o,length:l,view:new j(i)});u<l;)E(e,u++)})),O&&O(v,W),y=v.prototype=_(V)),y.constructor!==v&&d(y,"constructor",v),d(y,Y,v),H&&d(y,H,l);var M=v!=f;b[l]=v,r({global:!0,constructor:!0,forced:M,sham:!z},b),K in v||d(v,K,a),K in y||d(y,K,a),T(l)}):e.exports=function(){}},(e,t,n)=>{var r=n(0),i=n(5),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},(e,t,n)=>{var r=n(31);e.exports=function(e){return r(e.length)}},(e,t,n)=>{var r=n(0).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},(e,t,n)=>{var r=n(2);e.exports=r({}.isPrototypeOf)},(e,t,n)=>{var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},(e,t,n)=>{var r=n(2),i=n(24),s=n(65),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?a(e,t):function(){return e.apply(t,arguments)}}},(e,t,n)=>{"use strict";var r=n(8),i=n(81);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},(e,t,n)=>{var r=n(27);e.exports=r("navigator","userAgent")||""},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},(e,t,n)=>{var r=n(2),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},(e,t,n)=>{var r,i=n(10),s=n(213),a=n(91),o=n(90),l=n(117),u=n(67),c=n(92),h=c("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete g.prototype[a[n]];return g()};o[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[h]=e):n=g(),void 0===t?n:s.f(n,t)}},(e,t,n)=>{var r=n(24);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,n)=>{var r=n(17).f,i=n(12),s=n(6)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},(e,t,n)=>{var r=n(2),i=n(10),s=n(164);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},(e,t,n)=>{var r=n(0),i=n(165),s=n(5),a=n(36),o=n(6)("toStringTag"),l=r.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=l(e),o))?n:u?a(t):"Object"==(r=a(t))&&s(t.callee)?"Arguments":r}},(e,t,n)=>{var r=n(0);e.exports=r.Promise},(e,t,n)=>{"use strict";n.d(t,{a:()=>ee,b:()=>ne,c:()=>ie,d:()=>$,e:()=>te,f:()=>re});n(220),n(20),n(21),n(221),n(1),n(4),n(60),n(15),n(33),n(139);Promise.resolve(!1);var r=Promise.resolve(!0),i=Promise.resolve();function s(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function a(){return Math.random().toString(36).substring(2)}var o=0,l=0;function u(){var e=(new Date).getTime();return e===o?1e3*e+ ++l:(o=e,l=0,1e3*e)}var c="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const h={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),i}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(c&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:u};var d=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,f()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){var t=f()-e.ttl,n=e.map[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;var i=r[0];if(!(r[1]<t))return;e.map.delete(i)}}(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function f(){return(new Date).getTime()}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var g="messages",m={durability:"relaxed"};function v(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function y(e){e.commit&&e.commit()}function b(e,t){var n=e.transaction(g,"readonly",m),r=n.objectStore(g),i=[],s=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(s);return new Promise((function(e,t){a.onerror=function(e){return t(e)},a.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,a){var o=function(){try{return s=IDBKeyRange.bound(t+1,1/0),r.openCursor(s)}catch(e){return r.openCursor()}}();o.onerror=function(e){return a(e)},o.onsuccess=function(r){var s=r.target.result;s?s.value.id<t+1?s.continue(t+1):(i.push(s.value),s.continue()):(y(n),e(i))}}))}function w(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction(g,"readonly",m),i=r.objectStore(g),s=[];return new Promise((function(e){i.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var a=i.value;if(!(a.time<n))return y(r),void e(s);s.push(a),i.continue()}else e(s)}}))}(e,t).then((function(t){return function(e,t){var n=e.transaction([g],"readwrite",m).objectStore(g);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(e,t.map((function(e){return e.id})))}))}function E(e){e.closed||_(e).then((function(){return s(e.options.idb.fallbackInterval)})).then((function(){return E(e)}))}function _(e){return e.closed?i:e.messagesCallback?b(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),i})):i}const M={create:function(e,t){return t=p(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=v().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(g,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:a(),eMIs:new d(2*t.idb.ttl),writeBlockPromise:i,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},E(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,_(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},i=e.transaction([g],"readwrite",m);return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(g).add(r),y(i)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&w(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!c&&!!v()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:u};function O(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function x(e){return"pubkey.broadcastChannel-"+e}function A(){if(c)return!1;var e=O();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}const S={create:function(e,t){if(t=p(t),!A())throw new Error("BroadcastChannel: localstorage cannot be used");var n=a(),r=new d(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=function(e,t){var n=x(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){i.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(r.add(e.token),i.messagesCallback(e.data)))})),i},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){s().then((function(){var r=x(e.channelName),i={token:a(),time:(new Date).getTime(),data:t,uuid:e.uuid},s=JSON.stringify(i);O().setItem(r,s);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=r,o.newValue=s,window.dispatchEvent(o),n()}))}))},canBeUsed:A,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:u};var T=u,R=new Set;const P={create:function(e){var t={name:e,messagesCallback:null};return R.add(t),t},close:function(e){R.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(R).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:T};var L=[h,M,S];var F,I=new Set,N=0,k=function(e,t){var n,r,i;this.id=N++,I.add(this),this.name=e,F&&(t=F),this.options=p(t),this.method=function(e){var t=[].concat(e.methods,L).filter(Boolean);if(e.type){if("simulate"===e.type)return P;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||c||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable method found in "+JSON.stringify(L.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),(i=r)&&"function"==typeof i.then?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function C(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:i).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function D(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function U(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&D(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,r=e.time-n;t.time>=r&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function B(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!D(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}k._pubkey=!0,k.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return C(this,"message",e)},postInternal:function(e){return C(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};B(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,U(this,"message",t)):this._onML=null},addEventListener:function(e,t){U(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){B(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){I.delete(this),this.closed=!0;var t=this._prepP?this._prepP:i;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var G=n(178),j=n.n(G);const z={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}};var Y=n(224),H=n.n(Y),W=j()?H():z,V=new Set,X=!1;function q(e){if(X||(X=!0,W.add(K)),"function"!=typeof e)throw new Error("Listener is no function");return V.add(e),{remove:function(){return V.delete(e)},run:function(){return V.delete(e),e()}}}function K(){var e=[];return V.forEach((function(t){e.push(t()),V.delete(t)})),Promise.all(e)}var Z=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=a(),this._aplQ=i,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function J(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}Z.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return s(0,!0);if(this.isDead)return s(0,!1);if(this._aplQC>1)return this._aplQ;var n=function(){if(t.isLeader)return r;var n,i=!1,a=new Promise((function(e){n=function(){i=!0,e()}})),o=[],l=function(e){"leader"===e.context&&e.token!=t.token&&(o.push(e),"apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",l);var u=e?4*t._options.responseTime:t._options.responseTime;return J(t,"apply").then((function(){return Promise.race([s(u),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return J(t,"apply")})).then((function(){return Promise.race([s(u),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",l),!i&&function(e){e.isLeader=!0,e.hasLeader=!0;var t=q((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&J(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),J(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),J(e,"tell")}(t).then((function(){return!0}))}))};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return n()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return i;return new Promise((function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",i),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()})),function t(){return s(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then((function(){e.isLeader?r():t()}))}))}();var i=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&r()})))};e.broadcastChannel.addEventListener("internal",i),e._lstns.push(i)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,J(this,"death")}};n(13);new Array,new Array;new Array,new Array;let Q=null;function $(){if(null===Q)try{Q=scope}catch(e){Q=self}return Q}const ee="BroadcastChannel"in self?self.BroadcastChannel:class extends k{addEventListener(e,t){super.addEventListener(e,(n=>{t(new MessageEvent(e,{data:n}))}))}};function te(e){return"requestAnimationFrame"in self?self.requestAnimationFrame(e):setTimeout(e,0)}function ne(e){"cancelAnimationFrame"in self?self.cancelAnimationFrame(e):clearTimeout(e)}function re(e){return setTimeout(e,0)}function ie(e){clearTimeout(e)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>y,b:()=>v});var r=n(182),i=n.n(r),s=n(183),a=n.n(s),o=(n(15),n(1),n(4),n(13)),l=n(62),u=n(46);const c=new Array;async function h(){await Promise.all(c.map((e=>e())).filter((e=>e instanceof Promise))),(0,u.a)(c)}v()&&(0,o.b)(l.d,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"ready"===t.method)h()}));const d={electron:i()(),mobile:!1,steam:!1,steam_overlay:!1};function f(e,t){!!d[t]!==e&&(d[t]=e,l.e.postMessage({method:"change",type:t,value:e}))}let p=v()?0:-1;function g(){p=setTimeout(g,0),f(a()(),"mobile"),f(i()(),"electron"),f("electron"in self&&self.electron.hasSteam(),"steam"),f("electron"in self&&self.electron.hasOpenSteamOverlay(),"steam_overlay")}var m;function v(){if(!v.init){let e=self;try{e=scope}catch(e){}v.isWorker="postMessage"in e&&e.postMessage instanceof Function&&"importScripts"in e&&e.importScripts instanceof Function}return v.init=!0,!!v.isWorker}function y(){return!!d.electron}v()?(0,o.b)(l.e,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"change"===t.method)d[t.type]=!!t.value})):(m=function(){-1===p&&(p=setTimeout(g,0))},document.body?setTimeout((()=>c.push(m))):document.addEventListener("DOMContentLoaded",(()=>c.push(m)),!1))},(e,t,n)=>{"use strict";n.d(t,{a:()=>v,b:()=>y,c:()=>m});n(1),n(4),n(47),n(106),n(49),n(50),n(51);var r=function(e){return function(t,n,r){return e(t,n,r)*r}},i=function(e,t){if(e)throw Error("Invalid sort config: "+t)},s=function(e){var t=e||{},n=t.asc,s=t.desc,a=n?1:-1,o=n||s;return i(!o,"Expected `asc` or `desc` property"),i(n&&s,"Ambiguous object with `asc` and `desc` config properties"),{order:a,sortBy:o,comparer:e.comparer&&r(e.comparer)}};function a(e,t,n){if(void 0===e||!0===e)return function(e,r){return t(e,r,n)};if("string"==typeof e)return i(e.includes("."),"String syntax not allowed for nested properties."),function(r,i){return t(r[e],i[e],n)};if("function"==typeof e)return function(r,i){return t(e(r),e(i),n)};if(Array.isArray(e)){var r=function(e){return function t(n,r,i,a,o,l,u){var c,h;if("string"==typeof n)c=l[n],h=u[n];else{if("function"!=typeof n){var d=s(n);return t(d.sortBy,r,i,d.order,d.comparer||e,l,u)}c=n(l),h=n(u)}var f=o(c,h,a);return(0===f||null==c&&null==h)&&r.length>i?t(r[i],r,i+1,a,o,l,u):f}}(t);return function(i,s){return r(e[0],e,1,n,t,i,s)}}var o=s(e);return a(o.sortBy,o.comparer||t,o.order)}var o=function(e,t,n,r){return Array.isArray(t)?(Array.isArray(n)&&n.length<2&&(n=n[0]),t.sort(a(n,r,e))):t};function l(e){var t=r(e.comparer);return function(n){var r=Array.isArray(n)&&!e.inPlaceSorting?n.slice():n;return{asc:function(e){return o(1,r,e,t)},desc:function(e){return o(-1,r,e,t)},by:function(e){return o(1,r,e,t)}}}}var u=function(e,t,n){return null==e?n:null==t?-n:e<t?-1:e>t?1:0},c=(l({comparer:u}),l({comparer:u,inPlaceSorting:!0})),h=n(150);const d=self.navigator.userAgent.length>0?(0,h.getParser)(self.navigator.userAgent):null,f=(d&&d.isBrowser("chrome"),d&&d.getOS().name,d&&d.isBrowser("firefox"));d&&d.isBrowser("safari");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e){p(this,"sorter",null),this.sorter=c(e)}asc(e){this.sorter.asc(e)}desc(e){this.sorter.desc(e)}}function m(e){return new g(e)}function v(e){if(!(e.length<=0))if(f)for(;e.length>0;)e.pop();else e.length=0}function y(e){for(let t=e.length-1|0,n=0;t>n;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}}new Uint8Array(512)},(e,t,n)=>{"use strict";var r=n(8),i=n(2),s=n(3),a=n(105),o=n(10),l=n(69),u=n(31),c=n(74),h=a.ArrayBuffer,d=a.DataView,f=d.prototype,p=i(h.prototype.slice),g=i(f.getUint8),m=i(f.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:s((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(o(this),e);for(var n=o(this).byteLength,r=l(e,n),i=l(void 0===t?n:t,n),s=new(c(this,h))(u(i-r)),a=new d(this),f=new d(s),v=0;r<i;)m(f,v++,g(a,r++));return s}})},(e,t,n)=>{"use strict";var r,i,s,a=n(143),o=n(11),l=n(0),u=n(5),c=n(14),h=n(12),d=n(42),f=n(54),p=n(19),g=n(18),m=n(17).f,v=n(30),y=n(72),b=n(41),w=n(6),E=n(88),_=l.Int8Array,M=_&&_.prototype,O=l.Uint8ClampedArray,x=O&&O.prototype,A=_&&y(_),S=M&&y(M),T=Object.prototype,R=l.TypeError,P=w("toStringTag"),L=E("TYPED_ARRAY_TAG"),F=E("TYPED_ARRAY_CONSTRUCTOR"),I=a&&!!b&&"Opera"!==d(l.opera),N=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C={BigInt64Array:8,BigUint64Array:8},D=function(e){if(!c(e))return!1;var t=d(e);return h(k,t)||h(C,t)};for(r in k)(s=(i=l[r])&&i.prototype)?p(s,F,i):I=!1;for(r in C)(s=(i=l[r])&&i.prototype)&&p(s,F,i);if((!I||!u(A)||A===Function.prototype)&&(A=function(){throw R("Incorrect invocation")},I))for(r in k)l[r]&&b(l[r],A);if((!I||!S||S===T)&&(S=A.prototype,I))for(r in k)l[r]&&b(l[r].prototype,S);if(I&&y(x)!==S&&b(x,S),o&&!h(S,P))for(r in N=!0,m(S,P,{get:function(){return c(this)?this[L]:void 0}}),k)l[r]&&p(l[r],L,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:F,TYPED_ARRAY_TAG:N&&L,aTypedArray:function(e){if(D(e))return e;throw R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||v(A,e)))return e;throw R(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(o){if(n)for(var i in k){var s=l[i];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(n){try{s.prototype[e]=t}catch(e){}}}S[e]&&!n||g(S,e,n?t:I&&M[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(o){if(b){if(n)for(r in k)if((i=l[r])&&h(i,e))try{delete i[e]}catch(e){}if(A[e]&&!n)return;try{return g(A,e,n?t:I&&A[e]||t)}catch(e){}}for(r in k)!(i=l[r])||i[e]&&!n||g(i,e,t)}},isView:function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(k,t)||h(C,t)},isTypedArray:D,TypedArray:A,TypedArrayPrototype:S}},(e,t,n)=>{"use strict";var r=n(0),i=n(7),s=n(48),a=n(28),o=n(146),l=n(23),u=n(3),c=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=s.aTypedArray,g=s.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(m)return i(f,this,n,t);var r=this.length,s=a(n),u=0;if(s+t>r)throw c("Wrong length");for(;u<s;)this[t+u]=n[u++]}),!m||v)},(e,t,n)=>{"use strict";var r=n(0),i=n(2),s=n(3),a=n(24),o=n(148),l=n(48),u=n(190),c=n(191),h=n(66),d=n(192),f=l.aTypedArray,p=l.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),v=!(!m||s((function(){m(new g(2),null)}))&&s((function(){m(new g(2),{})}))),y=!!m&&!s((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var e,t,n=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));p("sort",(function(e){return void 0!==e&&a(e),y?m(this,e):o(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!y||v)},(e,t,n)=>{"use strict";var r=n(0),i=n(76),s=n(48),a=n(3),o=n(126),l=r.Int8Array,u=s.aTypedArray,c=s.exportTypedArrayMethod,h=[].toLocaleString,d=!!l&&a((function(){h.call(new l(1))}));c("toLocaleString",(function(){return i(h,d?o(u(this)):u(this),o(arguments))}),a((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!a((function(){l.prototype.toLocaleString.call([1,2])})))},(e,t,n)=>{"use strict";n.d(t,{a:()=>c,b:()=>h,c:()=>d,d:()=>l,e:()=>v,f:()=>m,g:()=>u,h:()=>a,i:()=>o,j:()=>g,k:()=>p});n(1),n(4);var r=n(156),i=n(84),s=n(9);const a=[[1,0,0],[0,0,1],[-1,0,0],[0,0,-1],[1,0,1],[-1,0,-1],[1,0,-1],[-1,0,1]],o=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1],[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[0,1,1],[0,-1,1],[0,1,-1],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[1,-1,-1],[-1,1,1],[1,-1,1],[1,1,-1],[-1,-1,1],[1,-1,-1],[-1,1,-1],[-1,-1,-1],[1,1,1]];function l(e,t,n,r){const[i,s,a]=e.getSize();return t<=0||t>=i-1||n<=0||n>=s-1||r<=0||r>=a-1}function u(e,t,n,r,i,s,a,o){return((0|i)*a*s+(0|r)*s+(0|n))*e+t}function c(e,t){const n=t/2,r=Math.ceil(e-n),i=Math.ceil(e+n);if(!(r^i-1))return[r];const s=new Array;for(let t=0|r,a=0|i;t<a;t=t+1|0){const r=t+.5,i=Math.abs(r-e);Math.sqrt(i*i)>n||s.push(t)}return s}function h(e,t,n){const r=n/2,i=Math.floor(e-r),s=Math.floor(t-r),a=Math.ceil(e+r),o=Math.ceil(t+r);if(!(i^a-1|s^o-1))return[i,s];const l=new Array;for(let e=0|i,t=0|a;e<t;e=e+1|0)for(let t=0|s,n=0|o;t<n;t=t+1|0)l.push(e,t);return l}function d(e,t,n,i,s){const a=i/2,o=s,l=Math.floor(e-a),u=Math.floor(t),c=Math.floor(n-a),h=Math.ceil(e+a),d=Math.ceil(t+o),f=Math.ceil(n+a);if(!(l^h-1|u^d-1|c^f-1))return[l,u,c];const p=new Array;for(let a=0|l,o=0|h;a<o;a=a+1|0)for(let o=0|c,l=0|f;o<l;o=o+1|0)for(let l=0|u,c=0|d;l<c;l=l+1|0)(0,r.d)(a,l,o,e,t,n,i,s)&&p.push(a,l,o);return p}function f(e,t,n,r){switch(e){case 0:return t>0?0:1;case 1:return n<0?2:3;case 2:return r>0?4:5}return-1}function p(e,t,n,r,i,a,o,l,u){return function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0;const[c,h,d]=(0,s.f)(e,t);let p=1/c,g=1/h,m=1/d,v=Math.floor(n),y=Math.floor(r),b=Math.floor(i),w=0,E=0,_=0,M=0,O=0,x=0;p>0?(w=1,M=(v+1-n)*p):(p*=-1,w=-1,M=(n-v)*p),g>0?(E=1,O=(y+1-r)*g):(g*=-1,E=-1,O=(r-y)*g),m>0?(_=1,x=(b+1-i)*m):(m*=-1,_=-1,x=(i-b)*m);let A=M<O?M<x?M:x:O<x?O:x,S=M<O?M<x?0:2:O<x?1:2;do{const e=0>v||o[0]<=v||0>y||o[1]<=y||0>b||o[2]<=b||l(v,y,b,A,S,M,O,x,p,g,m,w,E,_);if(e){let t=n+A/p*w,s=r+A/g*E,a=i+A/m*_;switch(S){case 0:t=Math.round(t);break;case 1:s=Math.round(s);break;case 2:a=Math.round(a)}if(u&&u(v,y,b,t,s,a,e,A,S,M,O,x,p,g,m,w,E,_))break;return[t,s,a,A,f(S,w,E,_)]}{const e=M<O?M<x?M:x:O<x?O:x;let t=n+e/p*w,s=r+e/g*E,a=i+e/m*_;switch(M<O?M<x?0:2:O<x?1:2){case 0:t=Math.round(t);break;case 1:s=Math.round(s);break;case 2:a=Math.round(a)}if(u&&u(v,y,b,t,s,a,!1,A,S,M,O,x,p,g,m,w,E,_))break}M<O?M<x?(v+=w,A=M,M+=p,S=0):(b+=_,A=x,x+=m,S=2):O<x?(y+=E,A=O,O+=g,S=1):(b+=_,A=x,x+=m,S=2)}while(A<a);return[-1,-1,-1,-1,f(S,w,E,_)]}((0,s.m)(e),(0,s.m)(t),n,r,i,a,o,l,u)}function g(e,t,n,r,a,o,l,u){const c=(0,s.m)(e),h=(0,s.m)(t);return function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;const[c,h,d]=(0,s.f)(e,t),p=1/c,g=1/h,m=1/d,v=Math.sign(c),y=Math.sign(h),b=Math.sign(d),w=v*p,E=y*g,_=b*m,M=Math.abs(p),O=Math.abs(g),x=Math.abs(m);let A=Math.floor(n),S=Math.floor(r),T=Math.floor(a),R=1/c,P=1/h,L=1/d,F=0,I=0,N=0,k=0,C=0,D=0,U=-1;R>0?(F=1,k=(A+1-n)*R,U=0):(R*=-1,F=-1,k=(n-A)*R,U=1),P>0?(I=1,C=(S+1-r)*P,U=2):(P*=-1,I=-1,C=(r-S)*P,U=3),L>0?(N=1,D=(T+1-a)*L,U=4):(L*=-1,N=-1,D=(a-T)*L,U=5);let B=k<C?k<D?k:D:C<D?C:D,G=k<C?k<D?0:2:C<D?1:2;do{const e=0>A||l[0]<=A||0>S||l[1]<=S||0>T||l[2]<=T?0:u(A,S,T);if(e<=0){let e=n+B/R*F,t=r+B/P*I,i=a+B/L*N;switch(G){case 0:e=Math.round(e);break;case 1:t=Math.round(t);break;case 2:i=Math.round(i)}return[e,t,i,B,f(G,F,I,N)]}const t=Math.floor((0,i.b)(Math.max(0,e-1)/M,0)),s=Math.floor((0,i.b)(Math.max(0,e-1)/O,0)),o=Math.floor((0,i.b)(Math.max(0,e-1)/x,0));k+=t*w,C+=s*E,D+=o*_,A+=t*v,S+=s*y,T+=o*b,k<C?k<D?(A+=F,B=k,k+=R,G=0):(T+=N,B=D,D+=L,G=2):C<D?(S+=I,B=C,C+=P,G=1):(T+=N,B=D,D+=L,G=2)}while(B<o);return[-1,-1,-1,-1,f(G,F,I,N)]}(c<Number.EPSILON&&c>-Number.EPSILON?Number.EPSILON:c,h<Number.EPSILON&&h>-Number.EPSILON?-Number.EPSILON:h,n,r,a,o,l,u)}function m(e,t,n,r,i,a,o,l,u){return function(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0;const[c,h,d]=(0,s.f)(e,t);let f=1/c,p=1/h,g=1/d,m=Math.floor(n),v=Math.floor(r),y=Math.floor(i),b=0,w=0,E=0,_=0,M=0,O=0;f>0?(b=1,_=(m+1-n)*f):(f*=-1,b=-1,_=(n-m)*f),p>0?(w=1,M=(v+1-r)*p):(p*=-1,w=-1,M=(r-v)*p),g>0?(E=1,O=(y+1-i)*g):(g*=-1,E=-1,O=(i-y)*g);let x=_<M?_<O?_:O:M<O?M:O,A=_<M?_<O?0:2:M<O?1:2;do{const e=0>m||o[0]<=m||0>v||o[1]<=v||0>y||o[2]<=y||l(m,v,y,x,A,_,M,O,f,p,g,b,w,E);if(e){let t=n+x/f*b,s=r+x/p*w,a=i+x/g*E;switch(A){case 0:t=Math.round(t);break;case 1:s=Math.round(s);break;case 2:a=Math.round(a)}if(u&&u(m,v,y,t,s,a,e,x,A,_,M,O,f,p,g,b,w,E))break;return!0}{const e=_<M?_<O?_:O:M<O?M:O;let t=n+e/f*b,s=r+e/p*w,a=i+e/g*E;switch(_<M?_<O?0:2:M<O?1:2){case 0:t=Math.round(t);break;case 1:s=Math.round(s);break;case 2:a=Math.round(a)}if(u&&u(m,v,y,t,s,a,!1,x,A,_,M,O,f,p,g,b,w,E))break}_<M?_<O?(m+=b,x=_,_+=f,A=0):(y+=E,x=O,O+=g,A=2):M<O?(v+=w,x=M,M+=p,A=1):(y+=E,x=O,O+=g,A=2)}while(x<a);return!1}((0,s.m)(e),(0,s.m)(t),n,r,i,a,o,l,u)}function v(e,t,n,r,a,o,l,u){const c=(0,s.m)(e),h=(0,s.m)(t);return function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;const[c,h,d]=(0,s.f)(e,t),f=1/c,p=1/h,g=1/d,m=Math.sign(c),v=Math.sign(h),y=Math.sign(d),b=m*f,w=v*p,E=y*g,_=Math.abs(f),M=Math.abs(p),O=Math.abs(g);let x=Math.floor(n),A=Math.floor(r),S=Math.floor(a),T=1/c,R=1/h,P=1/d,L=0,F=0,I=0,N=0,k=0,C=0;T>0?(L=1,N=(x+1-n)*T):(T*=-1,L=-1,N=(n-x)*T),R>0?(F=1,k=(A+1-r)*R):(R*=-1,F=-1,k=(r-A)*R),P>0?(I=1,C=(S+1-a)*P):(P*=-1,I=-1,C=(a-S)*P);let D=N<k?N<C?N:C:k<C?k:C,U=N<k?N<C?0:2:k<C?1:2;do{const e=0>x||l[0]<=x||0>A||l[1]<=A||0>S||l[2]<=S?0:u(x,A,S);if(e<=0)return!0;const t=Math.floor((0,i.b)(Math.max(0,e-1)/_,0)),n=Math.floor((0,i.b)(Math.max(0,e-1)/M,0)),r=Math.floor((0,i.b)(Math.max(0,e-1)/O,0));N+=t*b,k+=n*w,C+=r*E,x+=t*m,A+=n*v,S+=r*y,N<k?N<C?(x+=L,D=N,N+=T,U=0):(S+=I,D=C,C+=P,U=2):k<C?(A+=F,D=k,k+=R,U=1):(S+=I,D=C,C+=P,U=2)}while(D<o);return!1}(c<Number.EPSILON&&c>-Number.EPSILON?Number.EPSILON:c,h<Number.EPSILON&&h>-Number.EPSILON?-Number.EPSILON:h,n,r,a,o,l,u)}},(e,t,n)=>{var r=n(64),i=n(29);e.exports=function(e){return r(i(e))}},(e,t,n)=>{var r=n(0).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},e=>{e.exports={}},(e,t,n)=>{var r=n(36),i=n(0);e.exports="process"==r(i.process)},(e,t,n)=>{var r=n(0),i=n(30),s=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw s("Incorrect invocation")}},(e,t,n)=>{var r=n(0),i=n(43),s=n(5),a=n(95),o=n(70),l=n(6),u=n(170),c=n(22),h=n(66),d=i&&i.prototype,f=l("species"),p=!1,g=s(r.PromiseRejectionEvent),m=a("Promise",(function(){var e=o(i),t=e!==String(i);if(!t&&66===h)return!0;if(c&&(!d.catch||!d.finally))return!0;if(h>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[f]=r,!(p=n.then((function(){}))instanceof r)||!t&&u&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},(e,t,n)=>{var r=n(42),i=n(38),s=n(55),a=n(6)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||s[r(e)]}},(e,t,n)=>{var r=n(0),i=n(123),s=n(124),a=n(173),o=n(19),l=function(e){if(e&&e.forEach!==a)try{o(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in i)i[u]&&l(r[u]&&r[u].prototype);l(s)},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});n(33),n(181),n(141);function r(){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=0|e.length;t<n;t=t+1|0)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a,b:()=>s,c:()=>l,d:()=>i,e:()=>u,f:()=>o});var r=n(44);const i=new r.a("main"),s=new r.a("http"),a=new r.a("file"),o=(new r.a("stylesheet"),new r.a("pointer-lock"),new r.a("screen")),l=new r.a("local-storage"),u=(new r.a("device"),new r.a("platform"))},(e,t,n)=>{n(26)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{var r=n(0),i=n(2),s=n(3),a=n(36),o=r.Object,l=i("".split);e.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):o(e)}:o},(e,t,n)=>{var r=n(3);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t,n)=>{var r,i,s=n(0),a=n(34),o=s.process,l=s.Deno,u=o&&o.versions||l&&l.version,c=u&&u.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},(e,t,n)=>{var r=n(0),i=n(14),s=r.document,a=i(s)&&i(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},(e,t,n)=>{var r=n(157),i=n(89);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},(e,t,n)=>{var r=n(35),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},(e,t,n)=>{var r=n(2),i=n(5),s=n(86),a=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return a(e)}),e.exports=s.inspectSource},(e,t,n)=>{var r=n(11),i=n(12),s=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,o=i(s,"name"),l=o&&"something"===function(){}.name,u=o&&(!r||r&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:u}},(e,t,n)=>{var r=n(0),i=n(12),s=n(5),a=n(23),o=n(92),l=n(163),u=o("IE_PROTO"),c=r.Object,h=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof c?h:null}},(e,t,n)=>{"use strict";var r=n(27),i=n(17),s=n(6),a=n(11),o=s("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},(e,t,n)=>{var r=n(10),i=n(125),s=n(6)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[s])?t:i(n)}},(e,t,n)=>{var r,i,s,a,o=n(0),l=n(76),u=n(32),c=n(5),h=n(12),d=n(3),f=n(117),p=n(126),g=n(67),m=n(77),v=n(127),y=n(56),b=o.setImmediate,w=o.clearImmediate,E=o.process,_=o.Dispatch,M=o.Function,O=o.MessageChannel,x=o.String,A=0,S={},T="onreadystatechange";try{r=o.location}catch(e){}var R=function(e){if(h(S,e)){var t=S[e];delete S[e],t()}},P=function(e){return function(){R(e)}},L=function(e){R(e.data)},F=function(e){o.postMessage(x(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){m(arguments.length,1);var t=c(e)?e:M(e),n=p(arguments,1);return S[++A]=function(){l(t,void 0,n)},i(A),A},w=function(e){delete S[e]},y?i=function(e){E.nextTick(P(e))}:_&&_.now?i=function(e){_.now(P(e))}:O&&!v?(a=(s=new O).port2,s.port1.onmessage=L,i=u(a.postMessage,a)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&r&&"file:"!==r.protocol&&!d(F)?(i=F,o.addEventListener("message",L,!1)):i=T in g("script")?function(e){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),R(e)}}:function(e){setTimeout(P(e),0)}),e.exports={set:b,clear:w}},(e,t,n)=>{var r=n(65),i=Function.prototype,s=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(s):function(){return a.apply(s,arguments)})},(e,t,n)=>{var r=n(0).TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},(e,t,n)=>{"use strict";var r=n(24),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},(e,t,n)=>{var r=n(0),i=n(7),s=n(24),a=n(10),o=n(54),l=n(59),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(s(n))return a(i(n,e));throw u(o(e)+" is not iterable")}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(149),i=n.n(r);function s(e){return i()(e)}},(e,t,n)=>{"use strict";var r,i,s=n(7),a=n(2),o=n(16),l=n(136),u=n(100),c=n(85),h=n(37),d=n(25).get,f=n(137),p=n(138),g=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=a("".charAt),b=a("".indexOf),w=a("".replace),E=a("".slice),_=(i=/b*/g,s(m,r=/a/,"a"),s(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),M=u.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(_||O||M||f||p)&&(v=function(e){var t,n,r,i,a,u,c,f=this,p=d(f),x=o(e),A=p.raw;if(A)return A.lastIndex=f.lastIndex,t=s(v,A,x),f.lastIndex=A.lastIndex,t;var S=p.groups,T=M&&f.sticky,R=s(l,f),P=f.source,L=0,F=x;if(T&&(R=w(R,"y",""),-1===b(R,"g")&&(R+="g"),F=E(x,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(x,f.lastIndex-1))&&(P="(?: "+P+")",F=" "+F,L++),n=new RegExp("^(?:"+P+")",R)),O&&(n=new RegExp("^"+P+"$(?!\\s)",R)),_&&(r=f.lastIndex),i=s(m,T?n:f,F),T?i?(i.input=E(i.input,L),i[0]=E(i[0],L),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:_&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),O&&i&&i.length>1&&s(g,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&S)for(i.groups=u=h(null),a=0;a<S.length;a++)u[(c=S[a])[0]]=i[c[1]];return i}),e.exports=v},(e,t,n)=>{var r=n(0),i=n(69),s=n(28),a=n(140),o=r.Array,l=Math.max;e.exports=function(e,t,n){for(var r=s(e),u=i(t,r),c=i(void 0===n?r:n,r),h=o(l(c-u,0)),d=0;u<c;u++,d++)a(h,d,e[u]);return h.length=d,h}},(e,t,n)=>{"use strict";n.d(t,{a:()=>l,b:()=>s,c:()=>a,d:()=>u});n(1),n(4),n(33),n(47),n(238),n(49),n(50),n(51),n(239),n(193),n(106),n(240),n(241),n(242),n(63),n(243),n(244);const r=new Map;function i(e,t){let n;const r=e.toLowerCase();switch(!0){case/^int[0-9]+$/.test(r):switch(r){case"int8":n=new Int8Array(t);break;case"int16":n=new Int16Array(t);break;case"int32":n=new Int32Array(t)}break;case/^uint[0-9]+$/.test(r):switch(r){case"uint8":n=new Uint8Array(t);break;case"uint16":n=new Uint16Array(t);break;case"uint32":n=new Uint32Array(t)}break;case"uint8clamped"===r:n=new Uint8ClampedArray(t);break;case/^float[0-9]+$/.test(r):switch(r){case"float32":n=new Float32Array(t);break;case"float64":n=new Float64Array(t)}}if(!n)throw new Error("Not found array type was ".concat(e));return n}function s(e,t){const n=r.has(e)?r.get(e):l(e,1,!0);return n?(r.set(e,n),n[0]=t,n[0]):t}function a(){return"SharedArrayBuffer"in self}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=i(e,t).byteLength;return!n&&a()?new SharedArrayBuffer(r):new ArrayBuffer(r)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(e,o(e,t,n))}function u(e,t,n,r,i){e[t*n+r]=i}},(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>r,c:()=>s});n(1),n(47),n(106),n(49),n(50),n(51),n(63);function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.floor;return isNaN(e)||e===1/0?t:-1===n?e:r(Math.abs(e)*n)/n*Math.sign(e)}function i(e,t,n){return Math.min(n,Math.max(t,e))}function s(e){return i(e,0,1)}},(e,t,n)=>{var r=n(22),i=n(86);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},(e,t,n)=>{var r=n(0),i=n(87),s="__core-js_shared__",a=r[s]||i(s,{});e.exports=a},(e,t,n)=>{var r=n(0),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},(e,t,n)=>{var r=n(2),i=0,s=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+s,36)}},(e,t,n)=>{var r=n(0),i=n(27),s=n(5),a=n(30),o=n(111),l=r.Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&a(t.prototype,l(e))}},e=>{e.exports={}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,n)=>{var r=n(85),i=n(88),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},(e,t,n)=>{var r=n(11),i=n(7),s=n(160),a=n(39),o=n(53),l=n(68),u=n(12),c=n(113),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=o(e),t=l(t),c)try{return h(e,t)}catch(e){}if(u(e,t))return a(!i(s.f,e,t),e[t])}},(e,t,n)=>{var r=n(115),i=n(91).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},(e,t,n)=>{var r=n(3),i=n(5),s=/#|\.prototype\./,a=function(e,t){var n=l[o(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},(e,t,n)=>{var r=n(2),i=n(3),s=n(5),a=n(42),o=n(27),l=n(70),u=function(){},c=[],h=o("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(u),g=function(e){if(!s(e))return!1;try{return h(u,c,e),!0}catch(e){return!1}},m=function(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!h||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},(e,t,n)=>{var r=n(6),i=n(55),s=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[s]===e)}},(e,t,n)=>{var r=n(14),i=n(36),s=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},(e,t,n)=>{var r=n(3),i=n(0).RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!i("a","y").sticky})),o=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},(e,t,n)=>{"use strict";n(33);var r=n(2),i=n(18),s=n(81),a=n(3),o=n(6),l=n(19),u=o("species"),c=RegExp.prototype;e.exports=function(e,t,n,h){var d=o(e),f=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var g=r(/./[d]),m=t(d,""[e],(function(e,t,n,i,a){var o=r(e),l=t.exec;return l===s||l===c.exec?f&&!a?{done:!0,value:g(t,n,i)}:{done:!0,value:o(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(c,d,m[1])}h&&l(c[d],"sham",!0)}},(e,t,n)=>{"use strict";var r=n(103).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},(e,t,n)=>{var r=n(2),i=n(35),s=n(16),a=n(29),o=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,h=s(a(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=l(h,d))<55296||r>56319||d+1===f||(c=l(h,d+1))<56320||c>57343?e?o(h,d):r:e?u(h,d,d+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},(e,t,n)=>{var r=n(0),i=n(7),s=n(10),a=n(5),o=n(36),l=n(81),u=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=i(n,e,t);return null!==r&&s(r),r}if("RegExp"===o(e))return i(l,e,t);throw u("RegExp#exec called on incompatible receiver")}},(e,t,n)=>{"use strict";var r=n(0),i=n(2),s=n(11),a=n(143),o=n(71),l=n(19),u=n(144),c=n(3),h=n(57),d=n(35),f=n(31),p=n(145),g=n(184),m=n(72),v=n(41),y=n(94).f,b=n(17).f,w=n(185),E=n(82),_=n(40),M=n(25),O=o.PROPER,x=o.CONFIGURABLE,A=M.get,S=M.set,T="ArrayBuffer",R="DataView",P="Wrong index",L=r.ArrayBuffer,F=L,I=F&&F.prototype,N=r.DataView,k=N&&N.prototype,C=Object.prototype,D=r.Array,U=r.RangeError,B=i(w),G=i([].reverse),j=g.pack,z=g.unpack,Y=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},X=function(e){return j(e,23,4)},q=function(e){return j(e,52,8)},K=function(e,t){b(e.prototype,t,{get:function(){return A(this)[t]}})},Z=function(e,t,n,r){var i=p(n),s=A(e);if(i+t>s.byteLength)throw U(P);var a=A(s.buffer).bytes,o=i+s.byteOffset,l=E(a,o,o+t);return r?l:G(l)},J=function(e,t,n,r,i,s){var a=p(n),o=A(e);if(a+t>o.byteLength)throw U(P);for(var l=A(o.buffer).bytes,u=a+o.byteOffset,c=r(+i),h=0;h<t;h++)l[u+h]=c[s?h:t-h-1]};if(a){var Q=O&&L.name!==T;if(c((function(){L(1)}))&&c((function(){new L(-1)}))&&!c((function(){return new L,new L(1.5),new L(NaN),Q&&!x})))Q&&x&&l(L,"name",T);else{(F=function(e){return h(this,I),new L(p(e))}).prototype=I;for(var $,ee=y(L),te=0;ee.length>te;)($=ee[te++])in F||l(F,$,L[$]);I.constructor=F}v&&m(k)!==C&&v(k,C);var ne=new N(new F(2)),re=i(k.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||u(k,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else I=(F=function(e){h(this,I);var t=p(e);S(this,{bytes:B(D(t),0),byteLength:t}),s||(this.byteLength=t)}).prototype,k=(N=function(e,t,n){h(this,k),h(e,I);var r=A(e).byteLength,i=d(t);if(i<0||i>r)throw U("Wrong offset");if(i+(n=void 0===n?r-i:f(n))>r)throw U("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:i}),s||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,s&&(K(F,"byteLength"),K(N,"buffer"),K(N,"byteLength"),K(N,"byteOffset")),u(k,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,Y,t)},setUint8:function(e,t){J(this,1,e,Y,t)},setInt16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,X,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,q,t,arguments.length>2?arguments[2]:void 0)}});_(F,T),_(N,R),e.exports={ArrayBuffer:F,DataView:N}},(e,t,n)=>{n(26)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>c});n(33),n(1),n(4),n(15),n(47),n(63),n(49),n(50),n(51);var i=n(228),s=n(201),a=(n(233),e([s]));s=(a.then?(await a)():a)[0];self,c(0,0).getContext("2d"),c(0,0).getContext("webgl"),c(0,0).getContext("webgl2");const o=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("2d"))})),l=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("webgl"))})),u=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("webgl2"))}));await o.exec(),await l.exec(),await u.exec();o.terminate(),l.terminate(),u.terminate();new WeakMap,new WeakMap;function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"OffscreenCanvas"in self?new OffscreenCanvas(e,t):(()=>{const n=document.createElement("canvas");return n.width=0|e,n.height=0|t,n})()}r()}catch(h){r(h)}}),1)},(e,t,n)=>{"use strict";n.d(t,{a:()=>p});n(15),n(180),n(1),n(4),n(151),n(154),n(33),n(232),n(141),n(139),n(194);function r(e){return btoa(unescape(encodeURIComponent(e)))}var i=n(231),s=n(45),a=n(61),o=n(62),l=n(13),u=n(44);function c(e,t){switch(e.toLowerCase()){case"text":return t.text();case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json();case"xml":return t.text().then((e=>(new DOMParser).parseFromString(e,"text/xml")));case"html":return t.text().then((e=>(new DOMParser).parseFromString(e,"text/html")))}return null}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"GET",mode:"cors",cache:"no-store",credentials:"same-origin"};const r=await(0,i.a)(e,n).then((async e=>e.ok?await c(t,e):null)).catch((e=>(console.error(e),null)));return r}async function d(e){let t=null;0;try{const n=prompt(e);null!==n&&(t=await h(n,"text"))}catch(e){console.error(e)}finally{0}return t}async function f(e,t,n,i,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=a?e:"".concat(prompt("enter file name")||e).concat(n?"."+n[0]:"");switch(i){case"text":s="data:".concat(t?t[0]:"",";charset=utf-8;base64,").concat(r(s));break;case"blob":s=URL.createObjectURL(new Blob([s],{type:t[0]}))}const c=document.createElement("a");c.href=s,c.download=o,document.body.appendChild(c),c.click(),c.remove(),"blob"===i&&URL.revokeObjectURL(s),await new Promise((e=>{const t=()=>{(0,l.d)((0,u.d)(),"focus",t),e(null)};(0,l.b)((0,u.d)(),"focus",t)}))}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2?arguments[2]:void 0,r=e;if(/^(data|blob):/.test(e)||new RegExp("^".concat(location.origin)).test(e))r=e;else if("file:"!==location.protocol){const t=/^http:\/\/[^\/]+\/$|^file:\/\/[^\/]+\/$|^http:\/\/$|^file:\/\/$/.test(location.origin)?location.origin.substring(0,location.origin.length-1):location.origin,n=(/^http:\/\/|^file:\/\//.test(location.pathname)||0===location.pathname.length?"/":location.pathname).replace(/\/[^\/]+$/,"/");r="".concat(t).concat(n).concat(e.replace(/^\.\/|^\//,""))}const i=await h(r,t,n);if(null===i)throw new Error("Not found file is ".concat(e));return{source:i,src:r}}(0,s.b)()||(0,l.b)(o.a,"message",(async e=>{const{data:t}=e;if(!(t instanceof Object))return;let n=null;switch(t.method){case"open":n=await async function(e,t,n){return(0,s.b)()?await new Promise((r=>{const i=(0,a.a)(),s=e=>{const{data:t}=e;if(t instanceof Object&&i===t.key&&"return"===t.method)(0,l.d)(o.a,"message",s),t.value&&r(t.value)};(0,l.b)(o.a,"message",s),o.a.postMessage({method:"open",description:e,mimeTypes:t,extensions:n,key:i})})):"showOpenFilePicker"in window&&self.isSecureContext?await async function(e,t,n){let r=null;0;try{if("electron"in self)r=await self.electron.openFile(e,n);else{const i=(await showOpenFilePicker({types:[{description:e,accept:(()=>{const e={};return e[t[0]]=n.map((e=>".".concat(e))),e})()}]}))[0];if("granted"===await i.requestPermission({mode:"read"})){const e=await i.getFile();r=await e.text()}else d(e)}}catch(e){console.error(e.message)}finally{0}return r}(e,t,n):d(e)}(t.description,t.mimeTypes,t.extensions);break;case"save":await async function(e,t,n,r,i){(0,s.b)()?await new Promise((s=>{const u=(0,a.a)(),c=e=>{const{data:t}=e;if(t instanceof Object&&u===t.key&&"return"===t.method)(0,l.d)(o.a,"message",c),s(null)};(0,l.b)(o.a,"message",c),o.a.postMessage({method:"save",description:e,mimeTypes:t,extensions:n,type:r,text:i,key:u})})):"showSaveFilePicker"in self&&self.isSecureContext?await async function(e,t,n,r,i){let s="boxengine-file".concat(n?"."+n[0]:""),a=null;0;try{if("electron"in self)await self.electron.saveFile(i,e,n);else{const r=await self.showSaveFilePicker({excludeAcceptAllOption:!1,types:[{description:e,accept:(()=>{const e={};return e[t[0]]=n.map((e=>".".concat(e))),e})()}]});if(s=r.name,"granted"!==await r.requestPermission({mode:"readwrite"}))throw"can't save file.";a=await r.createWritable(),await a.write(i)}}catch(e){console.error(e),await f(s,t,n,r,i instanceof Function?i():i,!0)}finally{null!==a&&await a.close()}}(e,t,n,r,i):f("boxengine-file",t,n,r,i instanceof Function?i():i)}(t.description,t.mimeTypes,t.extensions,t.type,t.text)}o.a.postMessage({method:"return",value:n,key:t.key})}))},(e,t,n)=>{var r=n(6),i=n(37),s=n(17),a=r("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:i(null)}),e.exports=function(e){o[a][e]=!0}},(e,t,n)=>{var r=n(66),i=n(3);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},(e,t,n)=>{var r=n(110);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,n)=>{var r=n(11),i=n(3);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,n)=>{var r=n(11),i=n(3),s=n(67);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var r=n(115),i=n(91);e.exports=Object.keys||function(e){return r(e,i)}},(e,t,n)=>{var r=n(2),i=n(12),s=n(53),a=n(116).indexOf,o=n(90),l=r([].push);e.exports=function(e,t){var n,r=s(e),u=0,c=[];for(n in r)!i(o,n)&&i(r,n)&&l(c,n);for(;t.length>u;)i(r,n=t[u++])&&(~a(c,n)||l(c,n));return c}},(e,t,n)=>{var r=n(53),i=n(69),s=n(28),a=function(e){return function(t,n,a){var o,l=r(t),u=s(l),c=i(a,u);if(e&&n!=n){for(;u>c;)if((o=l[c++])!=o)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},(e,t,n)=>{var r=n(27);e.exports=r("document","documentElement")},(e,t,n)=>{"use strict";var r=n(8),i=n(7),s=n(22),a=n(71),o=n(5),l=n(121),u=n(72),c=n(41),h=n(40),d=n(19),f=n(18),p=n(6),g=n(55),m=n(122),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),_="keys",M="values",O="entries",x=function(){return this};e.exports=function(e,t,n,a,p,m,A){l(n,t,a);var S,T,R,P=function(e){if(e===p&&k)return k;if(!w&&e in I)return I[e];switch(e){case _:case M:case O:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",F=!1,I=e.prototype,N=I[E]||I["@@iterator"]||p&&I[p],k=!w&&N||P(p),C="Array"==t&&I.entries||N;if(C&&(S=u(C.call(new e)))!==Object.prototype&&S.next&&(s||u(S)===b||(c?c(S,b):o(S[E])||f(S,E,x)),h(S,L,!0,!0),s&&(g[L]=x)),v&&p==M&&N&&N.name!==M&&(!s&&y?d(I,"name",M):(F=!0,k=function(){return i(N,this)})),p)if(T={values:P(M),keys:m?k:P(_),entries:P(O)},A)for(R in T)(w||F||!(R in I))&&f(I,R,T[R]);else r({target:t,proto:!0,forced:w||F},T);return s&&!A||I[E]===k||f(I,E,k,{name:p}),g[t]=k,T}},(e,t,n)=>{var r=n(3),i=n(5),s=n(12),a=n(11),o=n(71).CONFIGURABLE,l=n(70),u=n(25),c=u.enforce,h=u.get,d=Object.defineProperty,f=a&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||o&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),f&&n&&s(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity}),n&&s(n,"constructor")&&n.constructor){if(a)try{d(e,"prototype",{writable:!1})}catch(e){}}else e.prototype=void 0;var r=c(e);return s(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&h(this).source||l(this)}),"toString")},(e,t,n)=>{var r=n(12),i=n(161),s=n(93),a=n(17);e.exports=function(e,t,n){for(var o=i(t),l=a.f,u=s.f,c=0;c<o.length;c++){var h=o[c];r(e,h)||n&&r(n,h)||l(e,h,u(t,h))}}},(e,t,n)=>{"use strict";var r=n(122).IteratorPrototype,i=n(37),s=n(39),a=n(40),o=n(55),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:s(+!u,n)}),a(e,c,!1,!0),o[c]=l,e}},(e,t,n)=>{"use strict";var r,i,s,a=n(3),o=n(5),l=n(37),u=n(72),c=n(18),h=n(6),d=n(22),f=h("iterator"),p=!1;[].keys&&("next"in(s=[].keys())?(i=u(u(s)))!==Object.prototype&&(r=i):p=!0),null==r||a((function(){var e={};return r[f].call(e)!==e}))?r={}:d&&(r=l(r)),o(r[f])||c(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(e,t,n)=>{var r=n(67)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},(e,t,n)=>{var r=n(0),i=n(96),s=n(54),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(s(e)+" is not a constructor")}},(e,t,n)=>{var r=n(2);e.exports=r([].slice)},(e,t,n)=>{var r=n(34);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(e,t,n)=>{var r,i,s,a,o,l,u,c,h=n(0),d=n(32),f=n(93).f,p=n(75).set,g=n(127),m=n(166),v=n(167),y=n(56),b=h.MutationObserver||h.WebKitMutationObserver,w=h.document,E=h.process,_=h.Promise,M=f(h,"queueMicrotask"),O=M&&M.value;O||(r=function(){var e,t;for(y&&(e=E.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():s=void 0,e}}s=void 0,e&&e.enter()},g||y||v||!b||!w?!m&&_&&_.resolve?((u=_.resolve(void 0)).constructor=_,c=d(u.then,u),a=function(){c(r)}):y?a=function(){E.nextTick(r)}:(p=d(p,h),a=function(){p(r)}):(o=!0,l=w.createTextNode(""),new b(r).observe(l,{characterData:!0}),a=function(){l.data=o=!o})),e.exports=O||function(e){var t={fn:e,next:void 0};s&&(s.next=t),i||(i=t,a()),s=t}},(e,t,n)=>{var r=n(0),i=n(32),s=n(7),a=n(10),o=n(54),l=n(98),u=n(28),c=n(30),h=n(79),d=n(59),f=n(130),p=r.TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,n){var r,v,y,b,w,E,_,M=n&&n.that,O=!(!n||!n.AS_ENTRIES),x=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),S=i(t,M),T=function(e){return r&&f(r,"normal",e),new g(!0,e)},R=function(e){return O?(a(e),A?S(e[0],e[1],T):S(e[0],e[1])):A?S(e,T):S(e)};if(x)r=e;else{if(!(v=d(e)))throw p(o(e)+" is not iterable");if(l(v)){for(y=0,b=u(e);b>y;y++)if((w=R(e[y]))&&c(m,w))return w;return new g(!1)}r=h(e,v)}for(E=r.next;!(_=s(E,r)).done;){try{w=R(_.value)}catch(e){f(r,"throw",e)}if("object"==typeof w&&w&&c(m,w))return w}return new g(!1)}},(e,t,n)=>{var r=n(7),i=n(10),s=n(38);e.exports=function(e,t,n){var a,o;i(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw n;if(o)throw a;return i(a),n}},(e,t,n)=>{var r=n(43),i=n(132),s=n(58).CONSTRUCTOR;e.exports=s||!i((function(e){r.all(e).then(void 0,(function(){}))}))},(e,t,n)=>{var r=n(6)("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},(e,t,n)=>{var r=n(10),i=n(14),s=n(78);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},(e,t,n)=>{var r=n(32),i=n(2),s=n(64),a=n(23),o=n(28),l=n(174),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,m,v){for(var y,b,w=a(p),E=s(w),_=r(g,m),M=o(E),O=0,x=v||l,A=t?x(p,M):n||d?x(p,0):void 0;M>O;O++)if((f||O in E)&&(b=_(y=E[O],O,w),e))if(t)A[O]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:u(A,y)}else switch(e){case 4:return!1;case 7:u(A,y)}return h?-1:i||c?c:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},(e,t,n)=>{"use strict";var r=n(3);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},(e,t,n)=>{"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},(e,t,n)=>{var r=n(3),i=n(0).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},(e,t,n)=>{var r=n(3),i=n(0).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},(e,t,n)=>{"use strict";var r=n(76),i=n(7),s=n(2),a=n(101),o=n(3),l=n(10),u=n(5),c=n(35),h=n(31),d=n(16),f=n(29),p=n(102),g=n(38),m=n(177),v=n(104),y=n(6)("replace"),b=Math.max,w=Math.min,E=s([].concat),_=s([].push),M=s("".indexOf),O=s("".slice),x="$0"==="a".replace(/./,"$0"),A=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var s=A?"$":"$0";return[function(e,n){var r=f(this),s=null==e?void 0:g(e,y);return s?i(s,e,r,n):i(t,d(r),e,n)},function(e,i){var a=l(this),o=d(e);if("string"==typeof i&&-1===M(i,s)&&-1===M(i,"$<")){var f=n(t,a,o,i);if(f.done)return f.value}var g=u(i);g||(i=d(i));var y=a.global;if(y){var x=a.unicode;a.lastIndex=0}for(var A=[];;){var S=v(a,o);if(null===S)break;if(_(A,S),!y)break;""===d(S[0])&&(a.lastIndex=p(o,h(a.lastIndex),x))}for(var T,R="",P=0,L=0;L<A.length;L++){for(var F=d((S=A[L])[0]),I=b(w(c(S.index),o.length),0),N=[],k=1;k<S.length;k++)_(N,void 0===(T=S[k])?T:String(T));var C=S.groups;if(g){var D=E([F],N,I,o);void 0!==C&&_(D,C);var U=d(r(i,void 0,D))}else U=m(F,o,I,N,C,i);I>=P&&(R+=O(o,P,I)+U,P=I+F.length)}return R+O(o,P)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!x||A)},(e,t,n)=>{"use strict";var r=n(68),i=n(17),s=n(39);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,s(0,n)):e[a]=n}},(e,t,n)=>{"use strict";var r=n(71).PROPER,i=n(18),s=n(10),a=n(16),o=n(3),l=n(142),u="toString",c=RegExp.prototype.toString,h=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=r&&c.name!=u;(h||d)&&i(RegExp.prototype,u,(function(){var e=s(this);return"/"+a(e.source)+"/"+a(l(e))}),{unsafe:!0})},(e,t,n)=>{var r=n(7),i=n(12),s=n(30),a=n(136),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||i(e,"flags")||!s(o,e)?t:r(a,e)}},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,n)=>{var r=n(18);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},(e,t,n)=>{var r=n(0),i=n(35),s=n(31),a=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=s(t);if(t!==n)throw a("Wrong length or index");return n}},(e,t,n)=>{var r=n(0),i=n(188),s=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw s("Wrong offset");return n}},(e,t,n)=>{var r=n(5),i=n(14),s=n(41);e.exports=function(e,t,n){var a,o;return s&&r(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&s(e,o),e}},(e,t,n)=>{var r=n(82),i=Math.floor,s=function(e,t){var n=e.length,l=i(n/2);return n<8?a(e,t):o(e,s(r(e,0,l),t),s(r(e,l),t),t)},a=function(e,t){for(var n,r,i=e.length,s=1;s<i;){for(r=s,n=e[s];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==s++&&(e[r]=n)}return e},o=function(e,t,n,r){for(var i=t.length,s=n.length,a=0,o=0;a<i||o<s;)e[a+o]=a<i&&o<s?r(t[a],n[o])<=0?t[a++]:n[o++]:a<i?t[a++]:n[o++];return e};e.exports=s},function(e,t,n){e.exports=function(){"use strict";var e=Function.prototype.toString,t=Object.create,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.getPrototypeOf,l=Object.prototype,u=l.hasOwnProperty,c=l.propertyIsEnumerable,h="function"==typeof a,d="function"==typeof WeakMap,f=function(){if(d)return function(){return new WeakMap};var e=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}();return function(){return new e}}(),p=function(n,r){var i=n.__proto__||o(n);if(!i)return t(null);var s=i.constructor;if(s===r.Object)return i===r.Object.prototype?{}:t(i);if(~e.call(s).indexOf("[native code]"))try{return new s}catch(e){}return t(i)},g=function(e,t,n,r){var i=p(e,t);for(var s in r.set(e,i),e)u.call(e,s)&&(i[s]=n(e[s],r));if(h)for(var o=a(e),l=0,d=o.length,f=void 0;l<d;++l)f=o[l],c.call(e,f)&&(i[f]=n(e[f],r));return i},m=function(e,t,n,o){var l=p(e,t);o.set(e,l);for(var u=h?s(e).concat(a(e)):s(e),c=0,d=u.length,f=void 0,g=void 0;c<d;++c)if("callee"!==(f=u[c])&&"caller"!==f)if(g=i(e,f)){g.get||g.set||(g.value=n(e[f],o));try{r(l,f,g)}catch(e){l[f]=g.value}}else l[f]=n(e[f],o);return l},v=function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},y=Array.isArray,b=Object.getPrototypeOf,w=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function E(e,t){var n=!(!t||!t.isStrict),r=t&&t.realm||w,i=n?m:g,s=function(e,t){if(!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var a,o=e.__proto__||b(e),l=o&&o.constructor;if(!l||l===r.Object)return i(e,r,s,t);if(y(e)){if(n)return m(e,r,s,t);a=new l,t.set(e,a);for(var u=0,c=e.length;u<c;++u)a[u]=s(e[u],t);return a}if(e instanceof r.Date)return new l(e.getTime());if(e instanceof r.RegExp)return(a=new l(e.source,e.flags||v(e))).lastIndex=e.lastIndex,a;if(r.Map&&e instanceof r.Map)return a=new l,t.set(e,a),e.forEach((function(e,n){a.set(n,s(e,t))})),a;if(r.Set&&e instanceof r.Set)return a=new l,t.set(e,a),e.forEach((function(e){a.add(s(e,t))})),a;if(r.Blob&&e instanceof r.Blob)return e.slice(0,e.size,e.type);if(r.Buffer&&r.Buffer.isBuffer(e))return a=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(e.length):new l(e.length),t.set(e,a),e.copy(a),a;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(e))return a=new l(e.buffer.slice(0)),t.set(e,a),a;if(e instanceof r.ArrayBuffer)return a=e.slice(0),t.set(e,a),a}return"function"==typeof e.then||e instanceof Error||r.WeakMap&&e instanceof r.WeakMap||r.WeakSet&&e instanceof r.WeakSet?e:i(e,r,s,t)};return s(e,f())}return E.default=E,E.strict=function(e,t){return E(e,{isStrict:!0,realm:t?t.realm:void 0})},E}()},function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(n),a=Math.max(i,s),o=0,l=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=s.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=o,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),i=l(n(93)),s=l(n(94)),a=l(n(95)),o=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),l=o.default.find(a,(function(e){return t.isOS(e)}));if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var h=this.satisfies(n[c]);if(void 0!==h)return h}}if(s>0){var d=Object.keys(i),f=o.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:s.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:s.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:s.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},(e,t,n)=>{n(229)},(e,t,n)=>{var r=n(3),i=n(6),s=n(22),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},(e,t,n)=>{"use strict";n(1);var r=n(8),i=n(0),s=n(7),a=n(2),o=n(11),l=n(152),u=n(18),c=n(144),h=n(40),d=n(121),f=n(25),p=n(57),g=n(5),m=n(12),v=n(32),y=n(42),b=n(10),w=n(14),E=n(16),_=n(37),M=n(39),O=n(79),x=n(59),A=n(77),S=n(6),T=n(148),R=S("iterator"),P="URLSearchParams",L="URLSearchParamsIterator",F=f.set,I=f.getterFor(P),N=f.getterFor(L),k=Object.getOwnPropertyDescriptor,C=function(e){if(!o)return i[e];var t=k(i,e);return t&&t.value},D=C("fetch"),U=C("Request"),B=C("Headers"),G=U&&U.prototype,j=B&&B.prototype,z=i.RegExp,Y=i.TypeError,H=i.decodeURIComponent,W=i.encodeURIComponent,V=a("".charAt),X=a([].join),q=a([].push),K=a("".replace),Z=a([].shift),J=a([].splice),Q=a("".split),$=a("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},ie=function(e){var t=K(e,ee," "),n=4;try{return H(t)}catch(e){for(;n;)t=K(t,ne(n--),re);return t}},se=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return ae[e]},le=function(e){return K(W(e),se,oe)},ue=d((function(e,t){F(this,{type:L,iterator:O(I(e).entries),kind:t})}),"Iterator",(function(){var e=N(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===V(e,0)?$(e,1):e:E(e)))};ce.prototype={type:P,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,a,o,l,u=x(e);if(u)for(n=(t=O(e,u)).next;!(r=s(n,t)).done;){if(a=(i=O(b(r.value))).next,(o=s(a,i)).done||(l=s(a,i)).done||!s(a,i).done)throw Y("Expected sequence with length 2");q(this.entries,{key:E(o.value),value:E(l.value)})}else for(var c in e)m(e,c)&&q(this.entries,{key:c,value:E(e[c])})},parseQuery:function(e){if(e)for(var t,n,r=Q(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=Q(t,"="),q(this.entries,{key:ie(Z(n)),value:ie(X(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],q(n,le(e.key)+"="+le(e.value));return X(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;F(this,new ce(e))},de=he.prototype;if(c(de,{append:function(e,t){A(arguments.length,2);var n=I(this);q(n.entries,{key:E(e),value:E(t)}),n.updateURL()},delete:function(e){A(arguments.length,1);for(var t=I(this),n=t.entries,r=E(e),i=0;i<n.length;)n[i].key===r?J(n,i,1):i++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=I(this).entries,n=E(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){A(arguments.length,1);for(var t=I(this).entries,n=E(e),r=[],i=0;i<t.length;i++)t[i].key===n&&q(r,t[i].value);return r},has:function(e){A(arguments.length,1);for(var t=I(this).entries,n=E(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,r=I(this),i=r.entries,s=!1,a=E(e),o=E(t),l=0;l<i.length;l++)(n=i[l]).key===a&&(s?J(i,l--,1):(s=!0,n.value=o));s||q(i,{key:a,value:o}),r.updateURL()},sort:function(){var e=I(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=I(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(de,R,de.entries,{name:"entries"}),u(de,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),h(he,P),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&g(B)){var fe=a(j.has),pe=a(j.set),ge=function(e){if(w(e)){var t,n=e.body;if(y(n)===P)return t=e.headers?new B(e.headers):new B,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:M(0,E(n)),headers:M(0,t)})}return e};if(g(D)&&r({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?ge(arguments[1]):{})}}),g(U)){var me=function(e){return p(this,G),new U(e,arguments.length>1?ge(arguments[1]):{})};G.constructor=me,me.prototype=G,r({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:he,getState:I}},(e,t,n)=>{n(153)},e=>{e.exports="\t\n\v\f\r  \u2028\u2029\ufeff"},(e,t,n)=>{"use strict";n.d(t,{a:()=>h,b:()=>o,c:()=>a,d:()=>s});n(1),n(4);var r=n(52),i=n(9);function s(e,t,n,r,s,a,o,l){if(e|=0,n|=0,s+l>(t|=0)&&s<t+1){const t=o/2;if((r+t>e||r-t<e+1)&&(a+t>n||a-t<n+1)){const s=e,o=n,l=e+1,u=n,c=e,h=n+1,d=e+1,f=n+1;return r<s&&a<o?(0,i.i)(r,a,s,o)<t:r>l&&a<u?(0,i.i)(r,a,l,u)<t:r<c&&a>h?(0,i.i)(r,a,c,h)<t:!(r>d&&a>f)||(0,i.i)(r,a,d,f)<t}}return!1}function a(e,t,n,r,s,a,o,l,u,c){const[h,d,f,p,g,m]=function(e,t,n,r,s,a,o,l,u,c){if(t<o+c&&t+s>o||o<t+s&&o+c>t){const[h,d,f,p]=function(e,t,n,r,s,a){let[o,l]=(0,i.n)(e,t,r,s),u=Math.sqrt(o*o+l*l);let c=n/2+a/2-u;if(c<=0)return[0,0,0,0];u>0&&(u=1/u);return o*=u,l*=u,c/=2,[o*c,l*c,-o*c,-l*c]}(e,n,r,a,l,u),g=0!==h||0!==d||0!==f||0!==p?o-t>c/.5?t-(o+c):o-(t+s):0;return[h,g/2,d,f,-g/2,p]}return[0,0,0,0,0,0]}(e,t,n,r,s,a,o,l,u,c);return 0!==h||0!==d||0!==f||0!==p||0!==g||0!==m}function o(e,t,n,i,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>!1;const o=(0,r.c)(e,t,n,i,s);for(let e=0,t=0|o.length;e<t;e=e+3|0){if(a("type",o[e],o[e+1],o[e+2]))return!0}return!1}function l(e,t,n,r,i,s,a,o,l){return(e-r)*(a-r)+(t-i)*(o-i)+(n-s)*(l-s)}function u(e,t,n,r,s,a,o,l,u,c){let h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:new i.c(0,0,0),d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:new i.c(0,0,0);const f=r*r+s*s+a*a,p=r*(o-=e)+s*(l-=t)+a*(u-=n),g=o*o+l*l+u*u-c*c;if(0===f)return!1;let m=p*p-f*g;if(m<0)return!1;m=Math.sqrt(m);const v=(p-m)/f,y=(p+m)/f;return!(v<0||y<0)&&(h.x=e+v*r,h.y=t+v*s,h.z=n+v*a,d.x=e+y*r,d.y=t+y*s,d.z=n+y*a,!0)}function c(e,t,n,r,s,a,o,l,u,c,h,d,f){let p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:new i.c(0,0,0),g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:new i.c(0,0,0);const m=o-e,v=l-t,y=u-n,b=(c-=e)-m,w=(h-=t)-v,E=(d-=n)-y,_=r*r+s*s+a*a,M=b*r+w*s+E*a,O=m*r+v*s+y*a,x=b*b+w*w+E*E,A=m*b+v*w+y*E,S=m*m+v*v+y*y,T=f*f;if(0===x)return!1;const R=_-M*M/x,P=O-A*M/x,L=S-A*A/x-T;if(0===R)return!1;let F=P*P-R*L;if(F<0)return!1;F=Math.sqrt(F);const I=(P-F)/R,N=(P+F)/R;return p.x=e+I*r,p.y=t+I*s,p.z=n+I*a,g.x=e+N*r,g.y=t+N*s,g.z=n+N*a,!0}function h(e,t,n,r,s,a,o,h,d,f,p,g){const[m,v,y]=(0,i.l)(r,s),b=new i.c(-1,-1,-1),w=new i.c(-1,-1,-1);f-=g/=2;let E=!1,_=!1,M=!1;if(!0===u(e,t,n,m,v,y,a,o+=g,h,g,b,w)&&l(d,f,p,a,o,h,b.x,b.y,b.z)<=0)E=!0;else if(!0===u(e,t,n,m,v,y,d,f,p,g,b,w)&&l(a,o,h,d,f,p,b.x,b.y,b.z)<=0)_=!0;else{if(!(!0===c(e,t,n,m,v,y,a,o,h,d,f,p,g,b,w)&&l(a,o,h,d,f,p,b.x,b.y,b.z)>0&&l(d,f,p,a,o,h,b.x,b.y,b.z)>0))return[-1,-1,-1,-1,-1,-1];M=!0}const O=new i.c(0,0,0);return E&&l(d,f,p,a,o,h,w.x,w.y,w.z)<=0||_&&l(a,o,h,d,f,p,w.x,w.y,w.z)<=0||M&&l(a,o,h,d,f,p,w.x,w.y,w.z)>0&&l(d,f,p,a,o,h,w.x,w.y,w.z)>0||!0===u(e,t,n,m,v,y,a,o,h,g,O,w)&&l(d,f,p,a,o,h,w.x,w.y,w.z)<=0||!0===u(e,t,n,m,v,y,d,f,p,g,O,w)&&l(a,o,h,d,f,p,w.x,w.y,w.z)<=0||c(e,t,n,m,v,y,a,o,h,d,f,p,g,O,w),[b.x,b.y,b.z,w.x,w.y,w.z]}},(e,t,n)=>{var r=n(0),i=n(7),s=n(14),a=n(89),o=n(38),l=n(158),u=n(6),c=r.TypeError,h=u("toPrimitive");e.exports=function(e,t){if(!s(e)||a(e))return e;var n,r=o(e,h);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!s(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},(e,t,n)=>{var r=n(0),i=n(7),s=n(5),a=n(14),o=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&s(n=e.toString)&&!a(r=i(n,e)))return r;if(s(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&s(n=e.toString)&&!a(r=i(n,e)))return r;throw o("Can't convert object to primitive value")}},(e,t,n)=>{var r=n(0),i=n(5),s=n(70),a=r.WeakMap;e.exports=i(a)&&/native code/.test(s(a))},(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},(e,t,n)=>{var r=n(27),i=n(2),s=n(94),a=n(162),o=n(10),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(o(e)),n=a.f;return n?l(t,n(e)):t}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var r=n(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,n)=>{var r=n(0),i=n(5),s=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+s(e)+" as a prototype")}},(e,t,n)=>{var r={};r[n(6)("toStringTag")]="z",e.exports="[object z]"===String(r)},(e,t,n)=>{var r=n(34),i=n(0);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},(e,t,n)=>{var r=n(34);e.exports=/web0s(?!.*chrome)/i.test(r)},(e,t,n)=>{var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},(e,t,n)=>{var r=n(0),i=n(99),s=r.TypeError;e.exports=function(e){if(i(e))throw s("The method doesn't accept regular expressions");return e}},(e,t,n)=>{var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},(e,t,n)=>{"use strict";var r=n(134).forEach,i=n(135)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},(e,t,n)=>{var r=n(175);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},(e,t,n)=>{var r=n(0),i=n(176),s=n(96),a=n(14),o=n(6)("species"),l=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(s(t)&&(t===l||i(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?l:t}},(e,t,n)=>{var r=n(36);e.exports=Array.isArray||function(e){return"Array"==r(e)}},(e,t,n)=>{var r=n(2),i=n(23),s=Math.floor,a=r("".charAt),o=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var f=n+e.length,p=r.length,g=c;return void 0!==h&&(h=i(h),g=u),o(d,g,(function(i,o){var u;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=h[l(o,1,-1)];break;default:var c=+o;if(0===c)return i;if(c>p){var d=s(c/10);return 0===d?i:d<=p?void 0===r[d-1]?a(o,1):r[d-1]+a(o,1):i}u=r[c-1]}return void 0===u?"":u}))}},e=>{e.exports=!1},(e,t,n)=>{"use strict";n.d(t,{a:()=>d,b:()=>f});n(180),n(15);var r=n(61),i=n(45),s=n(62),a=n(13);const o={};(0,i.b)()?(0,a.b)(s.c,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"save"===t.method){const e=o[t.name]||{};for(const t in e)delete e[t];for(const n in t.value)e[n]=t.value[n];o[t.name]=e}})):(0,a.b)(s.c,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"load":d(t.name,t.forceLocalStorage).then((e=>{s.c.postMessage({method:"load",name:t.name,value:e,key:t.key})}));break;case"save":d(t.name).then((e=>{for(const n in t.value)e[n]=t.value[n];f(t.name,t.forceLocalStorage).then((e=>{s.c.postMessage({method:"save",name:t.name,value:t.value,key:t.key})}))}));break;case"delete":(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,i.b)()){if(!o.hasOwnProperty(e))return;let n=(0,r.a)();return await new Promise((r=>{function i(t){const{data:l}=t;if(l instanceof Object&&l.key===n&&"delete"===l.method)(0,a.d)(s.c,"message",i),delete o[e],n=null,r(l.value)}(0,a.b)(s.c,"message",i),s.c.postMessage({method:"delete",name:e,forceLocalStorage:t,key:n})}))}delete(await d(e))[e],await f(e,t)})(t.name,t.forceLocalStorage).then((()=>{s.c.postMessage({method:"delete",name:t.name,key:t.key})}))}}));const l=function(e,t){switch(!0){case void 0===t:return{__extendData__:!0,type:"undefined",value:""};case null===t:return{__extendData__:!0,type:"null",value:""};case Number.isNaN(t):return{__extendData__:!0,type:"number",value:"NaN"};case Number.POSITIVE_INFINITY===t:return{__extendData__:!0,type:"number",value:"Infinity"};case Number.NEGATIVE_INFINITY===t:return{__extendData__:!0,type:"number",value:"-Infinity"};case t instanceof Date:return{__extendData__:!0,type:"date",value:t.toISOString()};case"symbol"==typeof t:return{__extendData__:!0,type:"symbol",value:Symbol.keyFor(t)}}return t},u=function(e,t){if("object"!=typeof t||!t.__extendData__)return t;switch(t.type){case"undefined":return;case"null":return null;case"number":switch(t.value){case"NaN":return Number.NaN;case"Infinity":case"+Infinity":return Number.POSITIVE_INFINITY;case"-Infinity":return Number.NEGATIVE_INFINITY}case"date":return new Date(t.value);case"symbol":return Symbol.for(t.value)}};async function c(e,t){let n={};try{if(!t&&"electron"in self)n=JSON.parse(JSON.stringify(await self.electron.loadStorage(e),u));else{const t=localStorage.getItem(e)||"";t&&t.length>0&&(n=JSON.parse(t,u))}}catch(n){await async function(e,t){!t&&"electron"in self?await self.electron.deleteStorage(e):localStorage.removeItem(e)}(e,t)}return n}async function h(e,t,n){try{!n&&"electron"in self?await self.electron.saveStorage(e,JSON.parse(JSON.stringify(t,l))):localStorage.setItem(e,JSON.stringify(t,l))}catch(t){console.error('"'.concat(e,'" is define local storage.'))}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};if((0,i.b)()){if(o.hasOwnProperty(e))return o[e];let i=(0,r.a)();n=await new Promise((n=>{const r=e=>{const{data:t}=e;if(t instanceof Object&&t.key===i&&"load"===t.method)(0,a.d)(s.c,"message",r),o[t.name]=t.value,n(t.value)};(0,a.b)(s.c,"message",r),s.c.postMessage({method:"load",name:e,forceLocalStorage:t,key:i})}))}else o.hasOwnProperty(e)||(o[e]=await c(e,t)),n=o[e];return n}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,i.b)()){if(!o.hasOwnProperty(e))return;let n=(0,r.a)();await new Promise((r=>{const i=e=>{const{data:t}=e;if(t instanceof Object&&t.key===n&&"save"===t.method)(0,a.d)(s.c,"message",i),n=null,r(null)};(0,a.b)(s.c,"message",i),s.c.postMessage({method:"save",name:e,value:o[e],forceLocalStorage:t,key:n})}))}else o.hasOwnProperty(e)&&await h(e,o[e],t)}},(e,t,n)=>{"use strict";var r=n(8),i=n(11),s=n(0),a=n(2),o=n(12),l=n(5),u=n(30),c=n(16),h=n(17).f,d=n(120),f=s.Symbol,p=f&&f.prototype;if(i&&l(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=u(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};d(m,f),m.prototype=p,p.constructor=m;var v="Symbol(test)"==String(f("test")),y=a(p.toString),b=a(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),_=a("".slice);h(p,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(o(g,e))return"";var n=v?_(t,7,-1):E(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:m})}},(e,t,n)=>{"use strict";var r=n(76),i=n(7),s=n(2),a=n(101),o=n(99),l=n(10),u=n(29),c=n(74),h=n(102),d=n(31),f=n(16),p=n(38),g=n(82),m=n(104),v=n(81),y=n(100),b=n(3),w=y.UNSUPPORTED_Y,E=4294967295,_=Math.min,M=[].push,O=s(/./.exec),x=s(M),A=s("".slice);a("split",(function(e,t,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var s=f(u(this)),a=void 0===n?E:n>>>0;if(0===a)return[];if(void 0===e)return[s];if(!o(e))return i(t,s,e,a);for(var l,c,h,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,p+"g");(l=i(v,y,s))&&!((c=y.lastIndex)>m&&(x(d,A(s,m,l.index)),l.length>1&&l.index<s.length&&r(M,d,g(l,1)),h=l[0].length,m=c,d.length>=a));)y.lastIndex===l.index&&y.lastIndex++;return m===s.length?!h&&O(y,"")||x(d,""):x(d,A(s,m)),d.length>a?g(d,0,a):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=u(this),a=null==t?void 0:p(t,e);return a?i(a,t,r,n):i(s,f(r),t,n)},function(e,r){var i=l(this),a=f(e),o=n(s,i,a,r,s!==t);if(o.done)return o.value;var u=c(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),v=new u(w?"^(?:"+i.source+")":i,g),y=void 0===r?E:r>>>0;if(0===y)return[];if(0===a.length)return null===m(v,a)?[a]:[];for(var b=0,M=0,O=[];M<a.length;){v.lastIndex=w?0:M;var S,T=m(v,w?A(a,M):a);if(null===T||(S=_(d(v.lastIndex+(w?M:0)),a.length))===b)M=h(a,M,p);else{if(x(O,A(a,b,M)),O.length===y)return O;for(var R=1;R<=T.length-1;R++)if(x(O,T[R]),O.length===y)return O;M=b=S}}return x(O,A(a,b)),O}]}),!!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},e=>{"use strict";e.exports=i,e.exports.isMobile=i,e.exports.default=i;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,r=/android|ipad|playbook|silk/i;function i(e){e||(e={});let i=e.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let s=t.test(i)&&!n.test(i)||!!e.tablet&&r.test(i);return!s&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(s=!0),s}},(e,t,n)=>{var r=n(0).Array,i=Math.abs,s=Math.pow,a=Math.floor,o=Math.log,l=Math.LN2;e.exports={pack:function(e,t,n){var u,c,h,d=r(n),f=8*n-t-1,p=(1<<f)-1,g=p>>1,m=23===t?s(2,-24)-s(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(c=e!=e?1:0,u=p):(u=a(o(e)/l),e*(h=s(2,-u))<1&&(u--,h*=2),(e+=u+g>=1?m/h:m*s(2,1-g))*h>=2&&(u++,h/=2),u+g>=p?(c=0,u=p):u+g>=1?(c=(e*h-1)*s(2,t),u+=g):(c=e*s(2,g-1)*s(2,t),u=0));t>=8;)d[y++]=255&c,c/=256,t-=8;for(u=u<<t|c,f+=t;f>0;)d[y++]=255&u,u/=256,f-=8;return d[--y]|=128*v,d},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,o=a>>1,l=i-7,u=r-1,c=e[u--],h=127&c;for(c>>=7;l>0;)h=256*h+e[u--],l-=8;for(n=h&(1<<-l)-1,h>>=-l,l+=t;l>0;)n=256*n+e[u--],l-=8;if(0===h)h=1-o;else{if(h===a)return n?NaN:c?-1/0:1/0;n+=s(2,t),h-=o}return(c?-1:1)*n*s(2,h-t)}}},(e,t,n)=>{"use strict";var r=n(23),i=n(69),s=n(28);e.exports=function(e){for(var t=r(this),n=s(t),a=arguments.length,o=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>o;)t[o++]=e;return t}},(e,t,n)=>{var r=n(0),i=n(3),s=n(132),a=n(48).NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!s((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new o(2),1,void 0).length}))},(e,t,n)=>{var r=n(14),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},(e,t,n)=>{var r=n(0),i=n(35),s=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},(e,t,n)=>{var r=n(32),i=n(7),s=n(125),a=n(23),o=n(28),l=n(79),u=n(59),c=n(98),h=n(48).aTypedArrayConstructor;e.exports=function(e){var t,n,d,f,p,g,m=s(this),v=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,E=u(v);if(E&&!c(E))for(g=(p=l(v,E)).next,v=[];!(f=i(g,p)).done;)v.push(f.value);for(w&&y>2&&(b=r(b,arguments[2])),n=o(v),d=new(h(m))(n),t=0;n>t;t++)d[t]=w?b(v[t],t):v[t];return d}},(e,t,n)=>{var r=n(34).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},(e,t,n)=>{var r=n(34);e.exports=/MSIE|Trident/.test(r)},(e,t,n)=>{var r=n(34).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},(e,t,n)=>{n(26)("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{"use strict";var r=n(7),i=n(101),s=n(10),a=n(31),o=n(16),l=n(29),u=n(38),c=n(102),h=n(104);i("match",(function(e,t,n){return[function(t){var n=l(this),i=null==t?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](o(n))},function(e){var r=s(this),i=o(e),l=n(t,r,i);if(l.done)return l.value;if(!r.global)return h(r,i);var u=r.unicode;r.lastIndex=0;for(var d,f=[],p=0;null!==(d=h(r,i));){var g=o(d[0]);f[p]=g,""===g&&(r.lastIndex=c(i,a(r.lastIndex),u)),p++}return 0===p?null:f}]}))},(e,t,n)=>{var r=n(119),i=n(17);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},(e,t,n)=>{"use strict";var r=n(11),i=n(2),s=n(7),a=n(3),o=n(114),l=n(162),u=n(160),c=n(23),h=n(64),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||a((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||o(d({},t)).join("")!=i}))?function(e,t){for(var n=c(e),i=arguments.length,a=1,d=l.f,f=u.f;i>a;)for(var g,m=h(arguments[a++]),v=d?p(o(m),d(m)):o(m),y=v.length,b=0;y>b;)g=v[b++],r&&!s(f,m,g)||(n[g]=m[g]);return n}:d},(e,t,n)=>{"use strict";var r=n(0),i=n(32),s=n(7),a=n(23),o=n(198),l=n(98),u=n(96),c=n(28),h=n(140),d=n(79),f=n(59),p=r.Array;e.exports=function(e){var t=a(e),n=u(this),r=arguments.length,g=r>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,r>2?arguments[2]:void 0));var v,y,b,w,E,_,M=f(t),O=0;if(!M||this==p&&l(M))for(v=c(t),y=n?new this(v):p(v);v>O;O++)_=m?g(t[O],O):t[O],h(y,O,_);else for(E=(w=d(t,M)).next,y=n?new this:[];!(b=s(E,w)).done;O++)_=m?o(w,g,[b.value,O],!0):b.value,h(y,O,_);return y.length=O,y}},(e,t,n)=>{var r=n(10),i=n(130);e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},(e,t,n)=>{"use strict";var r=n(0),i=n(2),s=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",u=r.RangeError,c=i(o.exec),h=Math.floor,d=String.fromCharCode,f=i("".charCodeAt),p=i([].join),g=i([].push),m=i("".replace),v=i("".split),y=i("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),r+=36;return h(r+36*e/(e+38))},E=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<r){var s=f(e,n++);56320==(64512&s)?g(t,((1023&i)<<10)+(1023&s)+65536):(g(t,i),n--)}else g(t,i)}return t}(e);var n,r,i=e.length,a=128,o=0,c=72;for(n=0;n<e.length;n++)(r=e[n])<128&&g(t,d(r));var m=t.length,v=m;for(m&&g(t,"-");v<i;){var y=s;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<y&&(y=r);var E=v+1;if(y-a>h((s-o)/E))throw u(l);for(o+=(y-a)*E,a=y,n=0;n<e.length;n++){if((r=e[n])<a&&++o>s)throw u(l);if(r==a){for(var _=o,M=36;;){var O=M<=c?1:M>=c+26?26:M-c;if(_<O)break;var x=_-O,A=36-O;g(t,d(b(O+x%A))),_=h(x/A),M+=36}g(t,d(b(_))),c=w(o,E,v==m),o=0,v++}}o++,a++}return p(t,"")};e.exports=function(e){var t,n,r=[],i=v(m(y(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],g(r,c(a,n)?"xn--"+E(n):n);return p(r,".")}},(e,t,n)=>{var r=n(17).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>d,b:()=>E,c:()=>M,d:()=>_,e:()=>b});n(20),n(21),n(202),n(1),n(4);var i=n(107),s=n(205),a=e([i]);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i=(a.then?(await a)():a)[0];const l=(0,i.a)(0,0).getContext("webgl2"),u=null===l?null:l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic");class c{constructor(e,t){o(this,"init",!1),o(this,"old_width",0),o(this,"old_height",0),o(this,"old_depth",0),o(this,"old_attachment",{}),o(this,"color_buller_float",null),o(this,"level",0),o(this,"auto_resolution_fix",void 0),o(this,"dimension",void 0),o(this,"texture_type",void 0),o(this,"texture",void 0),o(this,"tex",void 0),o(this,"iformat",void 0),o(this,"format",void 0),o(this,"type",void 0);const n=t.width,r=t.hasOwnProperty("height")?t.height||0:null,i=t.hasOwnProperty("depth")?t.depth||0:null;let s=!1,a=0,l=null;if(t.hasOwnProperty("attachment"))a=2,l=e.TEXTURE_2D,null!==n&&null!==r||(s=!0);else switch(!0){case null===r:a=1,l=e.TEXTURE_1D;break;case null===i:a=2,l=e.TEXTURE_2D;break;default:a=3,l=e.TEXTURE_2D_ARRAY}let u=null,c=null,h=null;switch(t.format){case 1:switch(t.type){case"8i":u=e.INT,c=e.R8I,h=e.RED_INTEGER;break;case"8ui":u=e.UNSIGNED_BYTE,c=e.R8UI,h=e.RED_INTEGER;break;case"16i":u=e.INT,c=e.R16I,h=e.RED_INTEGER;break;case"16ui":u=e.UNSIGNED_BYTE,c=e.R16UI,h=e.RED_INTEGER;break;case"16f":u=e.HALF_FLOAT,c=e.R16F,h=e.RED;break;case"32i":u=e.INT,c=e.R32I,h=e.RED_INTEGER;break;case"32ui":u=e.UNSIGNED_BYTE,c=e.R32UI,h=e.RED_INTEGER;break;case"32f":u=e.FLOAT,c=e.R32F,h=e.RED;break;case"int":u=e.INT,c=e.RED,h=e.RED;break;default:case"uint":u=e.UNSIGNED_BYTE,c=e.RED,h=e.RED;break;case"float":u=e.FLOAT,c=e.RED,h=e.RED}break;case 2:switch(t.type){case"8i":u=e.INT,c=e.RG8I,h=e.RG_INTEGER;break;case"8ui":u=e.UNSIGNED_BYTE,c=e.RG8UI,h=e.RG_INTEGER;break;case"16i":u=e.INT,c=e.RG16I,h=e.RG_INTEGER;break;case"16ui":u=e.UNSIGNED_BYTE,c=e.RG16UI,h=e.RG_INTEGER;break;case"16f":u=e.HALF_FLOAT,c=e.RG16F,h=e.RG;break;case"32i":u=e.INT,c=e.RG32I,h=e.RG_INTEGER;break;case"32ui":u=e.UNSIGNED_BYTE,c=e.RG32UI,h=e.RG_INTEGER;break;case"32f":u=e.FLOAT,c=e.RG32F,h=e.RG;break;case"int":u=e.INT,c=e.RG,h=e.RG;break;default:case"uint":u=e.UNSIGNED_BYTE,c=e.RG,h=e.RG;break;case"float":u=e.FLOAT,c=e.RG,h=e.RG}break;case 3:switch(t.type){case"8i":u=e.INT,c=e.RGB8I,h=e.RGB_INTEGER;break;case"8ui":u=e.UNSIGNED_BYTE,c=e.RGB8UI,h=e.RGB_INTEGER;break;case"16i":u=e.INT,c=e.RGB16I,h=e.RGB_INTEGER;break;case"16ui":u=e.UNSIGNED_BYTE,c=e.RGB16UI,h=e.RGB_INTEGER;break;case"16f":u=e.HALF_FLOAT,c=e.RGB16F,h=e.RGB;break;case"32i":u=e.INT,c=e.RGB32I,h=e.RGB_INTEGER;break;case"32ui":u=e.UNSIGNED_BYTE,c=e.RGB32UI,h=e.RGB_INTEGER;break;case"32f":u=e.FLOAT,c=e.RGB32F,h=e.RGB;break;case"int":u=e.INT,c=e.RGB,h=e.RGB;break;default:case"uint":u=e.UNSIGNED_BYTE,c=e.RGB,h=e.RGB;break;case"float":u=e.FLOAT,c=e.RGB,h=e.RGB}break;default:switch(t.type){case"8i":u=e.INT,c=e.RGBA8I,h=e.RGBA_INTEGER;break;case"8ui":u=e.UNSIGNED_BYTE,c=e.RGBA8UI,h=e.RGBA_INTEGER;break;case"16i":u=e.INT,c=e.RGBA16I,h=e.RGBA_INTEGER;break;case"16ui":u=e.UNSIGNED_BYTE,c=e.RGBA16UI,h=e.RGBA_INTEGER;break;case"16f":u=e.HALF_FLOAT,c=e.RGBA16F,h=e.RGBA;break;case"32i":u=e.INT,c=e.RGBA32I,h=e.RGBA_INTEGER;break;case"32ui":u=e.UNSIGNED_BYTE,c=e.RGBA32UI,h=e.RGBA_INTEGER;break;case"32f":u=e.FLOAT,c=e.RGBA32F,h=e.RGBA;break;case"int":u=e.INT,c=e.RGBA,h=e.RGBA;break;default:case"uint":u=e.UNSIGNED_BYTE,c=e.RGBA,h=e.RGBA;break;case"float":u=e.FLOAT,c=e.RGBA,h=e.RGBA}}const d=t.data instanceof WebGLTexture?t.data:e.createTexture();if(null===d)throw new Error("");this.auto_resolution_fix=s,this.dimension=a,this.texture_type=l,this.texture=d,this.tex=t,this.iformat=c,this.format=h,this.type=u}}class h{constructor(e,t,n){o(this,"id",void 0),o(this,"buffer",void 0),o(this,"screen",void 0),o(this,"resolution",void 0),o(this,"viewport",void 0),o(this,"textures",new Array),o(this,"attachs",new Array),o(this,"width",-1),o(this,"height",-1),o(this,"screen_texture",null),o(this,"attachScreenUniform",!1),o(this,"isScreenBuffer",!1),this.id=t,this.buffer=e.createFramebuffer(),e.useProgram(n),this.screen=e.getUniformLocation(n,"screen"),this.resolution=e.getUniformLocation(n,"resolution"),this.viewport=e.getUniformLocation(n,"viewport"),e.useProgram(null)}}null===l||l.MAX_TEXTURE_SIZE,null===l||l.MAX_3D_TEXTURE_SIZE,null===l||l.MAX_COLOR_ATTACHMENTS,null!==l&&null!==u&&l.getParameter(u.MAX_TEXTURE_MAX_ANISOTROPY_EXT);class d{constructor(e,t,n){o(this,"id",void 0),o(this,"vertex",void 0),o(this,"fragment",void 0),o(this,"textureMipMapGeneraters",new Array),o(this,"has_init",!1),o(this,"program",null),o(this,"frame",null),o(this,"uniforms",null),o(this,"gl",null),this.id=e,this.vertex=t,this.fragment=n}initProgram(e){const{vertex:t,fragment:n}=this;this.program=v(e,t,n)}init(e,t){this.program&&(this.has_init=!0,this.gl=e,this.frame=new h(e,this.id,this.program),this.uniforms=y(e,this.program,t))}hasInit(){return this.has_init}getID(){return this.id}getProgram(){if(null===this.program)throw new Error("");return this.program}getFrame(){if(null===this.frame)throw new Error("");return this.frame}getUniforms(){if(null===this.uniforms)throw new Error("");return this.uniforms}addTextureMipMapGenerater(e){this.textureMipMapGeneraters.push(e)}execTextureMipMapGenerators(){for(;this.textureMipMapGeneraters.length>0;){var e;null===(e=this.textureMipMapGeneraters.shift())||void 0===e||e.call(null)}}destroy(){const{gl:e,program:t,frame:n}=this;if(null!==e){if(null!==n){e.deleteFramebuffer(n.buffer),null!==n.screen_texture&&e.deleteTexture(n.screen_texture);for(let t=0,r=0|n.textures.length;t<r;t=t+1|0)e.deleteTexture(n.textures[t])}t&&e.deleteProgram(t)}}}function f(e){const t=e.createProgram();if(null===t)throw new Error("");return t}function p(e,t,n,r){const i=e.createShader(n);if(null===i)throw new Error("Can't create shader.");if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(i);throw e.deleteShader(i),t}return e.attachShader(t,i),e.deleteShader(i),i}function g(e,t,n){return p(e,t,e.VERTEX_SHADER,n)}function m(e,t,n){return p(e,t,e.FRAGMENT_SHADER,n)}function v(e,t,n){const r=f(e),i=g(e,r,t),s=m(e,r,n);if(e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)){const t=e.getProgramInfoLog(r);throw e.deleteShader(i),e.deleteShader(s),e.deleteProgram(r),t}return r}function y(e,t,n){const r={};e.useProgram(t);for(let i in n){const n=e.getUniformLocation(t,i);null!==n&&(r[i]={location:n})}return e.useProgram(null),r}function b(e,t){const n={};for(const r in t){const i=t[r];n[r]=new c(e,i)}return n}function w(e,t,n,r,i){const{old_width:s,old_height:a,old_depth:o,auto_resolution_fix:l,dimension:u,texture_type:c,iformat:h,format:d,type:f}=n;let{texture:p}=n,g=t.width,m=t.hasOwnProperty("height")?t.height||0:null,v=t.hasOwnProperty("depth")?t.depth||0:null;t.data instanceof WebGLTexture&&(p=t.data);const y=!!t.data&&!t.data.hasOwnProperty("length")&&t.data!==t.old_data,b=!n.init||!!t.sync||!!t.generateMipmap||y;if(t.old_data=t.data,e.bindTexture(c,p),b||l){l&&(g=0|e.canvas.width,m=0|e.canvas.height);const w=g!==s||null!==m&&m!==a||null!==v&&v!==o;if(b||!l||w){if(!(t.data instanceof WebGLTexture)){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flip_y||!1),e.pixelStorei(e.UNPACK_ALIGNMENT,t.aligment||1);const r=t.level||0;if(!n.init||w||y)switch(u){case 1:e.texImage2D(c,r,h,g,1,0,d,f,t.data||null);break;case 2:null!==m&&e.texImage2D(c,r,h,g,m,0,d,f,t.data||null);break;case 3:null!==m&&null!==v&&e.texImage3D(c,r,h,g,m,v,0,d,f,t.data||null)}else if(t.data)switch(u){case 1:e.texSubImage2D(c,r,0,0,g,1,d,f,t.data||null);break;case 2:null!==m&&e.texSubImage2D(c,r,0,0,g,m,d,f,t.data||null);break;case 3:null!==m&&null!==v&&e.texSubImage3D(c,r,0,0,0,g,m,v,d,f,t.data||null)}let i=e.CLAMP_TO_EDGE;switch(t.wrap){case"clamp":i=e.CLAMP_TO_EDGE;break;case"repeat":i=e.REPEAT;break;case"mirror":i=e.MIRRORED_REPEAT}e.texParameteri(c,e.TEXTURE_WRAP_S,i),e.texParameteri(c,e.TEXTURE_WRAP_T,i);let s=!1;if(t.anisotropic){const n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");n&&(e.texParameterf(e.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT),t.anisotropic)),s=!0)}if(!s){let n=e.NEAREST;switch(t.mag){case"nearest":n=e.NEAREST;break;case"linear":n=e.LINEAR}let r=t.mipmap?e.NEAREST_MIPMAP_LINEAR:e.NEAREST;switch(t.min){case"nearest":r=t.mipmap?"linear"===t.mag?e.LINEAR_MIPMAP_NEAREST:e.NEAREST_MIPMAP_NEAREST:e.NEAREST;break;case"linear":r=t.mipmap?"linear"===t.mag?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_LINEAR:e.LINEAR}e.texParameteri(c,e.TEXTURE_MAG_FILTER,n),e.texParameteri(c,e.TEXTURE_MIN_FILTER,r)}}if(t.hasOwnProperty("attachment"))for(let s=0,a=0|r.length;s<a;s=s+1|0){const a=r[s]||null;if(null===a)continue;const o=a.getID(),l=(null==t?void 0:t.attachment)||{},u=l.hasOwnProperty(o)?l[o]||0:null;if(null===u)continue;const h=a.getFrame();0===u&&(h.isScreenBuffer=!1,n.init=!1);const d=e["COLOR_ATTACHMENT".concat(u)],{buffer:v,attachs:y,textures:b}=h,w=i[o]||{width:g,height:m};if(null===n.color_buller_float&&(f===e.FLOAT||f===e.HALF_FLOAT)&&(n.color_buller_float=e.getExtension("EXT_color_buffer_float")||null,null===n.color_buller_float))throw new Error("Not supported color buffer float.");e.bindFramebuffer(e.FRAMEBUFFER,v),n.init||(e.framebufferTexture2D(e.FRAMEBUFFER,d,c,p,0),y.includes(d)||y.push(d),b.push(p)),null!==m&&(e.viewport(0,0,w.width||g,w.height||m),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.bindFramebuffer(e.FRAMEBUFFER,null)}}e.bindTexture(c,null),n.init=!0,n.old_width=0|g,n.old_height=0|(m||1),n.old_depth=0|(v||1)}function w(){if(e.bindTexture(c,p),t.mipmap&&t.generateMipmap){if(null===n.color_buller_float&&(f===e.FLOAT||f===e.HALF_FLOAT)&&(n.color_buller_float=e.getExtension("EXT_color_buffer_float")||null,null===n.color_buller_float))throw new Error("Not supported color buffer float.");e.generateMipmap(c)}e.bindTexture(c,null)}let E=!1;if(t.attachment&&t.generateMipmap){const e=Object.keys(t.attachment);for(let t=0,n=0|r.length;t<n;t=t+1|0){const n=r[t];e.includes(n.getID())&&(n.addTextureMipMapGenerater(w),E=!0)}}return E||w(),!0}function E(e,t,n,r,i){for(const s in n){w(e,t[parseInt(s)],n[s],r,i)}}function _(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];e["uniform".concat(n)](t,...i)}function M(e,t,n,r,i,a){let o=0;for(const l in t){const{location:u}=t[l],c=n[l],h=r[l];if(void 0!==c&&(!c.program||c.program.includes(a))&&u)if(c.hasOwnProperty("unit")){if(!i.hasOwnProperty(c.unit))continue;const{texture:t,texture_type:n}=i[c.unit];e.activeTexture(e["TEXTURE".concat(o)]),e.bindTexture(n,t),_(e,u,"1i",o),o++}else(void 0===h||(0,s.a)(c.value,h.value))&&_(e,u,c.type,...c.value)}return o}r()}catch(O){r(O)}}))},(e,t,n)=>{var r=n(8),i=n(203);r({global:!0,forced:parseInt!=i},{parseInt:i})},(e,t,n)=>{var r=n(0),i=n(3),s=n(2),a=n(16),o=n(204).trim,l=n(155),u=r.parseInt,c=r.Symbol,h=c&&c.iterator,d=/^[+-]?0x/i,f=s(d.exec),p=8!==u(l+"08")||22!==u(l+"0x16")||h&&!i((function(){u(Object(h))}));e.exports=p?function(e,t){var n=o(a(e));return u(n,t>>>0||(f(d,n)?16:10))}:u},(e,t,n)=>{var r=n(2),i=n(29),s=n(16),a=n(155),o=r("".replace),l="["+a+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),h=function(e){return function(t){var n=s(i(t));return 1&e&&(n=o(n,u,"")),2&e&&(n=o(n,c,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>C});var r={};n.r(r),n.d(r,{JsonPatchError:()=>v,_areEquals:()=>S,applyOperation:()=>_,applyPatch:()=>M,applyReducer:()=>O,deepClone:()=>y,getValueByPointer:()=>E,validate:()=>A,validator:()=>x});var i={};n.r(i),n.d(i,{compare:()=>k,generate:()=>I,observe:()=>F,unobserve:()=>L});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */
var s,a=(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=Object.prototype.hasOwnProperty;function l(e,t){return o.call(e,t)}function u(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)l(e,i)&&r.push(i);return r}function c(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function h(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function d(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function p(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(p(e[t]))return!0}else if("object"==typeof e)for(var r=u(e),i=r.length,s=0;s<i;s++)if(p(e[r[s]]))return!0;return!1}function g(e,t){var n=[e];for(var r in t){var i="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==i&&n.push(r+": "+i)}return n.join("\n")}var m=function(e){function t(t,n,r,i,s){var a=this.constructor,o=e.call(this,g(t,{name:n,index:r,operation:i,tree:s}))||this;return o.name=n,o.index=r,o.operation=i,o.tree=s,Object.setPrototypeOf(o,a.prototype),o.message=g(t,{name:n,index:r,operation:i,tree:s}),o}return a(t,e),t}(Error),v=m,y=c,b={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=E(n,this.path);r&&(r=c(r));var i=_(n,{op:"remove",path:this.from}).removed;return _(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=E(n,this.from);return _(n,{op:"add",path:this.path,value:c(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:S(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},w={add:function(e,t,n){return h(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:b.move,copy:b.copy,test:b.test,_get:b._get};function E(e,t){if(""==t)return e;var n={op:"_get",path:t};return _(e,n),n.value}function _(e,t,n,r,i,s){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===s&&(s=0),n&&("function"==typeof n?n(t,0,e,t.path):x(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=E(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=S(e,t.value),!1===a.test)throw new v("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,t,e);return a}r||(e=c(e));var o=(t.path||"").split("/"),l=e,u=1,d=o.length,p=void 0,g=void 0,m=void 0;for(m="function"==typeof n?n:x;;){if((g=o[u])&&-1!=g.indexOf("~")&&(g=f(g)),i&&("__proto__"==g||"prototype"==g&&u>0&&"constructor"==o[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===p&&(void 0===l[g]?p=o.slice(0,u).join("/"):u==d-1&&(p=t.path),void 0!==p&&m(t,0,e,p)),u++,Array.isArray(l)){if("-"===g)g=l.length;else{if(n&&!h(g))throw new v("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,t,e);h(g)&&(g=~~g)}if(u>=d){if(n&&"add"===t.op&&g>l.length)throw new v("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,t,e);if(!1===(a=w[t.op].call(t,l,g,e)).test)throw new v("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}}else if(u>=d){if(!1===(a=b[t.op].call(t,l,g,e)).test)throw new v("Test operation failed","TEST_OPERATION_FAILED",s,t,e);return a}if(l=l[g],n&&u<d&&(!l||"object"!=typeof l))throw new v("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,t,e)}}function M(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=c(e));for(var s=new Array(t.length),a=0,o=t.length;a<o;a++)s[a]=_(e,t[a],n,!0,i,a),e=s[a].newDocument;return s.newDocument=e,s}function O(e,t,n){var r=_(e,t);if(!1===r.test)throw new v("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function x(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new v("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!b[e.op])throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new v("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new v('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new v("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&p(e.value))throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,s=r.split("/").length;if(i!==s+1&&i!==s)throw new v("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new v("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=A([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new v("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function A(e,t,n){try{if(!Array.isArray(e))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)M(c(t),c(e),n||!0);else{n=n||x;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof v)return e;throw e}}function S(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,i,s=Array.isArray(e),a=Array.isArray(t);if(s&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!S(e[n],t[n]))return!1;return!0}if(s!=a)return!1;var o=Object.keys(e);if((r=o.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(o[n]))return!1;for(n=r;0!=n--;)if(!S(e[i=o[n]],t[i]))return!1;return!0}return e!=e&&t!=t}
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */
var T=new WeakMap,R=function(e){this.observers=new Map,this.obj=e},P=function(e,t){this.callback=e,this.observer=t};function L(e,t){t.unobserve()}function F(e,t){var n,r=function(e){return T.get(e)}(e);if(r){var i=function(e,t){return e.observers.get(t)}(r,t);n=i&&i.observer}else r=new R(e),T.set(e,r);if(n)return n;if(n={},r.value=c(e),t){n.callback=t,n.next=null;var s=function(){I(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(s)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){I(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new P(t,n)),n}function I(e,t){void 0===t&&(t=!1);var n=T.get(e.object);N(n.value,e.object,e.patches,"",t),e.patches.length&&M(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function N(e,t,n,r,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=u(t),a=u(e),o=!1,h=a.length-1;h>=0;h--){var f=e[g=a[h]];if(!l(t,g)||void 0===t[g]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+d(g),value:c(f)}),n.push({op:"remove",path:r+"/"+d(g)}),o=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}),!0);else{var p=t[g];"object"==typeof f&&null!=f&&"object"==typeof p&&null!=p&&Array.isArray(f)===Array.isArray(p)?N(f,p,n,r+"/"+d(g),i):f!==p&&(!0,i&&n.push({op:"test",path:r+"/"+d(g),value:c(f)}),n.push({op:"replace",path:r+"/"+d(g),value:c(p)}))}}if(o||s.length!=a.length)for(h=0;h<s.length;h++){var g;l(e,g=s[h])||void 0===t[g]||n.push({op:"add",path:r+"/"+d(g),value:c(t[g])})}}}function k(e,t,n){void 0===n&&(n=!1);var r=[];return N(e,t,r,"",n),r}Object.assign({},r,i,{JsonPatchError:m,deepClone:c,escapePathComponent:d,unescapePathComponent:f});function C(e,t){return e.length!==t.length||e.some(((e,n)=>e!==t[n]))}},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>o,b:()=>c});n(15);var i=n(107),s=n(108),a=e([i]);async function o(e){if("string"==typeof e){if("createImageBitmap"in self){const t=(await(0,s.a)(e,"blob")).source;return await self.createImageBitmap(t)}if("Image"in self){if(Image.prototype.decode){const e=new Image;return await e.decode(),e}return await new Promise((t=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=()=>{throw new Error("Not found image to ".concat(e))},n.src=e}))}}else{if(0===e.width||0===e.height)return null;if("OffscreenCanvas"in self&&e instanceof self.OffscreenCanvas)return e.transferToImageBitmap();if("HTMLCanvasElement"in self&&e instanceof self.HTMLCanvasElement){const t=await new Promise((t=>{e.toBlob((e=>{e instanceof Blob&&t(e)}))}));return await self.createImageBitmap(t)}}return null}const l=(0,(i=(a.then?(await a)():a)[0]).a)(0,0),u=l.getContext("2d");function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.width||0===e.height)return null;if("OffscreenCanvas"in self&&e instanceof OffscreenCanvas){if(!t)try{return e.transferToImageBitmap()}catch(e){}if(l instanceof OffscreenCanvas&&null!==u)return l.width===e.width&&l.height===e.height||(l.width=e.width,l.height=e.height),u.drawImage(e,0,0),l.transferToImageBitmap()}return e}r()}catch(h){r(h)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>c,b:()=>d});n(1),n(4),n(33),n(181),n(20),n(21),n(60);var r=n(61),i=n(13),s=n(84),a=n(44);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=new WeakMap;class c{constructor(e){l(this,"id",(0,r.a)()),l(this,"names",void 0),l(this,"components",new WeakMap),l(this,"live",!0),l(this,"isUpdate",!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.setComponents(...n),this.names="".concat(e.length>0?"".concat(e," "):"").concat(this.id).split(" ")}getID(){return this.id}getNames(){return[...this.names]}addNames(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.names.includes(t)||(this.names.push(t),this.isUpdate=!0)}}removeNames(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.names.includes(t)&&(this.names.splice(this.names.indexOf(t),1),this.isUpdate=!0)}}setComponents(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{if(!e)return;let t=e;do{this.components.set(t.constructor,e)}while(null!==(t=t.constructor.prototype.__proto__));this.isUpdate=!0}))}getComponent(e){return this.components.get(e)}hasComponent(e){return this.components.has(e)}removeComponent(e){this.components.has(e)&&(this.components.delete(e),this.isUpdate=!0)}checkUpdate(){const{isUpdate:e}=this;return this.isUpdate=!1,e}hasUpdate(){return this.isUpdate}hasLive(){return this.live}remove(){this.live=!1}destroy(){}}class h{constructor(e){l(this,"id",(0,r.a)()),l(this,"entity",void 0),l(this,"components",new Array),this.entity=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.components.push(...n)}hasEntity(e){return e instanceof this.entity&&!this.components.some((t=>!e.hasComponent(t)))}additional(e,t,n){}movable(e,t,n){}physical(e,t,n){}offset(e,t,n){}preadditional(e,t){}premovable(e,t){}prephysical(e,t){}preoffset(e,t){}ended(e,t){}preended(e){}rendering(e,t){}destructor(e,t){}}class d extends class{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o(this,"maxFrameSkipCount",20),o(this,"speed",1),o(this,"framerate",60),o(this,"updateCount",0),o(this,"tickFps",60),o(this,"paintFps",60),o(this,"reqAnim",-1),o(this,"timeout",-1),o(this,"updateTime",-1),o(this,"nextGameTick",-1),o(this,"paintTime",-1),o(this,"skipFrameCount",-1),o(this,"oldTime",-1),o(this,"stackTick",0),o(this,"isSleep",!1),o(this,"isError",!1),o(this,"isUpdateDefault",!1),o(this,"isPaintDefault",!1),o(this,"useAnimationFrame",void 0),(0,i.b)((0,a.d)(),"error",(()=>{this.error()})),this.useAnimationFrame=e}reset(){let e=!1;return-1!==this.reqAnim&&((0,a.b)(this.reqAnim),e=!0),this.updateTime=-1,this.nextGameTick=-1,this.paintTime=-1,this.reqAnim=-1,this.oldTime=-1,e}error(){this.isError=!0,this.stop(),new i.a(this,"error").trigger()}sleep(){this.isSleep=!0,new i.a(this,"sleep").trigger({})}unsleep(){this.isSleep=!1,new i.a(this,"unsleep").trigger()}updateDefault(){this.isUpdateDefault=!0}paintDefault(){this.isPaintDefault=!0}getFramerate(){return this.framerate}getTickFramerate(){return this.tickFps}getPaintFramerate(){return this.paintFps}setTickFramerate(e){this.tickFps=e}setPaintFramerate(e){this.paintFps=e}tickFunc(e){this.requestTick();const t=Math.min(240,this.getTickFramerate()),n=Math.min(240,this.getPaintFramerate()),r=1e3/n;if(-1===this.updateTime&&(this.updateTime=e),-1===this.nextGameTick&&(this.nextGameTick=e),-1===this.paintTime&&(this.paintTime=e),-1===this.oldTime&&(this.oldTime=e),this.isSleep)return this.updateTime=e,this.paintTime=e,this.nextGameTick=e,void(this.oldTime=e);const o=Math.max(0,e-this.updateTime);this.updateTime=e;const l=(0,s.b)(1e3/o,t);let u=0;if(this.isPaintDefault||0===u&&this.updateCount>0){if(Math.max(0,e-this.paintTime)>=r){const t=(0,s.b)(r,n);if(this.framerate=Math.min(t,n),this.useAnimationFrame){if(-1===this.reqAnim){const s=()=>{this.isPaintDefault?this.reqAnim=(0,a.e)(s):this.reqAnim=-1,new i.a(this,"paint").trigger({now:e,framerate:t,fps:n})};this.reqAnim=(0,a.e)(s),this.isPaintDefault=!1,this.paintTime+=r}}else new i.a(this,"paint").trigger({now:e,framerate:t,fps:n}),this.isPaintDefault=!1,this.paintTime+=r}else this.isPaintDefault=!0}let c=this.oldTime;do{const t=u<=0?e:performance.now(),n=t-c+this.stackTick,r=60/(1e3/n/(1e3/60)),s=n/(1e3/60)*this.speed;if(0===u&&new i.a(this,"updatebegin").trigger({now:e,framerate:l,fps:this.getTickFramerate(),updateCount:this.updateCount}),new i.a(this,"update").trigger({time:s,now:e,framerate:r,fps:this.getTickFramerate(),updateIndex:u}),this.nextGameTick+=n,this.stackTick=0,c=t,u++,this.nextGameTick>e){this.skipFrameCount=Math.min(this.maxFrameSkipCount,this.skipFrameCount+.5);break}if(u>=this.skipFrameCount){this.skipFrameCount=Math.max(1,this.skipFrameCount-1|0),this.stackTick=e-this.nextGameTick;break}}while(this.nextGameTick<=e);this.oldTime=c;const h=Math.max(0,o-(performance.now()-e));(u>0||this.isUpdateDefault)&&(this.isUpdateDefault=!1,new i.a(this,"updateend").trigger({time:h/(1e3/60),now:e,framerate:l,fps:this.getTickFramerate(),updateCount:u})),this.updateCount=u}requestTick(){-1===this.timeout&&(this.timeout=(0,a.f)((()=>{const e=performance.now();this.timeout=-1,this.tickFunc(e)})))}cancelTick(){return-1!==this.timeout&&((0,a.c)(this.timeout),this.timeout=-1,!0)}run(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.isError||this.hasRun()||this.isSleep&&!e)&&(this.reset(),this.isSleep=!1,this.requestTick(),!0)}stop(){return!this.hasRun()||(this.reset(),this.cancelTick())}getNowFramerate(){return this.framerate}hasRun(){return-1!==this.timeout}hasSleep(){return this.isSleep}getSpeed(){return this.speed}setSpeed(e){this.speed=e}clear(){this.setSpeed(1)}}{constructor(){super(...arguments),l(this,"id",(0,r.a)()),l(this,"additionals",new Array),l(this,"movables",new Array),l(this,"physicals",new Array),l(this,"offsets",new Array),l(this,"preadditionals",new Array),l(this,"premovables",new Array),l(this,"prephysicals",new Array),l(this,"preoffsets",new Array),l(this,"preendeds",new Array),l(this,"endeds",new Array),l(this,"renderings",new Array),l(this,"destructors",new Array),l(this,"heapSystem",new WeakMap),l(this,"entitys",new Array),l(this,"stands",new Array),l(this,"entitysID",{}),l(this,"entitysName",{})}getID(){return this.id}addSystems(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{e.additional!==h.prototype.additional&&this.additionals.push(e),e.movable!==h.prototype.movable&&this.movables.push(e),e.physical!==h.prototype.physical&&this.physicals.push(e),e.offset!==h.prototype.offset&&this.offsets.push(e),e.preadditional!==h.prototype.preadditional&&this.preadditionals.push(e),e.premovable!==h.prototype.premovable&&this.premovables.push(e),e.prephysical!==h.prototype.prephysical&&this.prephysicals.push(e),e.preoffset!==h.prototype.preoffset&&this.preoffsets.push(e),e.ended!==h.prototype.ended&&this.endeds.push(e),e.preended!==h.prototype.preended&&this.preendeds.push(e),e.rendering!==h.prototype.rendering&&this.renderings.push(e),e.destructor!==h.prototype.destructor&&this.destructors.push(e)}))}checkEntitys(){for(;this.stands.length>0;){const e=this.stands.shift()||null;null!==e&&(this.entitys.push(e),this.entitysID[e.getID()]=e)}}syncEntitys(){const e=[...this.additionals,...this.movables,...this.physicals,...this.offsets,...this.renderings,...this.destructors];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(let t=0,r=0|n.length;t<r;t=t+1|0){const r=n[t],i=r.getNames();for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=i[e];this.entitysName.hasOwnProperty(t)||(this.entitysName[t]=new Array);const n=this.entitysName[t]||null;null===n||n.includes(r)||n.push(r)}const s=u.get(r)||[];for(let e=0,t=0|s.length;e<t;e=e+1|0){const t=s[e],n=this.entitysName[t]||null;null!==n&&n.includes(r)&&(n.splice(n.indexOf(r),1),0===n.length&&delete this.entitysName[t])}u.set(r,i);for(let t=0,n=0|e.length;t<n;t=t+1|0){const n=e[t];this.heapSystem.has(n)||this.heapSystem.set(n,new Array);const i=this.heapSystem.get(n)||[];n.hasEntity(r)?i.includes(r)||i.push(r):i.includes(r)&&i.splice(i.indexOf(r),1)}}new i.a(this,"syncentity").trigger({entitys:n})}addEntitys(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.entitys.includes(t)||this.stands.includes(t)||this.stands.push(t)}}removeEntitys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[...this.additionals,...this.movables,...this.physicals,...this.offsets];for(let e=0,n=0|this.destructors.length;e<n;e=e+1|0){const n=this.destructors[e],r=(this.heapSystem.get(n)||[]).slice().filter((e=>t.includes(e)));for(let e=0,t=0|r.length;e<t;e=e+1|0){const t=r[e];(!t.hasUpdate()||n.hasEntity(t))&&n.destructor(t,this)}}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];this.entitys.splice(this.entitys.indexOf(n),1),delete this.entitysID[n.getID()];const i=n.getNames();for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=i[e],r=this.entitysName[t]||null;null!==r&&r.includes(n)&&(r.splice(r.indexOf(n),1),0===r.length&&delete this.entitysName[t])}n.destroy();for(let e=0,t=0|r.length;e<t;e=e+1|0){const t=r[e],i=this.heapSystem.get(t)||[];i.includes(n)&&i.splice(i.indexOf(n),1)}}new i.a(this,"removeentity").trigger({entitys:t})}hasEntity(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e.hasLive()&&-1!==Object.keys(this.entitys).indexOf(e.getID())))}getEntitys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>!0;return this.entitys.filter((t=>t.hasLive()&&e(t)))}getEntityOfID(e){if(!this.entitysID.hasOwnProperty(e))return null;const t=this.entitysID[e];return t.hasLive()?t:null}getEntitysOfName(){const e=new Array;for(let t=0,n=0|arguments.length;t<n;t=t+1|0){const n=t<0||arguments.length<=t?void 0:arguments[t];this.entitysName.hasOwnProperty(n)&&e.push(...this.entitysName[n].filter((t=>t.hasLive()&&!e.includes(t))))}return e}clear(){for(let e=0,t=0|this.stands.length;e<t;e=e+1|0)this.stands[e].remove();for(let e=0,t=0|this.entitys.length;e<t;e=e+1|0)this.entitys[e].remove();super.clear()}onupdate(e){const{time:t,now:n,framerate:r,fps:s}=e;new i.a(this,"ecsbegin").trigger({time:t,now:n,framerate:r,fps:s});const a=new Array,o=new Array;for(let e=0,t=0|this.entitys.length;e<t;e=e+1|0){const t=this.entitys[e];if(t.hasLive()){if(!t.checkUpdate())continue;a.push(t)}else o.push(t)}a.length>0&&this.syncEntitys(...a),o.length>0&&this.removeEntitys(...o);for(let e=0,n=0|this.preadditionals.length;e<n;e=e+1|0){this.preadditionals[e].preadditional(t,this)}for(let e=0,n=0|this.additionals.length;e<n;e=e+1|0){const n=this.additionals[e],r=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|r.length;e<i;e=e+1|0){const i=r[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.additional(t,i,this)}}for(let e=0,n=0|this.premovables.length;e<n;e=e+1|0){this.premovables[e].premovable(t,this)}for(let e=0,n=0|this.movables.length;e<n;e=e+1|0){const n=this.movables[e],r=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|r.length;e<i;e=e+1|0){const i=r[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.movable(t,i,this)}}for(let e=0,n=0|this.prephysicals.length;e<n;e=e+1|0){this.prephysicals[e].prephysical(t,this)}for(let e=0,n=0|this.physicals.length;e<n;e=e+1|0){const n=this.physicals[e],r=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|r.length;e<i;e=e+1|0){const i=r[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.physical(t,i,this)}}for(let e=0,n=0|this.preoffsets.length;e<n;e=e+1|0){this.preoffsets[e].preoffset(t,this)}for(let e=0,n=0|this.offsets.length;e<n;e=e+1|0){const n=this.offsets[e],r=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|r.length;e<i;e=e+1|0){const i=r[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.offset(t,i,this)}}for(let e=0,t=0|this.preendeds.length;e<t;e=e+1|0){this.preendeds[e].preended(this)}for(let e=0,t=0|this.endeds.length;e<t;e=e+1|0){const t=this.endeds[e],n=(this.heapSystem.get(t)||[]).slice();for(let e=0,r=0|n.length;e<r;e=e+1|0){const r=n[e];r.hasLive()&&(!r.hasUpdate()||t.hasEntity(r))&&t.ended(r,this)}}this.checkEntitys(),new i.a(this,"ecsend").trigger({time:t,now:n,framerate:r,fps:s})}onpaint(e){for(let e=0,t=0|this.renderings.length;e<t;e=e+1|0){const t=this.renderings[e],n=(this.heapSystem.get(t)||[]).slice();for(let e=0,r=0|n.length;e<r;e=e+1|0){const r=n[e];r.hasLive()&&(!r.hasUpdate()||t.hasEntity(r))&&t.rendering(r,this)}}}}},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>f,b:()=>d});var i=n(269),s=n(252),a=n(254),o=n(209),l=n(255),u=n(270),c=e([s,o]);[s,o]=c.then?(await c)():c;new o.a("./asset/font.png"),new o.a("./asset/icon.png"),new o.a("./asset/key.png"),new o.a("./asset/horde_badge.png"),new o.a("./asset/title-prod.png"),new o.a("./asset/title-demo.png"),new o.a("./asset/how_to_play_keyboard.png"),new o.a("./asset/how_to_play_gamepad.png"),new o.a("./asset/memberscard/members.png"),new o.a("./asset/memberscard/silver.png"),new o.a("./asset/memberscard/gold.png"),new o.a("./asset/memberscard/platinum.png"),new o.a("./asset/memberscard/diamond.png"),new s.a("./asset/wall/metal.albedo.png","./asset/wall/metal.pbr.png","./asset/wall/metal.normal.png"),new s.a("./asset/wall/ruins.albedo.png","./asset/wall/ruins.pbr.png","./asset/wall/ruins.normal.png"),new s.a("./asset/hud/hand.albedo.png","./asset/hud/hand.pbr.png","./asset/hud/hand.normal.png"),new s.a("./asset/hud/foot.albedo.png","./asset/hud/foot.pbr.png","./asset/hud/foot.normal.png"),new s.a("./asset/hud/slowball.albedo.png","./asset/hud/slowball.pbr.png","./asset/hud/slowball.normal.png"),new s.a("./asset/hud/monocular.albedo.png","./asset/hud/monocular.pbr.png","./asset/hud/monocular.normal.png"),new s.a("./asset/hud/energyshield.albedo.png","./asset/hud/energyshield.pbr.png","./asset/hud/energyshield.normal.png"),new s.a("./asset/hud/combobooster.albedo.png","./asset/hud/combobooster.pbr.png","./asset/hud/combobooster.normal.png"),new s.a("./asset/hud/hookshot.albedo.png","./asset/hud/hookshot.pbr.png","./asset/hud/hookshot.normal.png"),new s.a("./asset/hud/pistol.albedo.png","./asset/hud/pistol.pbr.png","./asset/hud/pistol.normal.png"),new s.a("./asset/hud/handcannon.albedo.png","./asset/hud/handcannon.pbr.png","./asset/hud/handcannon.normal.png"),new s.a("./asset/hud/machingun.albedo.png","./asset/hud/machingun.pbr.png","./asset/hud/machingun.normal.png"),new s.a("./asset/hud/chainshotgun.albedo.png","./asset/hud/chainshotgun.pbr.png","./asset/hud/chainshotgun.normal.png"),new s.a("./asset/hud/shotgun.albedo.png","./asset/hud/shotgun.pbr.png","./asset/hud/shotgun.normal.png"),new s.a("./asset/hud/heavycannon.albedo.png","./asset/hud/heavycannon.pbr.png","./asset/hud/heavycannon.normal.png"),new s.a("./asset/hud/launcher.albedo.png","./asset/hud/launcher.pbr.png","./asset/hud/launcher.normal.png"),new s.a("./asset/hud/clusterbow.albedo.png","./asset/hud/clusterbow.pbr.png","./asset/hud/clusterbow.normal.png"),new s.a("./asset/hud/plasmagun.albedo.png","./asset/hud/plasmagun.pbr.png","./asset/hud/plasmagun.normal.png"),new s.a("./asset/hud/plasmasmg.albedo.png","./asset/hud/plasmasmg.pbr.png","./asset/hud/plasmasmg.normal.png"),new s.a("./asset/entity/debug.albedo.png","./asset/entity/debug.pbr.png","./asset/entity/debug.normal.png"),new s.a("./asset/entity/ui.albedo.png","./asset/entity/ui.pbr.png","./asset/entity/ui.normal.png"),new s.a("./asset/entity/bullet.albedo.png","./asset/entity/bullet.pbr.png","./asset/entity/bullet.normal.png"),new s.a("./asset/entity/blood.albedo.png","./asset/entity/blood.pbr.png","./asset/entity/blood.normal.png"),new s.a("./asset/entity/acid.albedo.png","./asset/entity/acid.pbr.png","./asset/entity/acid.normal.png"),new s.a("./asset/entity/gib.albedo.png","./asset/entity/gib.pbr.png","./asset/entity/gib.normal.png"),new s.a("./asset/entity/hit.albedo.png","./asset/entity/hit.pbr.png","./asset/entity/hit.normal.png"),new s.a("./asset/entity/ring.albedo.png","./asset/entity/ring.pbr.png","./asset/entity/ring.normal.png"),new s.a("./asset/entity/stuff.albedo.png","./asset/entity/stuff.pbr.png","./asset/entity/stuff.normal.png"),new s.a("./asset/entity/spark.albedo.png","./asset/entity/spark.pbr.png","./asset/entity/spark.normal.png"),new s.a("./asset/entity/explode.albedo.png","./asset/entity/explode.pbr.png","./asset/entity/explode.normal.png"),new s.a("./asset/entity/muzzleflash.albedo.png","./asset/entity/muzzleflash.pbr.png","./asset/entity/muzzleflash.normal.png"),new s.a("./asset/entity/flame.albedo.png","./asset/entity/flame.pbr.png","./asset/entity/flame.normal.png"),new s.a("./asset/entity/enemy-guy.albedo.png","./asset/entity/enemy-guy.pbr.png","./asset/entity/enemy-guy.normal.png"),new s.a("./asset/entity/helmet.albedo.png","./asset/entity/helmet.pbr.png","./asset/entity/helmet.normal.png"),new s.a("./asset/entity/enemy-armor.albedo.png","./asset/entity/enemy-armor.pbr.png","./asset/entity/enemy-armor.normal.png"),new s.a("./asset/entity/object.albedo.png","./asset/entity/object.pbr.png","./asset/entity/object.normal.png"),new s.a("./asset/entity/checkpoint.albedo.png","./asset/entity/checkpoint.pbr.png","./asset/entity/checkpoint.normal.png"),new s.a("./asset/entity/spawner.albedo.png","./asset/entity/spawner.pbr.png","./asset/entity/spawner.normal.png"),new s.a("./asset/entity/gauge.albedo.png","./asset/entity/gauge.pbr.png","./asset/entity/gauge.normal.png"),new s.a("./asset/entity/meat.albedo.png","./asset/entity/meat.pbr.png","./asset/entity/meat.normal.png"),new s.a("./asset/entity/health.albedo.png","./asset/entity/health.pbr.png","./asset/entity/health.normal.png"),new s.a("./asset/entity/armor.albedo.png","./asset/entity/armor.pbr.png","./asset/entity/armor.normal.png"),new s.a("./asset/entity/stamina.albedo.png","./asset/entity/stamina.pbr.png","./asset/entity/stamina.normal.png"),new s.a("./asset/entity/ammo.albedo.png","./asset/entity/ammo.pbr.png","./asset/entity/ammo.normal.png"),new s.a("./asset/entity/weapon.albedo.png","./asset/entity/weapon.pbr.png","./asset/entity/weapon.normal.png"),new s.a("./asset/entity/key.albedo.png","./asset/entity/key.pbr.png","./asset/entity/key.normal.png"),new l.a("./asset/sound/menu/press.mp3"),new l.a("./asset/sound/menu/cancel.mp3"),new l.a("./asset/sound/menu/scroll.mp3"),new l.a("./asset/sound/menu/move.mp3"),new l.a("./asset/sound/menu/buy.mp3"),new l.a("./asset/sound/effect/explode.mp3"),new l.a("./asset/sound/effect/corrosive.mp3"),new l.a("./asset/sound/effect/ice-explode.mp3"),new l.a("./asset/sound/effect/splash.mp3"),new l.a("./asset/sound/effect/ice-break-1.mp3"),new l.a("./asset/sound/effect/ice-break-2.mp3"),new l.a("./asset/sound/effect/ice-break-3.mp3"),new l.a("./asset/sound/effect/head-shot.mp3"),new l.a("./asset/sound/effect/bullet-wall-spark.mp3"),new l.a("./asset/sound/effect/mine-drop.mp3"),new l.a("./asset/sound/effect/damage-ammo.mp3"),new l.a("./asset/sound/effect/damage-melee.mp3"),new l.a("./asset/sound/effect/damage-magic.mp3"),new l.a("./asset/sound/effect/damage-slash.mp3"),new l.a("./asset/sound/effect/damage-flame.mp3"),new l.a("./asset/sound/effect/damage-corrosive1.mp3"),new l.a("./asset/sound/effect/damage-corrosive2.mp3"),new l.a("./asset/sound/weapon/punch-fire.mp3"),new l.a("./asset/sound/weapon/punch-fire-charge.mp3"),new l.a("./asset/sound/weapon/combobooster-fire.mp3"),new l.a("./asset/sound/weapon/combobooster-loop.mp3"),new l.a("./asset/sound/weapon/pistol-fire.mp3"),new l.a("./asset/sound/weapon/hook-fire.mp3"),new l.a("./asset/sound/weapon/hook-bullet.mp3"),new l.a("./asset/sound/weapon/machingun-fire.mp3"),new l.a("./asset/sound/weapon/chainshotgun-fire.mp3"),new l.a("./asset/sound/weapon/chainshotgun-start.mp3"),new l.a("./asset/sound/weapon/chainshotgun-loop.mp3"),new l.a("./asset/sound/weapon/chainshotgun-end.mp3"),new l.a("./asset/sound/weapon/heavycannon-fire.mp3"),new l.a("./asset/sound/weapon/heavycannon-fire-charge.mp3"),new l.a("./asset/sound/weapon/heavycannon-pump.mp3"),new l.a("./asset/sound/weapon/shotgun-fire.mp3"),new l.a("./asset/sound/weapon/shotgun-pump.mp3"),new l.a("./asset/sound/weapon/launcher-fire.mp3"),new l.a("./asset/sound/weapon/launcher-pump.mp3"),new l.a("./asset/sound/weapon/clusterbow-fire.mp3"),new l.a("./asset/sound/weapon/plasmagun-fire.mp3"),new l.a("./asset/sound/weapon/plasmasmg-fire.mp3"),new l.a("./asset/sound/weapon/out-of-ammo.mp3"),new l.a("./asset/sound/weapon/charge-loop.mp3"),new l.a("./asset/sound/weapon/charge-complete.mp3"),new l.a("./asset/sound/combo/up.mp3"),new l.a("./asset/sound/combo/down.mp3"),new l.a("./asset/sound/item/ammo.mp3"),new l.a("./asset/sound/item/weapon.mp3"),new l.a("./asset/sound/item/key.mp3"),new l.a("./asset/sound/item/meat-1.mp3"),new l.a("./asset/sound/item/meat-2.mp3"),new l.a("./asset/sound/item/meat-3.mp3"),new l.a("./asset/sound/item/ice-1.mp3"),new l.a("./asset/sound/item/ice-2.mp3"),new l.a("./asset/sound/item/ice-3.mp3"),new l.a("./asset/sound/item/meat-mute.mp3"),new l.a("./asset/sound/item/armor.mp3"),new l.a("./asset/sound/item/energy.mp3"),new l.a("./asset/sound/item/checkpoint.mp3"),new l.a("./asset/sound/item/spawn.mp3"),new l.a("./asset/sound/player/step-1.mp3"),new l.a("./asset/sound/player/step-2.mp3"),new l.a("./asset/sound/player/step-3.mp3"),new l.a("./asset/sound/player/step-4.mp3"),new l.a("./asset/sound/player/landing.mp3"),new l.a("./asset/sound/player/grab.mp3"),new l.a("./asset/sound/player/climb.mp3"),new l.a("./asset/sound/player/sliding.mp3"),new l.a("./asset/sound/player/wallrun.mp3"),new l.a("./asset/sound/player/open.mp3"),new l.a("./asset/sound/player/lock1.mp3"),new l.a("./asset/sound/player/lock2.mp3"),new l.a("./asset/sound/player/lock3.mp3"),new l.a("./asset/sound/enemy/no-damage.mp3"),new l.a("./asset/sound/enemy/find-pistol-1.mp3"),new l.a("./asset/sound/enemy/find-pistol-2.mp3"),new l.a("./asset/sound/enemy/find-pistol-3.mp3"),new l.a("./asset/sound/enemy/find-pistol-4.mp3"),new l.a("./asset/sound/enemy/find-shotgun-1.mp3"),new l.a("./asset/sound/enemy/find-shotgun-2.mp3"),new l.a("./asset/sound/enemy/find-shotgun-3.mp3"),new l.a("./asset/sound/enemy/find-shotgun-4.mp3"),new l.a("./asset/sound/enemy/find-shotgun-5.mp3"),new l.a("./asset/sound/enemy/find-machingun-1.mp3"),new l.a("./asset/sound/enemy/find-machingun-2.mp3"),new l.a("./asset/sound/enemy/find-machingun-3.mp3"),new l.a("./asset/sound/enemy/find-melee-1.mp3"),new l.a("./asset/sound/enemy/find-melee-2.mp3"),new l.a("./asset/sound/enemy/find-melee-3.mp3"),new l.a("./asset/sound/enemy/pain-pistol-1.mp3"),new l.a("./asset/sound/enemy/pain-pistol-2.mp3"),new l.a("./asset/sound/enemy/pain-shotgun-1.mp3"),new l.a("./asset/sound/enemy/pain-shotgun-2.mp3"),new l.a("./asset/sound/enemy/pain-machingun-1.mp3"),new l.a("./asset/sound/enemy/pain-machingun-2.mp3"),new l.a("./asset/sound/enemy/pain-melee-1.mp3"),new l.a("./asset/sound/enemy/pain-melee-2.mp3"),new l.a("./asset/sound/enemy/death-pistol-1.mp3"),new l.a("./asset/sound/enemy/death-shotgun-1.mp3"),new l.a("./asset/sound/enemy/death-machingun-1.mp3"),new l.a("./asset/sound/enemy/death-melee-1.mp3"),new l.a("./asset/sound/enemy/death-armor.mp3"),new l.a("./asset/sound/enemy/fire-melee.mp3"),new l.a("./asset/sound/enemy/fire-magic.mp3"),new l.a("./asset/sound/system/help.mp3");const h={NONE:new i.a("./asset/wall/metal.albedo.png",1,0),METAL_DOOR_DEFAULT:new i.a("./asset/wall/metal.albedo.png",1,1),METAL_DOOR_RED:new i.a("./asset/wall/metal.albedo.png",1,2),METAL_DOOR_BLUE:new i.a("./asset/wall/metal.albedo.png",1,3),METAL_DOOR_YELLOW:new i.a("./asset/wall/metal.albedo.png",1,4),METAL_GOLE:new i.a("./asset/wall/metal.albedo.png",1,5),METAL_SECRET:new i.a("./asset/wall/metal.albedo.png",1,6),METAL_GRAB:new i.a("./asset/wall/metal.albedo.png",1,7),METAL_ASSIST_GRAB:new i.a("./asset/wall/metal.albedo.png",1,8),METAL_WALLRUN:new i.a("./asset/wall/metal.albedo.png",1,9),METAL_DOOR_SLIDING:new i.a("./asset/wall/metal.albedo.png",1,10),METAL_IMPORTANT:new i.a("./asset/wall/metal.albedo.png",1,11),METAL_EDIT_ZONE:new i.a("./asset/wall/metal.albedo.png",1,12),METAL_EDIT_BLOCK:new i.a("./asset/wall/metal.albedo.png",1,13),METAL_TILE1:new i.a("./asset/wall/metal.albedo.png",1,14),METAL_TILE2:new i.a("./asset/wall/metal.albedo.png",1,15),METAL_TILE3:new i.a("./asset/wall/metal.albedo.png",1,16),METAL_TILE4:new i.a("./asset/wall/metal.albedo.png",1,17),METAL_TILE5:new i.a("./asset/wall/metal.albedo.png",1,18),METAL_TILE6:new i.a("./asset/wall/metal.albedo.png",1,19),METAL_TILE7:new i.a("./asset/wall/metal.albedo.png",1,20),RUINS_DOOR_DEFAULT:new i.a("./asset/wall/ruins.albedo.png",1,1),RUINS_DOOR_RED:new i.a("./asset/wall/ruins.albedo.png",1,2),RUINS_DOOR_BLUE:new i.a("./asset/wall/ruins.albedo.png",1,3),RUINS_DOOR_YELLOW:new i.a("./asset/wall/ruins.albedo.png",1,4),RUINS_GOLE:new i.a("./asset/wall/ruins.albedo.png",1,5),RUINS_SECRET:new i.a("./asset/wall/ruins.albedo.png",1,6),RUINS_GRAB:new i.a("./asset/wall/ruins.albedo.png",1,7),RUINS_ASSIST_GRAB:new i.a("./asset/wall/ruins.albedo.png",1,8),RUINS_WALLRUN:new i.a("./asset/wall/ruins.albedo.png",1,9),RUINS_EDIT_ZONE:new i.a("./asset/wall/ruins.albedo.png",1,12),RUINS_EDIT_BLOCK:new i.a("./asset/wall/ruins.albedo.png",1,13),RUINS_TILE1:new i.a("./asset/wall/ruins.albedo.png",1,14),RUINS_TILE2:new i.a("./asset/wall/ruins.albedo.png",1,15),RUINS_TILE3:new i.a("./asset/wall/ruins.albedo.png",1,16),HUD_HAND_GRIP:new i.a("./asset/hud/hand.albedo.png",1,0),HUD_HAND_STILL:new i.a("./asset/hud/hand.albedo.png",1,1),HUD_HAND_FIRE:new i.a("./asset/hud/hand.albedo.png",1,2),HUD_HAND_JUMP:new i.a("./asset/hud/hand.albedo.png",1,3),HUD_HAND_SPRINT:new i.a("./asset/hud/hand.albedo.png",1,4),HUD_HAND_AIR:new i.a("./asset/hud/hand.albedo.png",1,5),HUD_HAND_CHARGE:new i.a("./asset/hud/hand.albedo.png",1,6),HUD_HAND_ATTACK:new i.a("./asset/hud/hand.albedo.png",1,7),HUD_FOOT_SLIDING:new i.a("./asset/hud/foot.albedo.png",1,0),HUD_FOOT_COIL_HAND:new i.a("./asset/hud/foot.albedo.png",1,1),HUD_FOOT_COIL_NO_HAND:new i.a("./asset/hud/foot.albedo.png",1,2),HUD_SLOWBALL_STILL:new i.a("./asset/hud/slowball.albedo.png",1,0),HUD_SLOWBALL_FIRE:new i.a("./asset/hud/slowball.albedo.png",1,1),HUD_BINOCULARS_STILL:new i.a("./asset/hud/monocular.albedo.png",1,0),HUD_ENERGYSHIELD_STILL:new i.a("./asset/hud/energyshield.albedo.png",1,0),HUD_ENERGYSHIELD_EMPTY:new i.a("./asset/hud/energyshield.albedo.png",1,1),HUD_ENERGYSHIELD_FIRE:new i.a("./asset/hud/energyshield.albedo.png",1,2),HUD_COMBO_BOOSTER_STILL:new i.a("./asset/hud/combobooster.albedo.png",1,0),HUD_COMBO_BOOSTER_FIRE:new i.a("./asset/hud/combobooster.albedo.png",1,1),HUD_HOOKSHOT_STILL:new i.a("./asset/hud/hookshot.albedo.png",1,0),HUD_PISTOL_STILL:new i.a("./asset/hud/pistol.albedo.png",1,0),HUD_PISTOL_COCKING:new i.a("./asset/hud/pistol.albedo.png",1,1),HUD_HANDCANNON_STILL:new i.a("./asset/hud/handcannon.albedo.png",1,0),HUD_HANDCANNON_COCKING:new i.a("./asset/hud/handcannon.albedo.png",1,1),HUD_MACHINGUN_STILL:new i.a("./asset/hud/machingun.albedo.png",1,0),HUD_MACHINGUN_COCKING:new i.a("./asset/hud/machingun.albedo.png",1,1),HUD_CHAINSHOTGUN_STILL:new i.a("./asset/hud/chainshotgun.albedo.png",1,0),HUD_CHAINSHOTGUN_COCKING:new i.a("./asset/hud/chainshotgun.albedo.png",1,1),HUD_SHOTGUN_STILL:new i.a("./asset/hud/shotgun.albedo.png",1,0),HUD_SHOTGUN_COCKING:new i.a("./asset/hud/shotgun.albedo.png",1,1),HUD_HEAVYCANNON_STILL:new i.a("./asset/hud/heavycannon.albedo.png",1,0),HUD_HEAVYCANNON_COCKING:new i.a("./asset/hud/heavycannon.albedo.png",1,1),HUD_LAUNCHER_STILL:new i.a("./asset/hud/launcher.albedo.png",1,0),HUD_LAUNCHER_COCKING:new i.a("./asset/hud/launcher.albedo.png",1,1),HUD_CLUSTERBOW_STILL:new i.a("./asset/hud/clusterbow.albedo.png",1,0),HUD_CLUSTERBOW_COCKING:new i.a("./asset/hud/clusterbow.albedo.png",1,1),HUD_PLASMAGUN_STILL:new i.a("./asset/hud/plasmagun.albedo.png",1,0),HUD_PLASMAGUN_COCKING:new i.a("./asset/hud/plasmagun.albedo.png",1,1),HUD_PLASMASMG_STILL:new i.a("./asset/hud/plasmasmg.albedo.png",1,0),HUD_PLASMASMG_COCKING:new i.a("./asset/hud/plasmasmg.albedo.png",1,1),DEGUB_TARGET:new i.a("./asset/entity/debug.albedo.png",1,0),UI_START_POINT:new i.a("./asset/entity/ui.albedo.png",1,0),UI_GOLE_POINT:new i.a("./asset/entity/ui.albedo.png",1,1),UI_SECRET_POINT:new i.a("./asset/entity/ui.albedo.png",1,2),UI_HELP_POINT:new i.a("./asset/entity/ui.albedo.png",1,3),UI_HORDE_GROUND_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,4),UI_HORDE_SNIPER_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,5),UI_HORDE_SKY_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,6),UI_ANGLE:new i.a("./asset/entity/ui.albedo.png",1,7),EFFECT_BULLET_AMMO_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,0),EFFECT_BULLET_PLASMA_BALL:new i.a("./asset/entity/bullet.albedo.png",.1,1),EFFECT_BULLET_HOOK_HEAD:new i.a("./asset/entity/bullet.albedo.png",.25,2),EFFECT_BULLET_HOOK_CHAIN:new i.a("./asset/entity/bullet.albedo.png",.1,3),EFFECT_BULLET_GRENADE:new i.a("./asset/entity/bullet.albedo.png",.1,3),EFFECT_BULLET_ARM_GRANADE:new i.a("./asset/entity/bullet.albedo.png",.375,4),EFFECT_BULLET_RAIL_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,5),EFFECT_BULLET_LASER_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,6),EFFECT_BULLET_PLASMA_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,7),EFFECT_BULLET_MAGINC_MISSILE_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,8),EFFECT_BULLET_DEATH_BOMB:new i.a("./asset/entity/bullet.albedo.png",.25,9),EFFECT_BLOOD_RED1:new i.a("./asset/entity/blood.albedo.png",.75,0),EFFECT_BLOOD_RED2:new i.a("./asset/entity/blood.albedo.png",.75,1),EFFECT_BLOOD_RED3:new i.a("./asset/entity/blood.albedo.png",.75,2),EFFECT_BLOOD_GREEN1:new i.a("./asset/entity/blood.albedo.png",.75,3),EFFECT_BLOOD_GREEN2:new i.a("./asset/entity/blood.albedo.png",.75,4),EFFECT_BLOOD_GREEN3:new i.a("./asset/entity/blood.albedo.png",.75,5),EFFECT_ACID_RED1:new i.a("./asset/entity/acid.albedo.png",.75,0),EFFECT_ACID_RED2:new i.a("./asset/entity/acid.albedo.png",.75,1),EFFECT_ACID_GREEN:new i.a("./asset/entity/acid.albedo.png",.75,2),EFFECT_ACID_BLUE:new i.a("./asset/entity/acid.albedo.png",.75,4),EFFECT_GIB1:new i.a("./asset/entity/gib.albedo.png",.25,0),EFFECT_GIB2:new i.a("./asset/entity/gib.albedo.png",.25,1),EFFECT_GIB3:new i.a("./asset/entity/gib.albedo.png",.25,2),EFFECT_GIB4:new i.a("./asset/entity/gib.albedo.png",.25,3),EFFECT_ICE_GIB1:new i.a("./asset/entity/gib.albedo.png",.25,4),EFFECT_ICE_GIB2:new i.a("./asset/entity/gib.albedo.png",.25,5),EFFECT_ICE_GIB3:new i.a("./asset/entity/gib.albedo.png",.25,6),EFFECT_ICE_GIB4:new i.a("./asset/entity/gib.albedo.png",.25,7),EFFECT_HIT_WALL1:new i.a("./asset/entity/hit.albedo.png",1,0),EFFECT_HIT_WALL2:new i.a("./asset/entity/hit.albedo.png",1,1),EFFECT_HIT_WALL3:new i.a("./asset/entity/hit.albedo.png",1,2),EFFECT_HIT_BLOOD1:new i.a("./asset/entity/hit.albedo.png",1,3),EFFECT_HIT_BLOOD2:new i.a("./asset/entity/hit.albedo.png",1,4),EFFECT_HIT_BLOOD3:new i.a("./asset/entity/hit.albedo.png",1,5),EFFECT_HEADSHOT1:new i.a("./asset/entity/ring.albedo.png",1,0),EFFECT_HEADSHOT2:new i.a("./asset/entity/ring.albedo.png",1,1),EFFECT_HEADSHOT3:new i.a("./asset/entity/ring.albedo.png",1,2),EFFECT_HEADSHOT4:new i.a("./asset/entity/ring.albedo.png",1,3),EFFECT_HEADSHOT5:new i.a("./asset/entity/ring.albedo.png",1,4),EFFECT_HEADSHOT6:new i.a("./asset/entity/ring.albedo.png",1,5),EFFECT_ARMORBREAK1:new i.a("./asset/entity/ring.albedo.png",1,6),EFFECT_ARMORBREAK2:new i.a("./asset/entity/ring.albedo.png",1,7),EFFECT_ARMORBREAK3:new i.a("./asset/entity/ring.albedo.png",1,8),EFFECT_ARMORBREAK4:new i.a("./asset/entity/ring.albedo.png",1,9),EFFECT_ARMORBREAK5:new i.a("./asset/entity/ring.albedo.png",1,10),EFFECT_ARMORBREAK6:new i.a("./asset/entity/ring.albedo.png",1,11),EFFECT_STUFF:new i.a("./asset/entity/stuff.albedo.png",1,0),EFFECT_SPARK_MISSILE1:new i.a("./asset/entity/spark.albedo.png",1,0),EFFECT_SPARK_MISSILE2:new i.a("./asset/entity/spark.albedo.png",1,1),EFFECT_SPARK_MISSILE3:new i.a("./asset/entity/spark.albedo.png",1,2),EFFECT_SPARK_MISSILE4:new i.a("./asset/entity/spark.albedo.png",1,3),EFFECT_DEFAULT_EXPLODE1:new i.a("./asset/entity/explode.albedo.png",1,0),EFFECT_DEFAULT_EXPLODE2:new i.a("./asset/entity/explode.albedo.png",1,1),EFFECT_DEFAULT_EXPLODE3:new i.a("./asset/entity/explode.albedo.png",1,2),EFFECT_DEFAULT_EXPLODE4:new i.a("./asset/entity/explode.albedo.png",1,3),EFFECT_DEFAULT_EXPLODE5:new i.a("./asset/entity/explode.albedo.png",1,4),EFFECT_DEFAULT_EXPLODE6:new i.a("./asset/entity/explode.albedo.png",1,5),EFFECT_DEFAULT_EXPLODE7:new i.a("./asset/entity/explode.albedo.png",1,6),EFFECT_DEFAULT_EXPLODE8:new i.a("./asset/entity/explode.albedo.png",1,7),EFFECT_DEFAULT_EXPLODE9:new i.a("./asset/entity/explode.albedo.png",1,8),EFFECT_DEFAULT_EXPLODE10:new i.a("./asset/entity/explode.albedo.png",1,9),EFFECT_DEFAULT_EXPLODE11:new i.a("./asset/entity/explode.albedo.png",1,10),EFFECT_DEFAULT_EXPLODE12:new i.a("./asset/entity/explode.albedo.png",1,11),EFFECT_DEFAULT_EXPLODE13:new i.a("./asset/entity/explode.albedo.png",1,12),EFFECT_DEFAULT_EXPLODE14:new i.a("./asset/entity/explode.albedo.png",1,13),EFFECT_CORROSIVE_EXPLODE1:new i.a("./asset/entity/explode.albedo.png",1,14),EFFECT_CORROSIVE_EXPLODE2:new i.a("./asset/entity/explode.albedo.png",1,15),EFFECT_CORROSIVE_EXPLODE3:new i.a("./asset/entity/explode.albedo.png",1,16),EFFECT_CORROSIVE_EXPLODE4:new i.a("./asset/entity/explode.albedo.png",1,17),EFFECT_CORROSIVE_EXPLODE5:new i.a("./asset/entity/explode.albedo.png",1,18),EFFECT_CORROSIVE_EXPLODE6:new i.a("./asset/entity/explode.albedo.png",1,19),EFFECT_CORROSIVE_EXPLODE7:new i.a("./asset/entity/explode.albedo.png",1,20),EFFECT_CORROSIVE_EXPLODE8:new i.a("./asset/entity/explode.albedo.png",1,21),EFFECT_CORROSIVE_EXPLODE9:new i.a("./asset/entity/explode.albedo.png",1,22),EFFECT_CORROSIVE_EXPLODE10:new i.a("./asset/entity/explode.albedo.png",1,23),EFFECT_CORROSIVE_EXPLODE11:new i.a("./asset/entity/explode.albedo.png",1,24),EFFECT_CORROSIVE_EXPLODE12:new i.a("./asset/entity/explode.albedo.png",1,25),EFFECT_CORROSIVE_EXPLODE13:new i.a("./asset/entity/explode.albedo.png",1,26),EFFECT_CORROSIVE_EXPLODE14:new i.a("./asset/entity/explode.albedo.png",1,27),EFFECT_FLAME1:new i.a("./asset/entity/flame.albedo.png",1,0),EFFECT_FLAME2:new i.a("./asset/entity/flame.albedo.png",1,1),EFFECT_FLAME3:new i.a("./asset/entity/flame.albedo.png",1,2),EFFECT_FLAME4:new i.a("./asset/entity/flame.albedo.png",1,3),EFFECT_FLAME5:new i.a("./asset/entity/flame.albedo.png",1,4),EFFECT_MUZZLE_FLASH_AMMO_1:new i.a("./asset/entity/muzzleflash.albedo.png",1,0),EFFECT_MUZZLE_FLASH_AMMO_2:new i.a("./asset/entity/muzzleflash.albedo.png",1,1),EFFECT_MUZZLE_FLASH_AMMO_3:new i.a("./asset/entity/muzzleflash.albedo.png",1,2),EFFECT_MUZZLE_FLASH_CELL_1:new i.a("./asset/entity/muzzleflash.albedo.png",1,3),EFFECT_MUZZLE_FLASH_CELL_2:new i.a("./asset/entity/muzzleflash.albedo.png",1,4),EFFECT_MUZZLE_FLASH_CELL_3:new i.a("./asset/entity/muzzleflash.albedo.png",1,5),EFFECT_MUZZLE_FLASH_HAVYCANNON1:new i.a("./asset/entity/muzzleflash.albedo.png",1,6),EFFECT_MUZZLE_FLASH_HAVYCANNON2:new i.a("./asset/entity/muzzleflash.albedo.png",1,7),EFFECT_MUZZLE_FLASH_HAVYCANNON3:new i.a("./asset/entity/muzzleflash.albedo.png",1,8),ENEMY_TARGET_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,0),ENEMY_TARGET_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,2),ENEMY_TARGET_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,3),ENEMY_TARGET_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,4),ENEMY_TARGET_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,5),ENEMY_GUY_PISTOL_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,6),ENEMY_GUY_PISTOL_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,7),ENEMY_GUY_PISTOL_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,8),ENEMY_GUY_PISTOL_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,9),ENEMY_GUY_PISTOL_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,10),ENEMY_GUY_PISTOL_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,11),ENEMY_GUY_SHOTGUN_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,12),ENEMY_GUY_SHOTGUN_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,13),ENEMY_GUY_SHOTGUN_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,14),ENEMY_GUY_SHOTGUN_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,15),ENEMY_GUY_SHOTGUN_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,16),ENEMY_GUY_SHOTGUN_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,17),ENEMY_GUY_MACHINGUN_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,18),ENEMY_GUY_MACHINGUN_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,19),ENEMY_GUY_MACHINGUN_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,20),ENEMY_GUY_MACHINGUN_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,21),ENEMY_GUY_MACHINGUN_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,22),ENEMY_GUY_MACHINGUN_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,23),ENEMY_GUY_MELEE_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,24),ENEMY_GUY_MELEE_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,25),ENEMY_GUY_MELEE_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,26),ENEMY_GUY_MELEE_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,27),ENEMY_GUY_MELEE_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,28),ENEMY_GUY_MELEE_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,29),ENEMY_GUY_PISTOL_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,30),ENEMY_GUY_PISTOL_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,31),ENEMY_GUY_PISTOL_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,32),ENEMY_GUY_PISTOL_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,35),ENEMY_GUY_SHOTGUN_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,36),ENEMY_GUY_SHOTGUN_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,37),ENEMY_GUY_SHOTGUN_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,38),ENEMY_GUY_SHOTGUN_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,41),ENEMY_GUY_MACHINGUN_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,42),ENEMY_GUY_MACHINGUN_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,43),ENEMY_GUY_MACHINGUN_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,44),ENEMY_GUY_MACHINGUN_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,47),ENEMY_GUY_MELEE_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,48),ENEMY_GUY_MELEE_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,49),ENEMY_GUY_MELEE_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,50),ENEMY_GUY_MELEE_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,53),ENEMY_GUY_MISSILE_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,54),ENEMY_GUY_MISSILE_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,55),ENEMY_GUY_MISSILE_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,56),ENEMY_GUY_MISSILE_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,59),ENEMY_TANK_BALL_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,60),ENEMY_TANK_BALL_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,61),ENEMY_TANK_BALL_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,62),ENEMY_TANK_BALL_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,65),ENEMY_GUY_HELMET_STILL:new i.a("./asset/entity/helmet.albedo.png",1,0),ENEMY_GUY_HELMET_PAIN:new i.a("./asset/entity/helmet.albedo.png",1,1),ENEMY_GUY_ARMOR_HELMET:new i.a("./asset/entity/enemy-armor.albedo.png",1,0),ENEMY_GUY_ARMOR_SHOULDER:new i.a("./asset/entity/enemy-armor.albedo.png",1,1),ENEMY_GUY_ARMOR_ARM:new i.a("./asset/entity/enemy-armor.albedo.png",1,2),ENEMY_GUY_ARMOR_BODY:new i.a("./asset/entity/enemy-armor.albedo.png",1,3),ENEMY_GUY_ARMOR_WAIST:new i.a("./asset/entity/enemy-armor.albedo.png",1,4),OBJECT_SHOP:new i.a("./asset/entity/object.albedo.png",1,0),OBJECT_SHOP_SALE:new i.a("./asset/entity/object.albedo.png",1,1),OBJECT_EDITOR:new i.a("./asset/entity/object.albedo.png",1,2),OBJECT_DRUM:new i.a("./asset/entity/object.albedo.png",1,3),OBJECT_CHECKPOINT_DISABLE:new i.a("./asset/entity/checkpoint.albedo.png",1,0),OBJECT_CHECKPOINT_ACTIVE:new i.a("./asset/entity/checkpoint.albedo.png",1,1),OBJECT_SPAWNER_HEALTH:new i.a("./asset/entity/spawner.albedo.png",1,0),OBJECT_SPAWNER_ARMOR:new i.a("./asset/entity/spawner.albedo.png",1,1),OBJECT_SPAWNER_AMMO:new i.a("./asset/entity/spawner.albedo.png",1,2),OBJECT_SPAWNER_OTHER:new i.a("./asset/entity/spawner.albedo.png",1,3),EFFECT_SPAWNER_GAUGE1:new i.a("./asset/entity/gauge.albedo.png",1,0),EFFECT_SPAWNER_GAUGE2:new i.a("./asset/entity/gauge.albedo.png",1,1),EFFECT_SPAWNER_GAUGE3:new i.a("./asset/entity/gauge.albedo.png",1,2),EFFECT_SPAWNER_GAUGE4:new i.a("./asset/entity/gauge.albedo.png",1,3),EFFECT_SPAWNER_GAUGE5:new i.a("./asset/entity/gauge.albedo.png",1,4),EFFECT_SPAWNER_GAUGE6:new i.a("./asset/entity/gauge.albedo.png",1,5),EFFECT_SPAWNER_GAUGE7:new i.a("./asset/entity/gauge.albedo.png",1,6),EFFECT_SPAWNER_GAUGE8:new i.a("./asset/entity/gauge.albedo.png",1,7),EFFECT_SPAWNER_GAUGE9:new i.a("./asset/entity/gauge.albedo.png",1,8),EFFECT_SPAWNER_GAUGE10:new i.a("./asset/entity/gauge.albedo.png",1,9),EFFECT_SPAWNER_GAUGE11:new i.a("./asset/entity/gauge.albedo.png",1,10),EFFECT_SPAWNER_GAUGE12:new i.a("./asset/entity/gauge.albedo.png",1,11),EFFECT_SPAWNER_GAUGE13:new i.a("./asset/entity/gauge.albedo.png",1,12),EFFECT_SPAWNER_GAUGE14:new i.a("./asset/entity/gauge.albedo.png",1,13),EFFECT_SPAWNER_GAUGE15:new i.a("./asset/entity/gauge.albedo.png",1,14),EFFECT_SPAWNER_GAUGE16:new i.a("./asset/entity/gauge.albedo.png",1,15),ITEM_MEAT_STIM:new i.a("./asset/entity/meat.albedo.png",1,0),ITEM_MEAT_MEDIKIT:new i.a("./asset/entity/meat.albedo.png",1,1),ITEM_MEAT_ELIXIR:new i.a("./asset/entity/meat.albedo.png",1,2),ITEM_HEALTH_ELIXIR:new i.a("./asset/entity/health.albedo.png",1,2),ITEM_ARMOR_ELIXIR:new i.a("./asset/entity/armor.albedo.png",1,0),ITEM_ENERGY_ELIXIR:new i.a("./asset/entity/stamina.albedo.png",1,0),ITEM_AMMO_CLIP:new i.a("./asset/entity/ammo.albedo.png",1,0),ITEM_AMMO_MAGAZINE:new i.a("./asset/entity/ammo.albedo.png",1,1),ITEM_AMMO_SHELL:new i.a("./asset/entity/ammo.albedo.png",1,2),ITEM_AMMO_ROCKET:new i.a("./asset/entity/ammo.albedo.png",1,3),ITEM_AMMO_CELL:new i.a("./asset/entity/ammo.albedo.png",1,4),ITEM_WEAPON_PUNCH:new i.a("./asset/entity/weapon.albedo.png",1,0),ITEM_WEAPON_SLOWBALL:new i.a("./asset/entity/weapon.albedo.png",1,6),ITEM_WEAPON_BINOCULARS:new i.a("./asset/entity/weapon.albedo.png",1,12),ITEM_WEAPON_ENERGYSHIELD:new i.a("./asset/entity/weapon.albedo.png",1,18),ITEM_WEAPON_COMBOBOOSTER:new i.a("./asset/entity/weapon.albedo.png",1,24),ITEM_WEAPON_FROZEN_GRENADE:new i.a("./asset/entity/weapon.albedo.png",1,30),ITEM_WEAPON_HOOKSHOT:new i.a("./asset/entity/weapon.albedo.png",1,36),ITEM_WEAPON_PISTOL:new i.a("./asset/entity/weapon.albedo.png",1,1),ITEM_WEAPON_HANDCANNON:new i.a("./asset/entity/weapon.albedo.png",1,7),ITEM_WEAPON_MACHINGUN:new i.a("./asset/entity/weapon.albedo.png",1,2),ITEM_WEAPON_CHAINSHOTGUN:new i.a("./asset/entity/weapon.albedo.png",1,8),ITEM_WEAPON_SHOTGUN:new i.a("./asset/entity/weapon.albedo.png",1,3),ITEM_WEAPON_HEAVYCANNON:new i.a("./asset/entity/weapon.albedo.png",1,9),ITEM_WEAPON_LAUNCHER:new i.a("./asset/entity/weapon.albedo.png",1,4),ITEM_WEAPON_CLUSTERBOW:new i.a("./asset/entity/weapon.albedo.png",1,10),ITEM_WEAPON_PLASMAGUN:new i.a("./asset/entity/weapon.albedo.png",1,5),ITEM_WEAPON_PLASMASMG:new i.a("./asset/entity/weapon.albedo.png",1,11),ITEM_KEY_RED:new i.a("./asset/entity/key.albedo.png",1,0),ITEM_KEY_BLUE:new i.a("./asset/entity/key.albedo.png",1,1),ITEM_KEY_YELLOW:new i.a("./asset/entity/key.albedo.png",1,2),ITEM_KEY_RANDOM:new i.a("./asset/entity/key.albedo.png",1,3)},d=(h.EFFECT_FLAME1,h.EFFECT_FLAME2,h.EFFECT_FLAME3,h.EFFECT_FLAME4,h.EFFECT_FLAME5,h.NONE,h.METAL_DOOR_DEFAULT,h.METAL_DOOR_RED,h.METAL_DOOR_BLUE,h.METAL_DOOR_YELLOW,h.METAL_GOLE,h.METAL_SECRET,h.METAL_GRAB,h.METAL_ASSIST_GRAB,h.METAL_WALLRUN,h.METAL_DOOR_SLIDING,h.METAL_IMPORTANT,h.METAL_EDIT_ZONE,h.METAL_EDIT_BLOCK,h.METAL_TILE1,h.METAL_TILE2,h.METAL_TILE3,h.METAL_TILE4,h.METAL_TILE5,h.METAL_TILE6,h.METAL_TILE7,h.NONE,h.RUINS_DOOR_DEFAULT,h.RUINS_DOOR_RED,h.RUINS_DOOR_BLUE,h.RUINS_DOOR_YELLOW,h.RUINS_GOLE,h.RUINS_SECRET,h.RUINS_GRAB,h.RUINS_ASSIST_GRAB,h.RUINS_WALLRUN,h.NONE,h.NONE,h.RUINS_EDIT_ZONE,h.RUINS_EDIT_BLOCK,h.RUINS_TILE1,h.RUINS_TILE2,h.RUINS_TILE3,h.NONE,h.NONE,h.NONE,h.NONE,new a.a(.5,.5,.5,"NONE","NONE","NONE","NONE","NONE","NONE"));new a.a(.5,.5,.5,"WALL","WALL","WALL","WALL","CEIL","FLOOR"),new a.a(.5,.5,.5,"DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT"),new a.a(.5,.5,.5,"DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED"),new a.a(.5,.5,.5,"DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE"),new a.a(.5,.5,.5,"DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW"),new a.a(.5,.5,.5,"EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK");const f={PROJEKT:new u.a([1,0,0]),MATCHA:new u.a([0,1,0]),NAKUKORONI:new u.a([0,0,1]),PIKAPIKA:new u.a([1,1,0]),TOTTOKO:new u.a([1,.5,0]),LATEL:new u.a([1,0,1])};r()}catch(e){r(e)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>o});n(15),n(1),n(4);var i=n(253),s=n(206),a=e([s]);s=(a.then?(await a)():a)[0];class o extends i.a{async load(){const e=this.getDatas();0===e.length&&e.push(...await Promise.all(this.getUrls().map((async e=>await(0,s.a)(e)))))}}r()}catch(e){r(e)}}))},(e,t,n)=>{var r=n(0),i=n(24),s=n(23),a=n(64),o=n(28),l=r.TypeError,u=function(e){return function(t,n,r,u){i(n);var c=s(t),h=a(c),d=o(c),f=e?d-1:0,p=e?-1:1;if(r<2)for(;;){if(f in h){u=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw l("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in h&&(u=n(u,h[f],f,c));return u}};e.exports={left:u(!1),right:u(!0)}},(e,t,n)=>{"use strict";function r(){return"localhost"===location.hostname}n.d(t,{a:()=>r})},(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{n(1),n(4),n(15);var r=n(13),i=n(44),s=n(179),a=n(225),o=n(234),l=n(235),u=n(263),c=e([a,l]);[a,l]=c.then?(await c)():c;const h={raycast:null,ui:null};let d=null,f=null,p=null,g=null,m=null,v=null,y=0,b=-1,w=-1,E=!1,_=!1,M=0,O=0,x=0,A=!1,S=!1;function T(){_=!0,F()}function R(){-1===w&&(w=(0,i.f)((()=>{w=-1,R()})))}function P(){-1===b&&(b=(0,i.e)((e=>{b=-1,I(e)})))}function L(){!_&&E||(E=!0,R(),P())}function F(){E&&(E=!1,(0,i.c)(w),(0,i.b)(b),b=-1,w=-1)}function I(e){var t,n;P(),N(),null!==(t=v)&&void 0!==t&&t.hasCRT()&&S&&(y=e,e-M>1e3&&(M=e,x=O,O=0),null===(n=g)||void 0===n||n.rendering(h),O++)}function N(){var e;if(!v)return;const[t,n]=(0,u.b)(v,u.a),r=(null===(e=g)||void 0===e?void 0:e.getScreen())||null;var i;null===r||r.width===t&&r.height===n||(r.width=0|t,r.height=0|n,null===(i=g)||void 0===i||i.setScreenSize(t,n))}async function k(e){m=await(0,s.a)("setting"),v=new l.a(m),p=e.screen,g=new a.a(p,v),new r.a(g,"recompile").on((()=>{(0,i.d)().postMessage({method:"paintwait"}),null===o.a||void 0===o.a||o.a.postMessage({method:"paintwait"});const e=setInterval((()=>{var t;null!==(t=g)&&void 0!==t&&t.hasFinish()&&(clearInterval(e),(0,i.d)().postMessage({method:"unlockpaintwait"}),null===o.a||void 0===o.a||o.a.postMessage({method:"unlockpaintwait"}))}))})),new r.a(g,"lostcontext").on((()=>{(0,i.d)().postMessage({method:"lostcontext"}),o.a.postMessage({method:"lostcontext"})})),new r.a(g,"contextrestored").on((()=>{var e;(0,i.d)().postMessage({method:"contextrestored"}),o.a.postMessage({method:"contextrestored"}),null===(e=g)||void 0===e||e.destroy()}))}(0,r.b)((0,i.d)(),"error",(e=>{T(),(0,i.d)().postMessage({method:"error"}),o.b.postMessage({method:"error"}),o.a.postMessage({method:"error"})})),(0,r.b)(o.a,"message",(e=>{var t;const{data:n}=e;if("loadstart"===n.method||n instanceof Object&&A)switch(n.method){case"run":case"unsleep":case"unlockpaintwait":L();break;case"stop":case"sleep":case"paintwait":F();break;case"error":T();break;case"contextrestored":null===(t=g)||void 0===t||t.destroy()}})),(0,r.b)((0,i.d)(),"message",(e=>{var t,n,s;const{data:a}=e;if(a instanceof Object)switch(a.method){case"portready":d=a.RaycastScreenChannel,f=a.UIScreenChannel,null!==d&&(0,r.b)(d,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"transfer-render-bitmap"===t.method)h.raycast=t.value,S=!0})),null!==f&&(0,r.b)(f,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"transfer-render-bitmap"===t.method)h.ui=t.value,S=!0})),(0,i.d)().postMessage({method:"portready"});break;case"portstart":null===(t=d)||void 0===t||t.start(),null===(n=f)||void 0===n||n.start(),(0,i.d)().postMessage({method:"portstart"});break;case"init":a.value&&k(a.value).then((()=>(0,i.d)().postMessage({method:"ready"})));break;case"start":A=!0,L();break;case"close":F(),null===(s=g)||void 0===s||s.destroy(),(0,r.c)(),(0,i.d)().postMessage({method:"terminate"})}})),(0,i.d)().postMessage({method:"standby"}),t()}catch(C){t(C)}}))},(e,t,n)=>{var r=n(11),i=n(112),s=n(17),a=n(10),o=n(53),l=n(114);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),i=l(t),u=i.length,c=0;u>c;)s.f(e,n=i[c++],r[n]);return e}},(e,t,n)=>{"use strict";var r,i,s,a=n(8),o=n(22),l=n(56),u=n(0),c=n(7),h=n(18),d=n(41),f=n(40),p=n(73),g=n(24),m=n(5),v=n(14),y=n(57),b=n(74),w=n(75).set,E=n(128),_=n(168),M=n(97),O=n(169),x=n(25),A=n(43),S=n(58),T=n(78),R="Promise",P=S.CONSTRUCTOR,L=S.REJECTION_EVENT,F=S.SUBCLASSING,I=x.getterFor(R),N=x.set,k=A&&A.prototype,C=A,D=k,U=u.TypeError,B=u.document,G=u.process,j=T.f,z=j,Y=!!(B&&B.createEvent&&u.dispatchEvent),H="unhandledrejection",W=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},V=function(e,t){var n,r,i,s=t.value,a=1==t.state,o=a?e.ok:e.fail,l=e.resolve,u=e.reject,h=e.domain;try{o?(a||(2===t.rejection&&J(t),t.rejection=1),!0===o?n=s:(h&&h.enter(),n=o(s),h&&(h.exit(),i=!0)),n===e.promise?u(U("Promise-chain cycle")):(r=W(n))?c(r,n,l,u):l(n)):u(s)}catch(e){h&&!i&&h.exit(),u(e)}},X=function(e,t){e.notified||(e.notified=!0,E((function(){for(var n,r=e.reactions;n=r.get();)V(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},q=function(e,t,n){var r,i;Y?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!L&&(i=u["on"+e])?i(r):e===H&&_("Unhandled promise rejection",n)},K=function(e){c(w,u,(function(){var t,n=e.facade,r=e.value;if(Z(e)&&(t=M((function(){l?G.emit("unhandledRejection",r,n):q(H,n,r)})),e.rejection=l||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},J=function(e){c(w,u,(function(){var t=e.facade;l?G.emit("rejectionHandled",t):q("rejectionhandled",t,e.value)}))},Q=function(e,t,n){return function(r){e(t,r,n)}},$=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,X(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=W(t);r?E((function(){var n={done:!1};try{c(r,t,Q(ee,n,e),Q($,n,e))}catch(t){$(n,t,e)}})):(e.value=t,e.state=1,X(e,!1))}catch(t){$({done:!1},t,e)}}};if(P&&(D=(C=function(e){y(this,D),g(e),c(r,this);var t=I(this);try{e(Q(ee,t),Q($,t))}catch(e){$(t,e)}}).prototype,(r=function(e){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(e,t){var n=I(this),r=j(b(this,C));return n.parent=!0,r.ok=!m(e)||e,r.fail=m(t)&&t,r.domain=l?G.domain:void 0,0==n.state?n.reactions.add(r):E((function(){V(r,n)})),r.promise})),i=function(){var e=new r,t=I(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q($,t)},T.f=j=function(e){return e===C||undefined===e?new i(e):z(e)},!o&&m(A)&&k!==Object.prototype)){s=k.then,F||h(k,"then",(function(e,t){var n=this;return new C((function(e,t){c(s,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete k.constructor}catch(e){}d&&d(k,D)}a({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:C}),f(C,R,!1,!0),p(R)},(e,t,n)=>{"use strict";var r=n(8),i=n(7),s=n(24),a=n(78),o=n(97),l=n(129);r({target:"Promise",stat:!0,forced:n(131)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=o((function(){var n=s(t.resolve),a=[],o=0,c=1;l(e,(function(e){var s=o++,l=!1;c++,i(n,t,e).then((function(e){l||(l=!0,a[s]=e,--c||r(a))}),u)})),--c||r(a)}));return c.error&&u(c.value),n.promise}})},(e,t,n)=>{"use strict";var r=n(8),i=n(22),s=n(58).CONSTRUCTOR,a=n(43),o=n(27),l=n(5),u=n(18),c=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(a)){var h=o("Promise").prototype.catch;c.catch!==h&&u(c,"catch",h,{unsafe:!0})}},(e,t,n)=>{"use strict";var r=n(8),i=n(7),s=n(24),a=n(78),o=n(97),l=n(129);r({target:"Promise",stat:!0,forced:n(131)},{race:function(e){var t=this,n=a.f(t),r=n.reject,u=o((function(){var a=s(t.resolve);l(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},(e,t,n)=>{"use strict";var r=n(8),i=n(7),s=n(78);r({target:"Promise",stat:!0,forced:n(58).CONSTRUCTOR},{reject:function(e){var t=s.f(this);return i(t.reject,void 0,e),t.promise}})},(e,t,n)=>{"use strict";var r=n(8),i=n(27),s=n(22),a=n(43),o=n(58).CONSTRUCTOR,l=n(133),u=i("Promise"),c=s&&!o;r({target:"Promise",stat:!0,forced:s||o},{resolve:function(e){return l(c&&this===u?a:this,e)}})},(e,t,n)=>{var r=n(8),i=n(0),s=n(128),a=n(24),o=n(77),l=n(56),u=i.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){o(arguments.length,1),a(e);var t=l&&u.domain;s(t?t.bind(e):e)}})},(e,t,n)=>{n(222),n(223)},(e,t,n)=>{var r=n(8),i=n(0),s=n(75).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==s},{clearImmediate:s})},(e,t,n)=>{var r=n(8),i=n(0),s=n(75).set;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},()=>{},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>d});var i=n(226),s=n(45),a=n(264),o=n(265),l=n(266),u=n(267),c=e([i]);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i=(c.then?(await c)():c)[0];class d extends i.a{constructor(e,t){super("crt",a.a,{composite:o.a,filter:l.a,crt:u.a},e),h(this,"setting",void 0),h(this,"oldScreen",null),h(this,"ctx",null),this.setting=t}rendering(){var e,t,n,r,i,a,o,l,u,c,h,d;let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.ctx;const g=this.getScreen();if(g!==this.oldScreen&&(this.ctx=g.getContext("webgl2"),this.oldScreen=g,p=this.ctx),null===p||!(p instanceof WebGL2RenderingContext))return!1;const m=null!==f;return this.renderingGL(p,{composite:{width:m&&((null===(e=f.raycast)||void 0===e?void 0:e.width)||(null===(t=f.ui)||void 0===t?void 0:t.width))||p.canvas.width,height:m&&((null===(n=f.raycast)||void 0===n?void 0:n.height)||(null===(r=f.ui)||void 0===r?void 0:r.height))||p.canvas.height},filter:{width:p.canvas.width,height:p.canvas.height},crt:{width:p.canvas.width,height:p.canvas.height}},{0:{format:4,data:m?f.raycast:null,width:m&&((null===(i=f.raycast)||void 0===i?void 0:i.width)||(null===(a=f.ui)||void 0===a?void 0:a.width))||0,height:m&&((null===(o=f.raycast)||void 0===o?void 0:o.height)||(null===(l=f.ui)||void 0===l?void 0:l.height))||0,sync:!(0,s.b)()},1:{format:4,data:m?f.ui:null,width:m&&((null===(u=f.ui)||void 0===u?void 0:u.width)||(null===(c=f.raycast)||void 0===c?void 0:c.width))||0,height:m&&((null===(h=f.ui)||void 0===h?void 0:h.height)||(null===(d=f.raycast)||void 0===d?void 0:d.height))||0,sync:!(0,s.b)()}},{raycast:{program:["composite"],unit:0},ui:{program:["composite"],unit:1},time:{type:"1f",value:[performance.now()/1e3]},sub:{program:["crt"],type:"2f",value:[Math.max(this.setting.getCRTSubPixel(),1),Math.max(this.setting.getCRTSubPixel(),1)]},gamma:{program:["crt"],type:"1f",value:[1.25]},lens:{program:["crt"],type:"1f",value:[this.setting.getCRTLens()]},deep:{program:["crt"],type:"1f",value:[this.setting.getCRTDeep()]},edge:{program:["crt"],type:"1f",value:[this.setting.getCRTEdge()]},line:{program:["crt"],type:"1f",value:[.5]},scanline:{program:["crt"],type:"1f",value:[.25]},scanline_count:{program:["crt"],type:"1f",value:[25]},scanline_speed:{program:["crt"],type:"1f",value:[1]},disorder:{program:["crt"],type:"1f",value:[0]},disorder_count:{program:["crt"],type:"1f",value:[0]},vig:{program:["crt"],type:"1f",value:[this.setting.getCRTVig()]},ca:{program:["crt"],type:"1f",value:[5]},is_shadow_mask:{program:["crt"],type:"1i",value:[this.setting.hasCRTShadowMask()?1:0]},blink_force:{program:["crt"],type:"1f",value:[.0125]},blink_time:{program:["crt"],type:"1f",value:[1]},center_fade_out:{program:["filter","crt"],type:"1f",value:[this.setting.getCRTCenterFadeOut()]}},["composite","filter","crt"])}}r()}catch(f){r(f)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>y});n(1),n(47),n(63),n(49),n(50),n(51),n(20),n(21),n(106),n(193);var i=n(227),s=n(107),a=n(13),o=n(46),l=n(201),u=n(80),c=n(205),h=e([i,s,l]);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}[i,s,l]=h.then?(await h)():h;const f="#version 300 es\n\tprecision highp float;\n\tprecision highp int;\n\n\tlayout(location = 0) in vec2 pos;\n\n\tvoid main()\n\t{\n\t\tgl_Position = vec4(pos, 0.0, 1.0);\n\t\t\n\t}\n";function p(e){const t=new Float32Array([-1,-1,1,-1,-1,1,1,1]),n=e.createBuffer();if(null===n)throw new Error("");e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);const r=new Float32Array([0,1,1,1,0,0,1,0]),i=e.createBuffer();if(null===i)throw new Error("");e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);const s=e.createVertexArray();if(null===s)throw new Error("");e.bindVertexArray(s),e.enableVertexAttribArray(0),e.bindBuffer(e.ARRAY_BUFFER,n),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null);return e.enableVertexAttribArray(1),e.bindBuffer(e.ARRAY_BUFFER,i),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null),{vertexArray:s,vertexPosBuffer:n,vertexTexBuffer:i}}function g(e,t,n,r,i,s){const{resolution:a,viewport:o}=t;null!==a&&e.uniform2f(a,n,r),null!==o&&e.uniform2f(o,i,s)}function m(e,t,n,r){const{screen:i}=n;if(!t||null===i||null===t.screen_texture)return;const{screen_texture:s}=t,a=e.TEXTURE_2D;e.activeTexture(e["TEXTURE".concat(r)]),e.bindTexture(a,s),(0,l.d)(e,i,"1i",r)}function v(e,t,n,r,i){const s=t.getFrame(),{buffer:a,attachs:o,textures:l,width:u,height:c,screen_texture:h}=s,d=e.TEXTURE_2D,f=e.UNSIGNED_BYTE,p=e.RGBA,g=e.RGBA,m=e.COLOR_ATTACHMENT0,v=i?h||e.createTexture():null;null===v||!i&&v?(e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,m,d,null,0),e.bindFramebuffer(e.FRAMEBUFFER,null),s.isScreenBuffer&&o.splice(o.indexOf(m),1),v&&l.splice(l.indexOf(v),1),s.isScreenBuffer=!1):-1===o.indexOf(m)?(e.bindTexture(d,v),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(d,0,p,n,r,0,g,f,null),e.texParameteri(d,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(d,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(d,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(d,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,m,d,v,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(d,null),s.isScreenBuffer=!0,o.push(m),l.push(v)):!h||n===u&&r===c||(e.bindTexture(d,v),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(d,0,p,n,r,0,g,f,null),e.bindFramebuffer(e.FRAMEBUFFER,a),e.viewport(0,0,n,r),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(d,null)),s.screen_texture=v,s.width=0|n,s.height=0|r}class y extends i.a{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,s.a)(0,0);super(e,r),d(this,"isInit",!1),d(this,"vertex",f),d(this,"sync",null),d(this,"sync_mode",!1),d(this,"kernel",null),d(this,"gl",null),d(this,"old_order",new Array),d(this,"old_order_init",new Array),d(this,"old_uniforms",{}),d(this,"triggerRecompile",!1),d(this,"programs",new Array),d(this,"fragments",{}),d(this,"handleLostContext",void 0),d(this,"handleContextRestored",void 0),this.vertex=t||this.vertex,this.fragments=n,this.handleLostContext=e=>{new a.a(this,"lostcontext").trigger({})},this.handleContextRestored=e=>{new a.a(this,"contextrestored").trigger({})};const i=r.getContext("webgl2");null!==i&&(this.initPrograms(i),this.gl=i)}_init(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0;if(null===e)return;let{old_order_init:i}=this;!this.isInit||null===this.gl||this.gl!==e&&this.gl.canvas!==e.canvas?(this.triggerRecompile=!0,null!==this.gl&&this.destroy(),this.init(e,t,n),this.isInit=!0):i.length>0&&(0,c.a)(r,i)&&(this.triggerRecompile=!0),this.old_order_init=(0,u.a)(r)}_rendering(e,t,n,r,i,s){if(!this.kernel)return!1;const{sync_mode:a,sync:o,kernel:u}=this,{vertexArray:{vertexArray:c},units:h}=u,{width:d,height:f}=e.canvas,p=new Array;for(let e=0,t=0|s.length;e<t;e=e+1|0){const t=s[e],n=this.programs.find((e=>e.getID()===t))||null;null!==n&&p.push(n)}for(let n=0,r=0|p.length;n<r;n=n+1|0){const r=p[n],i=p.indexOf(r),s=t[r.getID()]||{width:d,height:f},a=-1!==i&&!!p[i+1];v(e,r,s.width||d,s.height||f,a)}if((0,l.b)(e,n,h,p,t),a&&o&&!this.hasFinish())return!1;e.bindVertexArray(c);for(let n=0,s=0|p.length;n<s;n=n+1|0){const s=p[n],a=s.getUniforms(),o=s.getFrame(),u=t[s.getID()]||{width:d,height:f};e.viewport(0,0,u.width||d,u.height||f),o.attachs.length>0?(e.bindFramebuffer(e.FRAMEBUFFER,o.buffer),e.drawBuffers(o.attachs)):(e.bindFramebuffer(e.FRAMEBUFFER,null),e.drawBuffers([e.BACK]),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(s.getProgram());const c=(0,l.c)(e,a,r,this.old_order.includes(s.getID())?i:{},h,s.getID()),v=p[n-1],y=v?v.getFrame():null;y&&m(e,y,o,c),g(e,o,d,f,u.width||d,u.height||f),e.drawArrays(e.TRIANGLE_STRIP,0,4),s.execTextureMipMapGenerators(),e.useProgram(null)}return e.bindVertexArray(null),!0}initPrograms(e){const{fragments:t,vertex:n}=this;(0,o.a)(this.programs);for(const r in t){const i=new l.a(r,n,t[r]);i.initProgram(e),this.programs.push(i)}}init(e,t,n){const r=(0,l.e)(e,t),i=p(e);this.kernel={vertexArray:i,units:r},(0,a.b)(e.canvas,"webglcontextlost",this.handleLostContext),(0,a.b)(e.canvas,"webglcontextrestored",this.handleContextRestored),this.gl===e&&this.gl.canvas===e.canvas||this.initPrograms(e),this.gl=e;for(let t=0,r=0|this.programs.length;t<r;t=t+1|0){this.programs[t].init(e,n)}e.enable(e.CULL_FACE),e.cullFace(e.BACK)}hasFinish(){const{gl:e,sync:t}=this;return!e||!t||e.getSyncParameter(t,e.SYNC_STATUS)===e.SIGNALED}getTexturePixelsFromUnit(e,t){if(!this.kernel)return null;const{units:n}=this.kernel;if(!n||!n.hasOwnProperty(t))return null;const{dimension:r,texture:i,format:s,type:a}=n[t],o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,r,i,0);let l,u=0;switch(s){case e.RED:u=1;break;case e.RG:u=2;break;case e.RGB:u=3;break;case e.RGBA:u=4}switch(a){case e.UNSIGNED_BYTE:l=new Uint8Array(e.canvas.width*e.canvas.height*u);break;case e.INT:l=new Int32Array(e.canvas.width*e.canvas.height*u);break;case e.FLOAT:l=new Float32Array(e.canvas.width*e.canvas.height*u)}return l&&0!==l.length?(e.readPixels(0,0,e.canvas.width,e.canvas.height,s,a,l),e.bindFramebuffer(e.FRAMEBUFFER,null),l):null}getTexturePixelsFromUniform(e,t){const n=this.programs.find((e=>e.getUniforms().hasOwnProperty(t)))||null;if(null===n)return null;const{unit:r}=n.getUniforms()[t];return Number.isInteger(r)&&r?this.getTexturePixelsFromUnit(e,r):null}renderingGL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScreen().getContext("webgl2"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Array;if(null===e)return!1;const{width:s,height:o}=e.canvas;if(0===s||0===o)return!1;let{old_uniforms:l}=this;this._init(e,t,n,r,i),this.triggerRecompile&&(new a.a(this,"recompile").trigger(),this.triggerRecompile=!1);let c=!1;if(i=i&&i.length>0?i:Object.keys(this.fragments),this._rendering(e,t,n,r,l,i)){const{sync:t}=this;c=!0,(null===t||this.hasFinish())&&(null!==t&&e.deleteSync(t),this.sync=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0)),e.flush()}return this.gl=e,this.old_order=(0,u.a)(i),this.old_uniforms=(0,u.a)(r),c}destroy(){super.destroy();const{gl:e}=this;if(null!==e){if(e.CONTEXT_LOST_WEBGL!==e.getError()){if(null!==this.kernel){const{units:t,vertexArray:{vertexArray:n,vertexTexBuffer:r,vertexPosBuffer:i}}=this.kernel;for(const n in t){const{texture:r}=t[n];e.deleteTexture(r)}e.deleteVertexArray(n),e.deleteBuffer(r),e.deleteBuffer(i)}null!==this.sync&&(e.deleteSync(this.sync),this.sync=null)}(0,a.d)(e.canvas,"webglcontextlost",this.handleLostContext),(0,a.d)(e.canvas,"webglcontextrestored",this.handleContextRestored)}for(let e=0,t=0|this.programs.length;e<t;e=e+1|0){this.programs[e].destroy()}for(const e in this.old_uniforms)delete this.old_uniforms[e];(0,o.a)(this.programs),(0,o.a)(this.old_order),this.kernel=null,this.gl=null}}r()}catch(b){r(b)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>u});n(1),n(4);var i=n(107),s=n(206),a=n(13),o=e([i,s]);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}[i,s]=o.then?(await o)():o;class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.a)(0,0);l(this,"name",void 0),l(this,"screen",void 0),this.name=e,this.screen=t}getName(){return this.name}getScreen(){return this.screen}getScreenSize(){const e=this.getScreen();return[e.width,e.height]}getImageBitmapAsync(){const e=this.getScreen();return(0,s.a)(e)}getImageBitmapSync(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getScreen();return(0,s.b)(t,e)}setScreen(e){const t=this.getScreen();e.width=t.width,e.height=t.height,this.screen=e}setScreenSize(e,t){const[n,r]=this.getScreenSize();if(n!==e||r!==t){const n=this.getScreen();n.width=0|e,n.height=0|t}}destroy(){new a.a(this,"destroy").trigger({})}rendering(e,t,n){return!1}}r()}catch(c){r(c)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(33),n(194),n(141),n(15),n(1),n(4),n(151),n(154);var r=n(13),i=n(231);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t){s(this,"worker",void 0),s(this,"source",void 0);const n=t.toString().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/),r=(0,i.b)("text/javascript",null!==n?n.length>2?"\n\t\t\tonmessage = (".concat(n[1],") => {\n\t\t\t\t").concat(n[2],"\n\t\t\t};\n\t\t"):"\n\t\t\tonmessage = () => {\n\t\t\t\t".concat(n[1],"\n\t\t\t};\n\t\t"):"");this.source=r,this.worker=new e(r)}exec(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(((t,n)=>{const i=e=>{(0,r.d)(this.worker,"message",i),(0,r.d)(this.worker,"error",s),t(e.data)},s=e=>{(0,r.d)(this.worker,"message",i),(0,r.d)(this.worker,"error",s),n(e)};(0,r.b)(this.worker,"message",i),(0,r.b)(this.worker,"error",s),this.worker.postMessage(e)}))}terminate(){URL.revokeObjectURL(this.source),this.worker.terminate()}}},(e,t,n)=>{"use strict";n(230);var r,i=n(8),s=n(11),a=n(152),o=n(0),l=n(32),u=n(2),c=n(18),h=n(195),d=n(57),f=n(12),p=n(196),g=n(197),m=n(82),v=n(103).codeAt,y=n(199),b=n(16),w=n(40),E=n(77),_=n(153),M=n(25),O=M.set,x=M.getterFor("URL"),A=_.URLSearchParams,S=_.getState,T=o.URL,R=o.TypeError,P=o.parseInt,L=Math.floor,F=Math.pow,I=u("".charAt),N=u(/./.exec),k=u([].join),C=u(1..toString),D=u([].pop),U=u([].push),B=u("".replace),G=u([].shift),j=u("".split),z=u("".slice),Y=u("".toLowerCase),H=u([].unshift),W="Invalid scheme",V="Invalid host",X="Invalid port",q=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,J=/^0x/i,Q=/^[0-7]+$/,$=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,se=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=L(e/256);return k(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,s=0;s<8;s++)0!==e[s]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=C(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},oe=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},oe,{"#":1,"?":1,"{":1,"}":1}),ue=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&N(q,I(e,0))&&(":"==(n=I(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&de(z(e,0,2))&&(2==e.length||"/"===(t=I(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===Y(e)},ge={},me={},ve={},ye={},be={},we={},Ee={},_e={},Me={},Oe={},xe={},Ae={},Se={},Te={},Re={},Pe={},Le={},Fe={},Ie={},Ne={},ke={},Ce=function(e,t,n){var r,i,s,a=b(e);if(t){if(i=this.parse(a))throw R(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ce(n,!0)),i=this.parse(a,null,r))throw R(i);(s=S(new A)).bindURL(this),this.searchParams=s}};Ce.prototype={type:"URL",parse:function(e,t,n){var i,s,a,o,l,u=this,c=t||ge,h=0,d="",p=!1,v=!1,y=!1;for(e=b(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=B(e,re,"")),e=B(e,ie,""),i=g(e);h<=i.length;){switch(s=i[h],c){case ge:if(!s||!N(q,s)){if(t)return W;c=ve;continue}d+=Y(s),c=me;break;case me:if(s&&(N(K,s)||"+"==s||"-"==s||"."==s))d+=Y(s);else{if(":"!=s){if(t)return W;d="",c=ve,h=0;continue}if(t&&(u.isSpecial()!=f(he,d)||"file"==d&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=d,t)return void(u.isSpecial()&&he[u.scheme]==u.port&&(u.port=null));d="","file"==u.scheme?c=Te:u.isSpecial()&&n&&n.scheme==u.scheme?c=ye:u.isSpecial()?c=_e:"/"==i[h+1]?(c=be,h++):(u.cannotBeABaseURL=!0,U(u.path,""),c=Ie)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=s)return W;if(n.cannotBeABaseURL&&"#"==s){u.scheme=n.scheme,u.path=m(n.path),u.query=n.query,u.fragment="",u.cannotBeABaseURL=!0,c=ke;break}c="file"==n.scheme?Te:we;continue;case ye:if("/"!=s||"/"!=i[h+1]){c=we;continue}c=Me,h++;break;case be:if("/"==s){c=Oe;break}c=Fe;continue;case we:if(u.scheme=n.scheme,s==r)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query;else if("/"==s||"\\"==s&&u.isSpecial())c=Ee;else if("?"==s)u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query="",c=Ne;else{if("#"!=s){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.path.length--,c=Fe;continue}u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,u.path=m(n.path),u.query=n.query,u.fragment="",c=ke}break;case Ee:if(!u.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){u.username=n.username,u.password=n.password,u.host=n.host,u.port=n.port,c=Fe;continue}c=Oe}else c=Me;break;case _e:if(c=Me,"/"!=s||"/"!=I(d,h+1))continue;h++;break;case Me:if("/"!=s&&"\\"!=s){c=Oe;continue}break;case Oe:if("@"==s){p&&(d="%40"+d),p=!0,a=g(d);for(var w=0;w<a.length;w++){var E=a[w];if(":"!=E||y){var _=ce(E,ue);y?u.password+=_:u.username+=_}else y=!0}d=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()){if(p&&""==d)return"Invalid authority";h-=g(d).length+1,d="",c=xe}else d+=s;break;case xe:case Ae:if(t&&"file"==u.scheme){c=Pe;continue}if(":"!=s||v){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()){if(u.isSpecial()&&""==d)return V;if(t&&""==d&&(u.includesCredentials()||null!==u.port))return;if(o=u.parseHost(d))return o;if(d="",c=Le,t)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return V;if(o=u.parseHost(d))return o;if(d="",c=Se,t==Ae)return}break;case Se:if(!N(Z,s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&u.isSpecial()||t){if(""!=d){var M=P(d,10);if(M>65535)return X;u.port=u.isSpecial()&&M===he[u.scheme]?null:M,d=""}if(t)return;c=Le;continue}return X}d+=s;break;case Te:if(u.scheme="file","/"==s||"\\"==s)c=Re;else{if(!n||"file"!=n.scheme){c=Fe;continue}if(s==r)u.host=n.host,u.path=m(n.path),u.query=n.query;else if("?"==s)u.host=n.host,u.path=m(n.path),u.query="",c=Ne;else{if("#"!=s){fe(k(m(i,h),""))||(u.host=n.host,u.path=m(n.path),u.shortenPath()),c=Fe;continue}u.host=n.host,u.path=m(n.path),u.query=n.query,u.fragment="",c=ke}}break;case Re:if("/"==s||"\\"==s){c=Pe;break}n&&"file"==n.scheme&&!fe(k(m(i,h),""))&&(de(n.path[0],!0)?U(u.path,n.path[0]):u.host=n.host),c=Fe;continue;case Pe:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&de(d))c=Fe;else if(""==d){if(u.host="",t)return;c=Le}else{if(o=u.parseHost(d))return o;if("localhost"==u.host&&(u.host=""),t)return;d="",c=Le}continue}d+=s;break;case Le:if(u.isSpecial()){if(c=Fe,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=r&&(c=Fe,"/"!=s))continue}else u.fragment="",c=ke;else u.query="",c=Ne;break;case Fe:if(s==r||"/"==s||"\\"==s&&u.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(l=Y(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(u.shortenPath(),"/"==s||"\\"==s&&u.isSpecial()||U(u.path,"")):pe(d)?"/"==s||"\\"==s&&u.isSpecial()||U(u.path,""):("file"==u.scheme&&!u.path.length&&de(d)&&(u.host&&(u.host=""),d=I(d,0)+":"),U(u.path,d)),d="","file"==u.scheme&&(s==r||"?"==s||"#"==s))for(;u.path.length>1&&""===u.path[0];)G(u.path);"?"==s?(u.query="",c=Ne):"#"==s&&(u.fragment="",c=ke)}else d+=ce(s,le);break;case Ie:"?"==s?(u.query="",c=Ne):"#"==s?(u.fragment="",c=ke):s!=r&&(u.path[0]+=ce(s,ae));break;case Ne:t||"#"!=s?s!=r&&("'"==s&&u.isSpecial()?u.query+="%27":u.query+="#"==s?"%23":ce(s,ae)):(u.fragment="",c=ke);break;case ke:s!=r&&(u.fragment+=ce(s,oe))}h++}},parseHost:function(e){var t,n,r;if("["==I(e,0)){if("]"!=I(e,e.length-1))return V;if(t=function(e){var t,n,r,i,s,a,o,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return I(e,h)};if(":"==d()){if(":"!=I(e,1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&N(ee,d());)t=16*t+P(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!N(Z,d()))return;for(;N(Z,d());){if(s=P(d(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)o=l[u],l[u--]=l[c+a-1],l[c+--a]=o;else if(8!=u)return;return l}(z(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=y(e),N(te,e))return V;if(t=function(e){var t,n,r,i,s,a,o,l=j(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(s=10,i.length>1&&"0"==I(i,0)&&(s=N(J,i)?16:8,i=z(i,8==s?1:2)),""===i)a=0;else{if(!N(10==s?$:8==s?Q:ee,i))return e;a=P(i,s)}U(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=F(256,5-t))return null}else if(a>255)return null;for(o=D(n),r=0;r<n.length;r++)o+=n[r]*F(256,3-r);return o}(e),null===t)return V;this.host=t}else{if(N(ne,e))return V;for(t="",n=g(e),r=0;r<n.length;r++)t+=ce(n[r],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,s=e.port,a=e.path,o=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=se(i),null!==s&&(u+=":"+s)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+k(a,"/"):"",null!==o&&(u+="?"+o),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw R(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ce(t[n],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ce(t[n],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,xe)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+k(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Le))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==I(e,0)&&(e=z(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==I(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,ke)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function(e){var t=d(this,Ue),n=E(arguments.length,1)>1?arguments[1]:void 0,r=O(t,new Ce(e,!1,n));s||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ue=De.prototype,Be=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(h(Ue,"href",Be("serialize","setHref")),h(Ue,"origin",Be("getOrigin")),h(Ue,"protocol",Be("getProtocol","setProtocol")),h(Ue,"username",Be("getUsername","setUsername")),h(Ue,"password",Be("getPassword","setPassword")),h(Ue,"host",Be("getHost","setHost")),h(Ue,"hostname",Be("getHostname","setHostname")),h(Ue,"port",Be("getPort","setPort")),h(Ue,"pathname",Be("getPathname","setPathname")),h(Ue,"search",Be("getSearch","setSearch")),h(Ue,"searchParams",Be("getSearchParams")),h(Ue,"hash",Be("getHash","setHash"))),c(Ue,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),c(Ue,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),T){var Ge=T.createObjectURL,je=T.revokeObjectURL;Ge&&c(De,"createObjectURL",l(Ge,T)),je&&c(De,"revokeObjectURL",l(je,T))}w(De,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!s},{URL:De})},(e,t,n)=>{"use strict";var r=n(103).charAt,i=n(16),s=n(25),a=n(118),o="String Iterator",l=s.set,u=s.getterFor(o);a(String,"String",(function(e){l(this,{type:o,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>c,b:()=>h});n(15),n(1),n(4),n(151),n(154);var r=n(211),i=n(61),s=n(45),a=n(62),o=n(108),l=n(13);let u=self.fetch;function c(e,t){let n=u;return(0,s.b)()||!(0,s.a)()||(0,r.a)()||(n=async function(e,t){const n="electron"in self?await("GET"===t.method?self.electron.requestHTTP(e):self.electron.existsHTTP(e)):null;return new Response(n,{status:n?200:404})}),n(e,t)}function h(e,t){return URL.createObjectURL(new Blob([t],{type:e}))}(0,s.b)()?u=async function(e,t){return new Promise(((n,r)=>{const s=(0,i.a)(),o=e=>{const{data:t}=e;if(t instanceof Object&&s===t.key&&"return"===t.method)(0,l.d)(a.b,"message",o),t.error?r():n(new Response(t.value,{status:200}))};(0,l.b)(a.b,"message",o),a.b.postMessage({method:"fetch",type:"arraybuffer",options:t,url:e,key:s})}))}:(0,l.b)(a.b,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"fetch"===t.method)(0,o.a)(t.url,t.type,t.options).then((e=>a.b.postMessage({method:"return",error:!1,value:e.source,key:t.key}))).catch((()=>a.b.postMessage({method:"return",error:!0,value:null,key:t.key})))}))},(e,t,n)=>{var r=n(11),i=n(0),s=n(2),a=n(95),o=n(147),l=n(19),u=n(94).f,c=n(30),h=n(99),d=n(16),f=n(142),p=n(100),g=n(200),m=n(18),v=n(3),y=n(12),b=n(25).enforce,w=n(73),E=n(6),_=n(137),M=n(138),O=E("match"),x=i.RegExp,A=x.prototype,S=i.SyntaxError,T=s(A.exec),R=s("".charAt),P=s("".replace),L=s("".indexOf),F=s("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,N=/a/g,k=/a/g,C=new x(N)!==N,D=p.MISSED_STICKY,U=p.UNSUPPORTED_Y,B=r&&(!C||D||_||M||v((function(){return k[O]=!1,x(N)!=N||x(k)==k||"/a/i"!=x(N,"i")})));if(a("RegExp",B)){for(var G=function(e,t){var n,r,i,s,a,u,p=c(A,this),g=h(e),m=void 0===t,v=[],w=e;if(!p&&g&&m&&e.constructor===G)return e;if((g||c(A,e))&&(e=e.source,m&&(t=f(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,_&&"dotAll"in N&&(r=!!t&&L(t,"s")>-1)&&(t=P(t,/s/g,"")),n=t,D&&"sticky"in N&&(i=!!t&&L(t,"y")>-1)&&U&&(t=P(t,/y/g,"")),M&&(s=function(e){for(var t,n=e.length,r=0,i="",s=[],a={},o=!1,l=!1,u=0,c="";r<=n;r++){if("\\"===(t=R(e,r)))t+=R(e,++r);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:T(I,F(e,r+1))&&(r+=2,l=!0),i+=t,u++;continue;case">"===t&&l:if(""===c||y(a,c))throw new S("Invalid capture group name");a[c]=!0,s[s.length]=[c,u],l=!1,c="";continue}l?c+=t:i+=t}return[i,s]}(e),e=s[0],v=s[1]),a=o(x(e,t),p?this:A,G),(r||i||v.length)&&(u=b(a),r&&(u.dotAll=!0,u.raw=G(function(e){for(var t,n=e.length,r=0,i="",s=!1;r<=n;r++)"\\"!==(t=R(e,r))?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),i+=t):i+="[\\s\\S]":i+=t+R(e,++r);return i}(e),n)),i&&(u.sticky=!0),v.length&&(u.groups=v)),e!==w)try{l(a,"source",""===w?"(?:)":w)}catch(e){}return a},j=u(x),z=0;j.length>z;)g(G,x,j[z++]);A.constructor=G,G.prototype=A,m(i,"RegExp",G,{constructor:!0})}w("RegExp")},(e,t,n)=>{"use strict";n(1),n(47),n(63),n(49),n(50),n(51);Float32Array},(e,t,n)=>{"use strict";n.d(t,{a:()=>u,b:()=>l});var r=n(44),i=n(13),s=n(45),a=n(211);const o=new r.a("window"),l=(new r.a("display-log"),new r.a("worker-tick")),u=new r.a("worker-paint");(0,s.b)()||(0,i.b)(o,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"shutdown":self.close();break;case"reload":!(0,a.a)()&&"electron"in self?self.electron.reboot():self.location.reload()}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>h});n(20),n(21),n(60);var i=n(179),s=n(45),a=n(9),o=n(236),l=n(273),u=n(208),c=e([o,u]);[o,u]=c.then?(await c)():c;class h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n,r,i;i=void 0,(r="setting")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.setting=e,this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setFramerate(this.setting.hasOwnProperty("framerateIndex")?this.setting.framerateIndex:1),this.setFOV(this.setting.hasOwnProperty("fov")?this.setting.fov:90,e),this.setStickInnerDeadzoneX(this.setting.hasOwnProperty("stickInnerDeadzoneX")?this.setting.stickInnerDeadzoneX:.1),this.setStickOuterDeadzoneX(this.setting.hasOwnProperty("stickOuterDeadzoneX")?this.setting.stickOuterDeadzoneX:0),this.setStickInnerDeadzoneY(this.setting.hasOwnProperty("stickInnerDeadzoneY")?this.setting.stickInnerDeadzoneY:.1),this.setStickOuterDeadzoneY(this.setting.hasOwnProperty("stickOuterDeadzoneY")?this.setting.stickOuterDeadzoneY:0),this.setWheelInnerDeadzone(this.setting.hasOwnProperty("wheelInnerDeadzone")?this.setting.wheelInnerDeadzone:.1),this.setWheelOuterDeadzone(this.setting.hasOwnProperty("wheelOuterDeadzone")?this.setting.wheelOuterDeadzone:0),this.setSoundVolume(this.setting.hasOwnProperty("soundVolume")?this.setting.soundVolume:1),this.setClusterResolution(this.setting.hasOwnProperty("clusterResolution")?this.setting.clusterResolution:16),this.setFullscreen(this.setting.hasOwnProperty("isFullscreen")?this.setting.isFullscreen:!!(0,s.a)()),this.setBrowserFullscreen(!!this.setting.hasOwnProperty("isBrowserFullscreen")&&this.setting.isBrowserFullscreen),this.setAutomaticResolution(!this.setting.hasOwnProperty("isAutomaticResolution")||this.setting.isAutomaticResolution),this.setResolutionIndex(this.setting.hasOwnProperty("resolutionIndex")?this.setting.resolutionIndex:0),this.setHighPixelRatio(!!this.setting.hasOwnProperty("isHighPixelRatio")&&this.setting.isHighPixelRatio),this.setReflectionCount(this.setting.hasOwnProperty("reflectionCount")?this.setting.reflectionCount:2),this.setShadow(!this.setting.hasOwnProperty("isShadow")||this.setting.isShadow),this.setSoftShadow(!this.setting.hasOwnProperty("isSoftShadow")||this.setting.isSoftShadow),this.setRoughness(!this.setting.hasOwnProperty("isRoughness")||this.setting.isRoughness),this.setDithering(!!this.setting.hasOwnProperty("isDithering")&&this.setting.isDithering),this.setBloom(this.setting.hasOwnProperty("bloom")?this.setting.bloom:1),this.setMuzzleFlash(!this.setting.hasOwnProperty("isMuzzleFlash")||this.setting.isMuzzleFlash),this.setBlurDotScale(this.setting.hasOwnProperty("blurDotScale")?this.setting.blurDotScale:4),this.setContrast(this.setting.hasOwnProperty("contrast")?this.setting.contrast:1),this.setBrightness(this.setting.hasOwnProperty("brightness")?this.setting.brightness:1),this.setCRTEnable(!!this.setting.hasOwnProperty("isCRT")&&this.setting.isCRT),this.setCRTSubPixel(this.setting.hasOwnProperty("crtSubPixel")?this.setting.crtSubPixel:3),this.setCRTLens(this.setting.hasOwnProperty("crtLens")?this.setting.crtLens:.075),this.setCRTDeep(this.setting.hasOwnProperty("crtDeep")?this.setting.crtDeep:.075),this.setCRTEdge(this.setting.hasOwnProperty("crtEdge")?this.setting.crtEdge:.025),this.setCRTVig(this.setting.hasOwnProperty("crtVig")?this.setting.crtVig:.175),this.setCRTShadowMask(!!this.setting.hasOwnProperty("isCRTShadowMask")&&this.setting.isCRTShadowMask),this.setCRTCenterFadeOut(this.setting.hasOwnProperty("crtCenterFadeOut")?this.setting.crtCenterFadeOut:1),this.setSensibility(this.setting.hasOwnProperty("sensibility")?this.setting.sensibility:50),this.setInvertX(!!this.setting.hasOwnProperty("invertX")&&this.setting.invertX),this.setInvertY(!!this.setting.hasOwnProperty("invertY")&&this.setting.invertY),this.setBob(!this.setting.hasOwnProperty("bob")||this.setting.bob),this.setToggleSprint(!this.setting.hasOwnProperty("toggleSprint")||this.setting.toggleSprint),this.setToggleCluch(!this.setting.hasOwnProperty("toggleCluch")||this.setting.toggleCluch),this.setWeaponChargeStandTime(this.setting.hasOwnProperty("weaponChargeStandTime")?this.setting.weaponChargeStandTime:180),this.setWeaponWheelStandTime(this.setting.hasOwnProperty("weaponWheelStandTime")?this.setting.weaponWheelStandTime:180),this.setEatSound(!this.setting.hasOwnProperty("eatSound")||this.setting.eatSound),this.setEnemyVoice(!this.setting.hasOwnProperty("enemyVoice")||this.setting.enemyVoice),this.setCheckPoint(!this.setting.hasOwnProperty("isCheckPoint")||this.setting.isCheckPoint),this.setPistolStart(!!this.setting.hasOwnProperty("isPistolStart")&&this.setting.isPistolStart),this.setPermaDeath(!!this.setting.hasOwnProperty("isPermaDeath")&&this.setting.isPermaDeath),this.setSSSSlowMo(!this.setting.hasOwnProperty("isSSSSlowMo")||this.setting.isSSSSlowMo),this.setDisplayPlayTime(!!this.setting.hasOwnProperty("isDisplayPlayTime")&&this.setting.isDisplayPlayTime),this.setHUD(!this.setting.hasOwnProperty("isHUD")||this.setting.isHUD),this.setTheme(this.setting.hasOwnProperty("theme")?Object.keys(u.a).includes(this.setting.theme)?this.setting.theme:Object.keys(u.a)[0]:"RED"),this.setDebugLog(!!this.setting.hasOwnProperty("isDebugLog")&&this.setting.isDebugLog)}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;for(const e in this.setting)delete this.setting[e];this.init(e)}saveSetting(){(0,i.b)("setting")}setSensibility(e){this.setting.sensibility=e,this.saveSetting()}setInvertX(e){this.setting.invertX=e,this.saveSetting()}setInvertY(e){this.setting.invertY=e,this.saveSetting()}setBob(e){this.setting.bob=e,this.saveSetting()}setToggleSprint(e){this.setting.toggleSprint=e,this.saveSetting()}setToggleCluch(e){this.setting.toggleCluch=e,this.saveSetting()}setWeaponChargeStandTime(e){this.setting.weaponChargeStandTime=e,this.saveSetting()}setWeaponWheelStandTime(e){this.setting.weaponWheelStandTime=e,this.saveSetting()}setEatSound(e){this.setting.eatSound=e,this.saveSetting()}setEnemyVoice(e){this.setting.enemyVoice=e,this.saveSetting()}setCheckPoint(e){this.setting.isCheckPoint=e,this.saveSetting()}setPistolStart(e){this.setting.isPistolStart=e,this.saveSetting()}setPermaDeath(e){this.setting.isPermaDeath=e,this.saveSetting()}setSSSSlowMo(e){this.setting.isSSSSlowMo=e,this.saveSetting()}setFOV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==t&&t.getScenes().forEach((t=>{if(!(t instanceof o.a))return;t.getCamera().fov=(0,a.d)(e)})),this.setting.fov=e,this.saveSetting()}setFramerate(e){e>=l.a.length&&(e=1),this.setting.framerateIndex=e,this.saveSetting()}setSoundVolume(e){this.setting.soundVolume=e,this.saveSetting()}setClusterResolution(e){this.setting.clusterResolution=e,this.saveSetting()}setFullscreen(e){this.setting.isFullscreen=e,this.saveSetting()}setBrowserFullscreen(e){this.setting.isBrowserFullscreen=e,this.saveSetting()}setAutomaticResolution(e){this.setting.isAutomaticResolution=e,this.saveSetting()}setResolutionIndex(e){this.setting.resolutionIndex=e,this.saveSetting()}setHighPixelRatio(e){this.setting.isHighPixelRatio=e,this.saveSetting()}setReflectionCount(e){this.setting.reflectionCount=e,this.saveSetting()}setShadow(e){this.setting.isShadow=e,this.saveSetting()}setSoftShadow(e){this.setting.isSoftShadow=e,this.saveSetting()}setRoughness(e){this.setting.isRoughness=e,this.saveSetting()}setDithering(e){this.setting.isDithering=e,this.saveSetting()}setBloom(e){this.setting.bloom=e,this.saveSetting()}setMuzzleFlash(e){this.setting.isMuzzleFlash=e,this.saveSetting()}setBlurDotScale(e){this.setting.blurDotScale=e,this.saveSetting()}setContrast(e){this.setting.contrast=e,this.saveSetting()}setBrightness(e){this.setting.brightness=e,this.saveSetting()}setCRTEnable(e){this.setting.isCRT=e,this.saveSetting()}setCRTDeep(e){this.setting.crtDeep=e,this.saveSetting()}setCRTSubPixel(e){this.setting.crtSubPixel=e,this.saveSetting()}setCRTLens(e){this.setting.crtLens=e,this.saveSetting()}setCRTEdge(e){this.setting.crtEdge=e,this.saveSetting()}setCRTVig(e){this.setting.crtVig=e,this.saveSetting()}setCRTShadowMask(e){this.setting.isCRTShadowMask=e,this.saveSetting()}setCRTCenterFadeOut(e){this.setting.crtCenterFadeOut=e,this.saveSetting()}setStickInnerDeadzoneX(e){this.setting.stickInnerDeadzoneX=e,this.saveSetting()}setStickOuterDeadzoneX(e){this.setting.stickOuterDeadzoneX=e,this.saveSetting()}setStickInnerDeadzoneY(e){this.setting.stickInnerDeadzoneY=e,this.saveSetting()}setStickOuterDeadzoneY(e){this.setting.stickOuterDeadzoneY=e,this.saveSetting()}setWheelInnerDeadzone(e){this.setting.wheelInnerDeadzone=e,this.saveSetting()}setWheelOuterDeadzone(e){this.setting.wheelOuterDeadzone=e,this.saveSetting()}setDisplayPlayTime(e){this.setting.isDisplayPlayTime=e,this.saveSetting()}setHUD(e){this.setting.isHUD=e,this.saveSetting()}setTheme(e){this.setting.theme=e,this.saveSetting()}setDebugLog(e){this.setting.isDebugLog=e,this.saveSetting()}hasBob(){return this.setting.bob}hasToggleSprint(){return this.setting.toggleSprint}hasToggleCluch(){return this.setting.toggleCluch}getWeaponChargeStandTime(){return this.setting.weaponChargeStandTime}getWeaponWheelStandTime(){return this.setting.weaponWheelStandTime}hasEatSound(){return this.setting.eatSound}hasEnemyVoice(){return this.setting.enemyVoice}hasCheckPoint(){return this.setting.isCheckPoint}hasPistolStart(){return this.setting.isPistolStart}hasPermaDeath(){return this.setting.isPermaDeath}hasSSSSlowMo(){return this.setting.isSSSSlowMo}hasDebugLog(){return this.setting.isDebugLog}getSoundVolume(){return this.setting.soundVolume}getReflectionCount(){return this.setting.reflectionCount}getBlurDotScale(){return this.hasCRT()?1:this.setting.blurDotScale}hasShadow(){return this.setting.isShadow}hasSoftShadow(){return this.setting.isSoftShadow}hasRoughness(){return this.setting.isRoughness}getBloom(){return this.setting.bloom}hasMuzzleFlash(){return this.setting.isMuzzleFlash}getContrast(){return this.setting.contrast}getBrightness(){return this.setting.brightness}hasCRT(){return this.setting.isCRT}getResolutionIndex(){return this.setting.resolutionIndex}hasHighPixelRatio(){return this.setting.isHighPixelRatio}hasFullscreen(){return this.setting.isFullscreen}hasBrowserFullscreen(){return this.setting.isBrowserFullscreen}hasAutomaticResolution(){return this.setting.isAutomaticResolution}getCRTSubPixel(){return this.setting.crtSubPixel}getCRTLens(){return this.setting.crtLens}getCRTDeep(){return this.setting.crtDeep}getCRTEdge(){return this.setting.crtEdge}getCRTVig(){return this.setting.crtVig}hasCRTShadowMask(){return this.setting.isCRTShadowMask}getCRTCenterFadeOut(){return this.setting.crtCenterFadeOut}getSensibility(){return this.setting.sensibility}hasInvertX(){return this.setting.invertX}hasInvertY(){return this.setting.invertY}getStickInnerDeadzoneX(){return this.setting.stickInnerDeadzoneX}getStickOuterDeadzoneX(){return this.setting.stickOuterDeadzoneX}getStickInnerDeadzoneY(){return this.setting.stickInnerDeadzoneY}getStickOuterDeadzoneY(){return this.setting.stickOuterDeadzoneY}getWheelInnerDeadzone(){return this.setting.wheelInnerDeadzone}getWheelOuterDeadzone(){return this.setting.wheelOuterDeadzone}getFramerate(){return(0,s.a)()?l.a[this.setting.framerateIndex]:1/0}getFramerateIndex(){return this.setting.framerateIndex}hasDisplayPlayTime(){return this.setting.isDisplayPlayTime}hasHUD(){return this.setting.isHUD}getTheme(){return this.setting.theme}getFOV(){return this.setting.fov}}r()}catch(e){r(e)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>P});n(1),n(4),n(20),n(21);var i=n(237),s=n(245),a=n(246),o=n(247),l=n(156),u=n(52),c=n(9),h=n(248),d=n(249),f=n(250),p=n(208),g=n(256),m=n(257),v=n(84),y=n(46),b=n(258),w=n(271),E=n(272),_=n(260),M=n(261),O=n(262),x=n(80),A=e([p]);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p=(A.then?(await A)():A)[0];const T=[[1,0],[0,1],[-1,0],[0,-1]];function R(e,t){return e.top===t.top&&e.bottom===t.bottom&&e.right===t.right&&e.left===t.left&&e.front===t.front&&e.back===t.back}class P extends m.a{constructor(e,t,n,r,l,u,p,m,v,y,w,E,_,M,O,x,A){super(e,m,v,y,w,E),S(this,"margin",void 0),S(this,"isForceUpdate",!1),S(this,"materials",void 0),S(this,"voxels",void 0),S(this,"tileSet",null),S(this,"background",null),S(this,"mats",{}),S(this,"camera",void 0),S(this,"sun",void 0),S(this,"lateTime",0),S(this,"starttime",0),S(this,"map",void 0),S(this,"offset",void 0),S(this,"trees",{range:new s.a((e=>e instanceof a.a&&e.hasComponent(o.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(o.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new c.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]})),hitbox:new s.a((e=>e instanceof a.a&&e.hasComponent(d.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(d.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new c.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]})),collision:new s.a((e=>e instanceof a.a&&e.hasComponent(h.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(h.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new c.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]}))}),S(this,"maxFramerate",void 0),S(this,"finder",new f.a),S(this,"transferDataBuilder",void 0),S(this,"renderEntitys",new Array),this.margin=l,this.materials=_,this.voxels=M,this.camera=x,this.sun=A,this.addEntitys(x,A),this.maxFramerate=p,this.transferDataBuilder=new b.a(O,u,1/0),this.offset={top:l,bottom:l,front:l,back:l,right:l,left:l},this.map=new i.a(t,n,r,"int32",1,0)}initTrees(e){for(const t in this.trees){const n=this.trees[t];n.hasEntity(e)&&n.initOldPosition(e)}}addEntitys(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];for(const e in this.trees){this.trees[e].add(t)}}super.addEntitys(...arguments)}getMaterialManager(){return this.materials}getVoxelManager(){return this.voxels}getMap(){return this.map}getWorldDistance(){return this.map.getWorldDistance()}getWorldSize(){return this.map.getSize()}getCamera(){return this.camera}getSun(){return this.sun}getMargin(){return this.margin}getOffset(){return this.offset}getVoxel(e,t,n){return this.getVoxelManager().getVoxel(this.getVoxelField(e,t,n))}getVoxelField(e,t,n){return this.map.get(0,e,t,n,this.map.getVoxelField(),this.map.getSize())}getDistanceField(e,t,n){return this.map.get(0,e,t,n,this.map.getDistanceField(),this.map.getSize())}getMortonField(e,t,n){return this.map.get(0,e,t,n,this.map.getMortonField(),this.map.getSize())}getMaterials(){return this.mats}getTileSet(){return this.tileSet}getBackground(){return this.background||{theme:0,rise_up_color:[50/255,125/255,50/255],night_up_color:[50/255,125/255,50/255],rise_down_color:[100/255,125/255,50/255],night_down_color:[100/255,125/255,50/255],material_up:[1,.625,.075],material_down:[1,.625,0],noise_size:5,noise_length:2}}getLateTime(){return this.lateTime}getTree(e){return this.trees[e]||null}setWorldSize(e,t,n,r,i,s,a,o,l){this.map.setSize(e,t,n),this.offset.top=r,this.offset.bottom=i,this.offset.front=s,this.offset.back=a,this.offset.right=o,this.offset.left=l}setWorldData(e){const{voxels:t,map:n,offset:r}=e;this.setWorldSize(n.size.width,n.size.height,n.size.depth,r.top,r.bottom,r.front,r.back,r.right,r.left);this.getVoxelManager().initData(t),this.map.initData(n.voxel_field,n.distance_field,n.morton_field,(0,x.a)(n.voxel_inserts),(0,x.a)(n.distance_inserts),(0,x.a)(n.morton_inserts))}setActorPosition(e,t,n,r){if(e.position.x=t,e.position.y=n,e.position.z=r,e.hasComponent(_.a)){const i=e.getComponent(_.a);i.old.x=t,i.old.y=n,i.old.z=r}if(e.hasComponent(h.a)){const i=e.getComponent(h.a);i.old.x=t,i.old.y=n,i.old.z=r}if(e.hasComponent(M.a)){const t=e.getComponent(M.a);t.value.x=0,t.value.y=0,t.value.z=0}if(e.hasComponent(O.a)){const t=e.getComponent(O.a);t.move.x=0,t.move.y=0,t.move.z=0,t.look.x=0,t.look.y=0}this.initTrees(e)}setCamera(e){this.camera=e}setSun(e){this.sun=e}setTileSet(e){this.tileSet!==e&&(this.isForceUpdate=!0),this.tileSet=e}setBackground(e){this.background=e}setMaterials(e){for(const t in e)this.mats[t]=e[t]}setVoxel(e,t,n,r){var i;let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=this.getVoxelManager(),l=o.getVoxels(),u=this.map.get(0,e,t,n),c=o.getVoxel(u);u>0&&((null===(i=this.map.getVoxelInsertData(u))||void 0===i?void 0:i.count)||0)<=0&&o.removeVoxels(c);const h=R(r,p.b);let d=!1,f=null;if(h)d=!0,f=p.b;else for(let e=0,t=0|l.length;e<t;e=e+1|0){const t=l[e]||null;if(null!==t&&R(t,r)){d=!0,f=t;break}}if(d||(f=r,o.addVoxels(r)),null!==f){const r=h?0:l.indexOf(f);this.setVoxelField(e,t,n,r,s)}a&&(h?this.reductionPosition():this.expandPosition())}setVoxelField(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.map.set(0,e,t,n,r,i,this.map.getVoxelField()),!i&&r<=0&&this.setDistanceField(e,t,n,1)}setDistanceField(e,t,n,r){this.map.set(0,e,t,n,r,!1,this.map.getDistanceField())}setMortonField(e,t,n,r){this.map.set(0,e,t,n,r,!1,this.map.getMortonField())}hasOutOfWorld(e,t,n){return(0,u.d)(this.map,e,t,n)}clearMap(){const e=this.getMap();this.getVoxelManager();e.clear()}clearTree(){for(const e in this.trees){this.trees[e].clear()}}clearControl(){this.getControlManager().clear()}clear(){this.clearMap(),this.clearTree(),this.clearControl(),this.lateTime=0,super.clear()}getEntitysOfRange(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Array;const o=new Array,h=this.trees[e],d=e=>a.includes(e),f=(0,u.c)(t,n-s/2,r,i,s);for(let e=0,a=0|f.length;e<a;e=e+3|0){const a=f[e],u=f[e+1],p=f[e+2],g=h.getPointCell(a,u,p);for(let e=0,a=0|g.length;e<a;e=e+1|0){const a=g[e],u=this.getEntityOfID(a);if(null===u||!u.hasLive()||d(a)||u.getNames().some(d))continue;const[f,p,m,y,b]=h.getEntityProperty(u);if(-1===f&&-1===p&&-1===m)continue;let[w,E,_,M,O]=h.getOldEntityProperty(u);w=-1===w?f:w,E=-1===E?p:E,_=-1===_?m:_,M=-1===M?y:M,O=-1===O?b:O;const x=f-w,A=p-E,S=m-_,[T,R]=(0,c.h)(x,A,S,0,0,0),[P,L,F]=(0,c.k)(T,R,0,0,1),I=Math.min((0,c.j)(x,A,S,0,0,0),this.getWorldDistance()),N=Math.min(I,Math.max(Math.min(y,b),Math.min(M,O))/2,.5);let k=0;for(;;){const e=w+k*P,a=E+k*L,c=_+k*F,h=(0,v.b)((0,v.c)(k/I),0),d=M+(y-M)*h,f=O+(b-O)*h;if((0,l.c)(t,n-s/2,r,i,s,e,a,c,d,f)){o.push(u);break}if(k>=I)break;if(k=(0,v.a)((0,v.b)(k+N,I,1e5,Math.ceil),0,I),k<=0)break}}}return o}hitScan(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=new Array,d=this.trees[e],f=e=>o.includes(e);let g=!1;const[m,b,w,E]=(0,u.k)(t,n,r,i,s,a,this.getWorldSize(),((e,t,n)=>!R(this.getVoxel(e,t,n),p.b)),((e,a,o,u,p,m,y,b,w,E,_,M,O,x,A,S,T,R)=>{const P=d.getPointCell(e,a,o);for(let e=0,a=0|P.length;e<a;e=e+1|0){const a=P[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||f(a)||o.getNames().some(f))continue;const[y,b,w,E,_]=d.getEntityProperty(o);if(-1===y&&-1===b&&-1===w)continue;let[M,O,x,A,S]=d.getOldEntityProperty(o);M=-1===M?y:M,O=-1===O?b:O,x=-1===x?w:x,A=A?E:A,S=S?_:S;const T=y-M,R=b-O,L=w-x,[F,I]=(0,c.h)(T,R,L,0,0,0),[N,k,C]=(0,c.k)(F,I,0,0,1),D=Math.min((0,c.j)(T,R,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(A,S))/2,.5);let B=0;for(;;){const e=M+B*N,a=O+B*k,d=x+B*C,f=(0,v.b)((0,v.c)(B/D),0),y=A+(E-A)*f,b=S+(_-S)*f;if((r<u?r<e+y/2:u<e+y/2)&&(i<p?i<a+b:p<a+b)&&(s<m?s<d+y/2:m<d+y/2)&&(r>u?r>e-y/2:u>e-y/2)&&(i>p?i>a:p>a)&&(s>m?s>d-y/2:m>d-y/2)){const[u,f,p]=(0,l.a)(r,i,s,t,n,e,a,d,e,a+b,d,y);if(-1!==u&&-1!==f&&-1!==p){const e=(0,c.j)(u,f,p,r,i,s);h.push([u,f,p,e,o]),g=!0;break}}if(B>=D)break;if(B=(0,v.a)((0,v.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}return g}));return-1!==m&&-1!==m&&-1!==w&&h.push([m,b,w,E,null]),h.length>1&&(0,y.c)(h).asc((e=>e[3])),h[0]||[-1,-1,-1,-1,null]}hitScanVoxel(e,t,n,r,i,s){return(0,u.j)(e,t,n,r,i,s,this.getWorldSize(),((e,t,n)=>this.getDistanceField(e,t,n)))}hitScanActor(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=new Array,d=this.trees[e],f=e=>o.includes(e);let g=!1;return(0,u.k)(t,n,r,i,s,a,this.getWorldSize(),((e,t,n)=>!R(this.getVoxel(e,t,n),p.b)),((e,a,o,u,p,m,y,b,w,E,_,M,O,x,A,S,T,R)=>{const P=d.getPointCell(e,a,o);for(let e=0,a=0|P.length;e<a;e=e+1|0){const a=P[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||f(a)||o.getNames().some(f))continue;const[y,b,w,E,_]=d.getEntityProperty(o);if(-1===y&&-1===b&&-1===w)continue;let[M,O,x,A,S]=d.getOldEntityProperty(o);M=-1===M?y:M,O=-1===O?b:O,x=-1===x?w:x,A=A?E:A,S=S?_:S;const T=y-M,R=b-O,L=w-x,[F,I]=(0,c.h)(T,R,L,0,0,0),[N,k,C]=(0,c.k)(F,I,0,0,1),D=Math.min((0,c.j)(T,R,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(A,S))/2,.5);let B=0;for(;;){const e=M+B*N,a=O+B*k,d=x+B*C,f=(0,v.b)((0,v.c)(B/D),0),y=A+(E-A)*f,b=S+(_-S)*f;if((r<u?r<e+y/2:u<e+y/2)&&(i<p?i<a+b:p<a+b)&&(s<m?s<d+y/2:m<d+y/2)&&(r>u?r>e-y/2:u>e-y/2)&&(i>p?i>a:p>a)&&(s>m?s>d-y/2:m>d-y/2)){const[u,f,p]=(0,l.a)(r,i,s,t,n,e,a,d,e,a+b,d,y);if(-1!==u&&-1!==f&&-1!==p){const e=(0,c.j)(u,f,p,r,i,s);return h.push([u,f,p,e,o]),g=!0,!0}}if(B>=D)break;if(B=(0,v.a)((0,v.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}return g})),h[0]||[-1,-1,-1,-1,null]}hitScanBold(e,t,n,r,i,s,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,b]=this.getWorldSize(),w=(0,c.j)(g,m,b,0,0,0);let[E,_,M,O]=this.hitScanVoxelBoldFindMin(t,n,r,i,s,a,w);const x=Math.min(o,O,(0,c.j)(g,m,b,0,0,0)),[A,S,T]=(0,c.k)(t,n,0,0,x),R=Math.min((0,c.j)(A,S,T,0,0,0),this.getWorldDistance());-1!==E&&-1!==_&&-1!==M&&d.push([E,_,M,O,null]);const[P,L]=(0,c.h)(A,S,T,0,0,0),[F,I,N]=(0,c.k)(P,L,0,0,1),k=Math.min(R,a/2,.5);Math.max(...this.getWorldSize());let C=0,D=!1;for(;;){const e=r+C*F,t=i+C*I,n=s+C*N,o=(0,u.c)(e,t-a/2,n,a,a);for(let u=0,h=0|o.length;u<h;u=u+3|0){const h=o[u+0],g=o[u+1],m=o[u+2],y=p.getPointCell(h,g,m);for(let o=0,u=0|y.length;o<u;o=o+1|0){const u=y[o],h=this.getEntityOfID(u);if(null===h||!h.hasLive()||f(u)||h.getNames().some(f))continue;const[g,m,b,w,E]=p.getEntityProperty(h);if(-1===g&&-1===m&&-1===b)continue;let[_,M,O,A,S]=p.getOldEntityProperty(h);_=-1===_?g:_,M=-1===M?m:M,O=-1===O?b:O,A=A?w:A,S=S?E:S;const T=g-_,R=m-M,P=b-O,[L,F]=(0,c.h)(T,R,P,0,0,0),[I,N,k]=(0,c.k)(L,F,0,0,1),C=Math.min((0,c.j)(T,R,P,0,0,0),this.getWorldDistance()),U=Math.min(C,Math.max(Math.min(w,E),Math.min(A,S))/2,.5);let B=0;for(;;){const o=_+B*I,u=M+B*N,f=O+B*k,p=(0,v.b)((0,v.c)(B/C),0),g=A+(w-A)*p,m=S+(E-S)*p;if((0,l.c)(e,t-a/2,n,a,a,o,u,f,g,m)){const a=(0,c.j)(e,t,n,r,i,s);if(a<x){d.push([e,t,n,a,h]),D=!0;break}}if(B>=C)break;if(B=(0,v.a)((0,v.b)(B+U,C,1e5,Math.ceil),0,C),B<=0)break}}}if(D||C>=R)break;C=(0,v.a)((0,v.b)(C+k,R,1e5,Math.ceil),0,R)}return d.length>1&&(0,y.c)(d).asc((e=>e[3])),d.length>0?d[0]:[-1,-1,-1,-1,null]}hitScanBoldFind(e,t,n,r,i,s,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,b]=this.getWorldSize(),w=(0,c.j)(g,m,b,0,0,0),[E,_,M,O]=this.hitScanVoxelBoldFindMax(t,n,r,i,s,a,w),x=Math.min(o,O,(0,c.j)(g,m,b,0,0,0)),[A,S,T]=(0,c.k)(t,n,0,0,x),R=Math.min((0,c.j)(A,S,T,0,0,0),this.getWorldDistance()),[P,L,F,I]=this.hitScanVoxelBoldFindMin(t,n,r,i,s,a,o);if(-1!==P&&-1!==L&&-1!==F&&d.push([P,L,F,I,null]),-1!==E&&-1!==_&&-1!==M){const[e,t]=(0,c.h)(A,S,T,0,0,0),[n,o,h]=(0,c.k)(e,t,0,0,1),g=Math.min(R,a/2,.5);Math.max(...this.getWorldSize());let m=0,y=!1;for(;;){const e=r+m*n,t=i+m*o,b=s+m*h,w=(0,u.c)(e,t-a/2,b,a,a);for(let n=0,o=0|w.length;n<o;n=n+3|0){const o=w[n+0],u=w[n+1],h=w[n+2],g=p.getPointCell(o,u,h);for(let n=0,o=0|g.length;n<o;n=n+1|0){const o=g[n],u=this.getEntityOfID(o);if(null===u||!u.hasLive()||f(o)||u.getNames().some(f))continue;const[h,m,w,E,_]=p.getEntityProperty(u);if(-1===h&&-1===m&&-1===w)continue;let[M,O,A,S,T]=p.getOldEntityProperty(u);M=-1===M?h:M,O=-1===O?m:O,A=-1===A?w:A,S=S?E:S,T=T?_:T;const R=h-M,P=m-O,L=w-A,[F,I]=(0,c.h)(R,P,L,0,0,0),[N,k,C]=(0,c.k)(F,I,0,0,1),D=Math.min((0,c.j)(R,P,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(S,T))/2,.5);let B=0;for(;;){const n=M+B*N,o=O+B*k,h=A+B*C,f=(0,v.b)((0,v.c)(B/D),0),p=S+(E-S)*f,g=T+(_-T)*f;if((0,l.c)(e,t-a/2,b,a,a,n,o,h,p,g)){const n=(0,c.j)(e,t,b,r,i,s);if(n<x){d.push([e,t,b,n,u]),y=!0;break}}if(B>=D)break;if(B=(0,v.a)((0,v.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}}if(y||m>=R)break;m=(0,v.a)((0,v.b)(m+g,R,1e5,Math.ceil),0,R)}}return d.length>1&&(0,y.c)(d).asc((e=>e[3])),d.length>0?d[0]:[-1,-1,-1,-1,null]}hitScanVoxelBoldFindMin(e,t,n,r,i,s){let a=-1,o=-1,l=-1,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;const h=s/2;let d=!1;for(let s=0,f=0|T.length;s<f;s=s+1|0){const f=(0,c.g)(T[s][0],T[s][1],0,0),p=Math.cos(f)*h,g=Math.sin(f)*h,[m,v,y]=(0,c.k)(e,t,p,g,0),[b,w,E,_]=this.hitScanVoxel(e,t,n+m,r+v,i+y,u);-1!==b&&-1!==w&&-1!==E&&_<u&&(a=b-m,o=w-v,l=E-y,u=_,d=!0)}return[a,o,l,d?u:-1]}hitScanVoxelBoldFindMax(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0,o=-1,l=-1,u=-1,h=0;const d=s/2;let f=!1;for(let s=0,p=0|T.length;s<p;s=s+1|0){const p=(0,c.g)(T[s][0],T[s][1],0,0),g=Math.cos(p)*d,m=Math.sin(p)*d,[v,y,b]=(0,c.k)(e,t,g,m,0),[w,E,_,M]=this.hitScanVoxel(e,t,n+v,r+y,i+b,a);-1!==w&&-1!==E&&-1!==_&&M>h&&(o=w-v,l=E-y,u=_-b,h=M,f=!0)}return[o,l,u,f?h:-1]}hitScanVoxelBold(e,t,n,r,i,s,a){const o=new Array,[l,h,d]=this.getWorldSize(),f=Math.min(a,(0,c.j)(l,h,d,0,0,0)),[p,g,m]=(0,c.k)(e,t,0,0,f),[b,w]=(0,c.h)(p,g,m,0,0,0),[E,_,M]=(0,c.k)(b,w,0,0,1),O=Math.min(f,s/2,.5);let x=0;const A=this.getMap();for(;;){const a=n+x*E,p=r+x*_,g=i+x*M,m=(0,u.c)(a,p-s/2,g,s,s);for(let s=0,u=0|m.length;s<u;s=s+3|0){const u=m[s+0],f=m[s+1],v=m[s+2];if(0>u||l<=u||0>f||h<=f||0>v||d<=v||A.get(0,u,f,v)>0){const[s,l]=(0,c.h)(u+.5,f+.5,v+.5,a,p,g),h=(0,c.j)(u+.5,f+.5,v+.5,a,p,g),d=Math.cos(s)+Math.sin(s),m=Math.sin(l)+Math.cos(l),[y,b,w]=(0,c.k)(e,t,0,0,h-Math.sqrt(Math.max(d*d,m*m))+(0,c.j)(a,p,g,n,r,i));o.push([y+n,b+r,w+i,(0,c.j)(y+n,b+r,w+i,n,r,i),null]);break}}if(x>=f)break;if(x=(0,v.a)((0,v.b)(x+O,f,1e5,Math.ceil),0,f),x<=0)break}return o.length>1&&(0,y.c)(o).asc((e=>e[3])),o[0]||[-1,-1,-1,-1,null]}hitScanBoldActor(e,t,n,r,i,s,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,b]=this.getWorldSize(),w=(Math.max(...this.getWorldSize()),Math.min(o,(0,c.j)(g,m,b,0,0,0))),[E,_,M]=(0,c.k)(t,n,0,0,w),[O,x]=(0,c.h)(E,_,M,0,0,0),[A,S,T]=(0,c.k)(O,x,0,0,1),R=Math.min(w,a/2,.5);let P=0,L=!1;for(;;){const e=r+P*A,t=i+P*S,n=s+P*T,o=(0,u.c)(e,t-a/2,n,a,a);for(let u=0,h=0|o.length;u<h;u=u+3|0){const h=o[u+0],g=o[u+1],m=o[u+2],y=p.getPointCell(h,g,m);for(let o=0,u=0|y.length;o<u;o=o+1|0){const u=y[o],h=this.getEntityOfID(u);if(null===h||!h.hasLive()||f(u)||h.getNames().some(f))continue;const[g,m,b,w,E]=p.getEntityProperty(h);if(-1===g&&-1===m&&-1===b)continue;let[_,M,O,x,A]=p.getOldEntityProperty(h);_=-1===_?g:_,M=-1===M?m:M,O=-1===O?b:O,x=x?w:x,A=A?E:A;const S=g-_,T=m-M,R=b-O,[P,F]=(0,c.h)(S,T,R,0,0,0),[I,N,k]=(0,c.k)(P,F,0,0,1),C=Math.min((0,c.j)(S,T,R,0,0,0),this.getWorldDistance()),D=Math.min(C,Math.max(Math.min(w,E),Math.min(x,A))/2,.5);let U=0;for(;;){const o=_+U*I,u=M+U*N,f=O+U*k,p=(0,v.b)((0,v.c)(U/C),0),g=x+(w-x)*p,m=A+(E-A)*p;if((0,l.c)(e,t-a/2,n,a,a,o,u,f,g,m)){const a=(0,c.j)(e,t,n,r,i,s);d.push([e,t,n,a,h]),L=!0;break}if(U>=C)break;if(U=(0,v.a)((0,v.b)(U+D,C,1e5,Math.ceil),0,C),U<=0)break}}}if(L||P>=w)break;P=(0,v.a)((0,v.b)(P+R,w,1e5,Math.ceil),0,w)}return d.length>1&&(0,y.c)(d).asc((e=>e[3])),d[0]||[-1,-1,-1,-1,null]}hasBlockScale(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Array;if(this.hasBlockScaleVoxel(t,n,r,i,s))return!0;const o=this.trees[e],h=e=>a.includes(e),d=(0,u.c)(t,n,r,i,s);for(let e=0,a=0|d.length;e<a;e=e+3|0){const a=d[e],u=d[e+1],f=d[e+2],p=o.getPointCell(a,u,f);for(let e=0,a=0|p.length;e<a;e=e+1|0){const a=p[e],u=this.getEntityOfID(a);if(null===u||!u.hasLive()||h(a)||u.getNames().some(h))continue;const[d,f,g,m,y]=o.getEntityProperty(u);if(-1===d&&-1===f&&-1===g)continue;let[b,w,E,_,M]=o.getOldEntityProperty(u);b=-1===b?d:b,w=-1===w?f:w,E=-1===E?g:E,_=_?m:_,M=M?y:M;const O=d-b,x=f-w,A=g-E,[S,T]=(0,c.h)(O,x,A,0,0,0),[R,P,L]=(0,c.k)(S,T,0,0,1),F=Math.min((0,c.j)(O,x,A,0,0,0),this.getWorldDistance()),I=Math.min(F,Math.max(Math.min(m,y),Math.min(_,M))/2,.5);let N=0;for(;;){const e=b+N*R,a=w+N*P,o=E+N*L,u=(0,v.b)((0,v.c)(N/F),0),c=_+(m-_)*u,h=M+(y-M)*u;if((0,l.c)(t,n,r,i,s,e,a,o,c,h))return!0;if(N>=F)break;if(N=(0,v.a)((0,v.b)(N+I,F,1e5,Math.ceil),0,F),N<=0)break}}}return!1}hasBlockScaleVoxel(e,t,n,r,i){const s=this.getMap();return(0,l.b)(e,t,n,r,i,((e,t,n,r)=>s.get(0,t,n,r)>0))}hasHitScanVoxel(e,t,n,r,i,s){return(0,u.e)(e,t,n,r,i,s,this.getWorldSize(),((e,t,n)=>this.getDistanceField(e,t,n)))}hasHitScan(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=this.trees[e],d=e=>o.includes(e);let f=!1;return(0,u.f)(t,n,r,i,s,a,this.getWorldSize(),((e,t,n)=>!R(this.getVoxel(e,t,n),p.b)),((e,a,o,u,p,g,m,y,b,w,E,_,M,O,x,A,S,T)=>{const R=h.getPointCell(e,a,o);for(let e=0,a=0|R.length;e<a;e=e+1|0){const a=R[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||d(a)||o.getNames().some(d))continue;const[m,y,b,w,E]=h.getEntityProperty(o);if(-1===m&&-1===y&&-1===b)continue;let[_,M,O,x,A]=h.getOldEntityProperty(o);_=-1===_?m:_,M=-1===M?y:M,O=-1===O?b:O,x=x?w:x,A=A?E:A;const S=m-_,T=y-M,P=b-O,[L,F]=(0,c.h)(S,T,P,0,0,0),[I,N,k]=(0,c.k)(L,F,0,0,1),C=Math.min((0,c.j)(S,T,P,0,0,0),this.getWorldDistance()),D=Math.min(C,Math.max(Math.min(w,E),Math.min(x,A))/2,.5);let U=0;for(;;){const e=_+U*I,a=M+U*N,o=O+U*k,c=(0,v.b)((0,v.c)(U/C),0),h=x+(w-x)*c,d=A+(E-A)*c;if((r<u?r<e+h/2:u<e+h/2)&&(i<p?i<a+d:p<a+d)&&(s<g?s<o+h/2:g<o+h/2)&&(r>u?r>e-h/2:u>e-h/2)&&(i>p?i>a:p>a)&&(s>g?s>o-h/2:g>o-h/2)){const[u,c,p]=(0,l.a)(r,i,s,t,n,e,a,o,e,a+d,o,h);if(-1!==u&&-1!==c&&-1!==p)return f=!0,!0}if(U>=C)break;if(U=(0,v.a)((0,v.b)(U+D,C,1e5,Math.ceil),0,C),U<=0)break}}return!1}))||f}hasHitScanActor(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=this.trees[e],d=e=>o.includes(e);let f=!1;return(0,u.f)(t,n,r,i,s,a,this.getWorldSize(),((e,t,n)=>!R(this.getVoxel(e,t,n),p.b)),((e,a,o,u,p,g,m,y,b,w,E,_,M,O,x,A,S,T)=>{const R=h.getPointCell(e,a,o);for(let e=0,a=0|R.length;e<a;e=e+1|0){const a=R[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||d(a)||o.getNames().some(d))continue;const[m,y,b,w,E]=h.getEntityProperty(o);if(-1===m&&-1===y&&-1===b)continue;let[_,M,O,x,A]=h.getOldEntityProperty(o);_=-1===_?m:_,M=-1===M?y:M,O=-1===O?b:O,x=x?w:x,A=A?E:A;const S=m-_,T=y-M,P=b-O,[L,F]=(0,c.h)(S,T,P,0,0,0),[I,N,k]=(0,c.k)(L,F,0,0,1),C=Math.min((0,c.j)(S,T,P,0,0,0),this.getWorldDistance()),D=Math.min(C,Math.max(Math.min(w,E),Math.min(x,A))/2,.5);let U=0;for(;;){const e=_+U*I,a=M+U*N,o=O+U*k,c=(0,v.b)((0,v.c)(U/C),0),h=x+(w-x)*c,d=A+(E-A)*c;if((r<u?r<e+h/2:u<e+h/2)&&(i<p?i<a+d:p<a+d)&&(s<g?s<o+h/2:g<o+h/2)&&(r>u?r>e-h/2:u>e-h/2)&&(i>p?i>a:p>a)&&(s>g?s>o-h/2:g>o-h/2)){const[u,c,p]=(0,l.a)(r,i,s,t,n,e,a,o,e,a+d,o,h);if(-1!==u&&-1!==c&&-1!==p)return f=!0,!0}if(U>=C)break;if(U=(0,v.a)((0,v.b)(U+D,C,1e5,Math.ceil),0,C),U<=0)break}}return!1})),f}hasHitScanBold(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1/0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Array;const d=e=>h.includes(e),f=this.trees[e],[p,g,m]=this.getWorldSize(),y=(0,c.j)(p,g,m,0,0,0);let[b,w,E,_]=this.hitScanVoxelBoldFindMin(t,n,r,i,s,a,y);const M=Math.min(o,_,(0,c.j)(p,g,m,0,0,0)),[O,x,A]=(0,c.k)(t,n,0,0,M),S=Math.min((0,c.j)(O,x,A,0,0,0),this.getWorldDistance());if(-1!==b&&-1!==w&&-1!==E){const[e,t]=(0,c.h)(O,x,A,0,0,0),[n,o,h]=(0,c.k)(e,t,0,0,1),p=Math.min(S,a/2,.5);Math.max(...this.getWorldSize());let g=0,m=!1;for(;;){const e=r+g*n,t=i+g*o,y=s+g*h,b=(0,u.c)(e,t-a/2,y,a,a);for(let n=0,o=0|b.length;n<o;n=n+3|0){const o=b[n+0],u=b[n+1],h=b[n+2],p=f.getPointCell(o,u,h);for(let n=0,o=0|p.length;n<o;n=n+1|0){const o=p[n],u=this.getEntityOfID(o);if(null===u||!u.hasLive()||d(o)||u.getNames().some(d))continue;const[h,g,m,b,w]=f.getEntityProperty(u);if(-1===h&&-1===g&&-1===m)continue;let[E,_,O,x,A]=f.getOldEntityProperty(u);E=-1===E?h:E,_=-1===_?g:_,O=-1===O?m:O,x=x?b:x,A=A?w:A;const S=h-E,T=g-_,R=m-O,[P,L]=(0,c.h)(S,T,R,0,0,0),[F,I,N]=(0,c.k)(P,L,0,0,1),k=Math.min((0,c.j)(S,T,R,0,0,0),this.getWorldDistance()),C=Math.min(k,Math.max(Math.min(b,w),Math.min(x,A))/2,.5);let D=0;for(;;){const n=E+D*F,o=_+D*I,u=O+D*N,h=(0,v.b)((0,v.c)(D/k),0),d=x+(b-x)*h,f=A+(w-A)*h;if((0,l.c)(e,t-a/2,y,a,a,n,o,u,d,f)){if((0,c.j)(e,t,y,r,i,s)<M)return!0}if(D>=k)break;if(D=(0,v.a)((0,v.b)(D+C,k,1e5,Math.ceil),0,k),D<=0)break}}}if(m||g>=S)break;g=(0,v.a)((0,v.b)(g+p,S,1e5,Math.ceil),0,S)}}return-1!==_&&_<=S}hasHitScanVoxelBold(e,t,n,r,i,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;const[o,l,h]=this.getWorldSize(),d=Math.min(a,(0,c.j)(o,l,h,0,0,0)),[f,g,m]=(0,c.k)(e,t,0,0,d),[y,b]=(Math.max(...this.getWorldSize()),(0,c.h)(f,g,m,0,0,0)),[w,E,_]=(0,c.k)(y,b,0,0,1),M=Math.min(d,s/2,.5);let O=0;for(;;){const e=n+O*w,t=r+O*E,a=i+O*_,c=(0,u.c)(e,t-s/2,a,s,s);for(let e=0,t=0|c.length;e<t;e=e+3|0){const t=c[e+0],n=c[e+1],r=c[e+2];if(0>t||o<=t||0>n||l<=n||0>r||h<=r||!R(this.getVoxel(t,n,r),p.b))return!0}if(O>=d)break;if(O=(0,v.a)((0,v.b)(O+M,d,1e5,Math.ceil),0,d),O<=0)break}return!1}hasHitScanBoldActor(e,t,n,r,i,s,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=this.trees[e],f=e=>h.includes(e),[p,g,m]=this.getWorldSize(),y=Math.min(o,(0,c.j)(p,g,m,0,0,0)),[b,w,E]=(0,c.k)(t,n,0,0,y),[_,M]=(Math.max(...this.getWorldSize()),(0,c.h)(b,w,E,0,0,0)),[O,x,A]=(0,c.k)(_,M,0,0,1),S=Math.min(y,a/2,.5);let T=0;for(;;){const e=r+T*O,t=i+T*x,n=s+T*A,o=(0,u.c)(e,t-a/2,n,a,a);for(let r=0,i=0|o.length;r<i;r=r+3|0){const i=o[r+0],s=o[r+1],u=o[r+2],h=d.getPointCell(i,s,u);for(let r=0,i=0|h.length;r<i;r=r+1|0){const i=h[r],s=this.getEntityOfID(i);if(null===s||!s.hasLive()||f(i)||s.getNames().some(f))continue;const[o,u,p,g,m]=d.getEntityProperty(s);if(-1===o&&-1===u&&-1===p)continue;let[y,b,w,E,_]=d.getOldEntityProperty(s);y=-1===y?o:y,b=-1===b?u:b,w=-1===w?p:w,E=E?g:E,_=_?m:_;const M=o-y,O=u-b,x=p-w,[A,S]=(0,c.h)(M,O,x,0,0,0),[T,R,P]=(0,c.k)(A,S,0,0,1),L=Math.min((0,c.j)(M,O,x,0,0,0),this.getWorldDistance()),F=Math.min(L,Math.max(Math.min(g,m),Math.min(E,_))/2,.5);let I=0;for(;;){const r=y+I*T,i=b+I*R,s=w+I*P,o=(0,v.b)((0,v.c)(I/L),0),u=E+(g-E)*o,c=_+(m-_)*o;if((0,l.c)(e,t-a/2,n,a,a,r,i,s,u,c))return!0;if(I>=L)break;if(I=(0,v.a)((0,v.b)(I+F,L,1e5,Math.ceil),0,L),I<=0)break}}}if(T>=y)break;if(T=(0,v.a)((0,v.b)(T+S,y,1e5,Math.ceil),0,y),T<=0)break}return!1}expandPosition(){const[e,t,n]=this.getWorldSize(),r=this.getMargin();let i=0,s=0,o=0,l=e-1,u=t-1,c=n-1;const h=this.getMap();e:for(;i<e;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,i,n,e)>0)break e}i+=1}e:for(;l>=0;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,l,n,e)>0)break e}l+=-1}e:for(;s<t;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,s,e)>0)break e}s+=1}e:for(;u>=0;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,u,e)>0)break e}u+=-1}e:for(;o<n;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,o)>0)break e}o+=1}e:for(;c>=0;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,c)>0)break e}c+=-1}let d=0,f=0,p=0;this.offset.left=r,d+=Math.min(0,i-r),this.offset.right=l+r,d+=Math.max(0,l+r-(e-1)),this.offset.bottom=r,f+=Math.min(0,s-r),this.offset.top=u+r,f+=Math.max(0,u+r-(t-1)),this.offset.back=r,p+=Math.min(0,o-r),this.offset.front=c+r,p+=Math.max(0,c+r-(n-1)),this.map.expand(d,f,p);const g=this.getEntitys(),m=Math.abs(d<0?d:0),v=Math.abs(f<0?f:0),y=Math.abs(p<0?p:0);for(let e=0,t=0|g.length;e<t;e=e+1|0){const t=g[e];if(!(t instanceof a.a))continue;const{position:n}=t;n.x+=m,n.y+=v,n.z+=y}}reductionPosition(){const[e,t,n]=this.getWorldSize(),r=this.getMargin();let i=0,s=0,o=0,l=e-1,u=t-1,c=n-1;const h=this.getMap();e:for(;i<e;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,i,n,e)>0)break e}i+=1}e:for(;l>=0;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,l,n,e)>0)break e}l+=-1}e:for(;s<t;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,s,e)>0)break e}s+=1}e:for(;u>=0;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,u,e)>0)break e}u+=-1}e:for(;o<n;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,o)>0)break e}o+=1}e:for(;c>=0;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,c)>0)break e}c+=-1}let d=0,f=0,p=0;this.offset.left=r,d+=Math.min(0,r-i),this.offset.right=l+r,d+=Math.max(0,e-1-(l+r)),this.offset.bottom=r,f+=Math.min(0,r-s),this.offset.top=u+r,f+=Math.max(0,t-1-(u+r)),this.offset.back=r,p+=Math.min(0,r-o),this.offset.front=c+r,p+=Math.max(0,n-1-(c+r)),this.map.reduction(d,f,p);const g=this.getEntitys(),m=Math.abs(d<0?d:0),v=Math.abs(f<0?f:0),y=Math.abs(p<0?p:0);for(let e=0,t=0|g.length;e<t;e=e+1|0){const t=g[e];if(!(t instanceof a.a))continue;const{position:n}=t;n.x-=m,n.y-=v,n.z-=y}}findPath(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>{t.block=!0},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e=>!0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e=>e.step,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:()=>!0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:()=>0;return this.finder.find(e,t,n,r,i,s,a,o,l)}createTransferVoxelData(e,t,n){return n=n||this.isForceUpdate,this.isForceUpdate=!1,this.transferDataBuilder.createData(e,this.renderEntitys,t,n)}onecsend(e){const[t,n,r]=this.getWorldSize();for(const e in this.trees){this.trees[e].update(t,n,r)}}onsyncentity(e){const{entitys:t}=e;for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];n instanceof a.a&&(!this.renderEntitys.includes(n)||n.hasComponent(w.a)&&n.hasComponent(E.a)?n.hasComponent(w.a)&&n.hasComponent(E.a)&&!this.renderEntitys.includes(n)&&this.renderEntitys.push(n):this.renderEntitys.splice(this.renderEntitys.indexOf(n),1))}}onremoveentity(e){const{entitys:t}=e;for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];for(const e in this.trees){this.trees[e].remove(n)}}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];n instanceof a.a&&(this.renderEntitys.includes(n)&&this.renderEntitys.splice(this.renderEntitys.indexOf(n),1))}}onupdatebegin(e){this.starttime=performance.now(),super.onupdatebegin(e),this.finder.begin()}onupdate(e){super.onupdate(e);const{time:t,framerate:n}=e;this.lateTime+=t,this.finder.update(t*(1e3/60),this.starttime,n,this.maxFramerate)}}r()}catch(L){r(L)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>d});n(1),n(4),n(20),n(21),n(202);var r=n(83),i=n(52);function s(e,t,n,r,s,a,o){let[l,u,c]=o;const h=0|t,d=0|n,f=0|r;if(null===e||h<0||h>=l||d<0||d>=u||f<0||f>=c)return-1;return e[(0,i.g)(a,s,h,d,f,l,u,c)]}var a=n(268);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t,n){o(this,"voxel_field",void 0),o(this,"distance_field",void 0),o(this,"morton_field",void 0),o(this,"fill_field",void 0),this.voxel_field=e,this.distance_field=t,this.morton_field=n,this.fill_field=(0,r.a)("int32",this.distance_field.length),this.fill_field.fill(1)}clearData(){this.distance_field.fill(-1),this.morton_field.fill(-1),this.fill_field.fill(0)}getReferenceMorton(e,t,n,r,s){const[a,o,l]=e,u=(0,i.g)(t,0,n,r,s,a,o,l);return this.morton_field[u]}findDistanceFind(e,t,n,r,o,l,u){const[c,h,d]=e,f=new Array,p={};let g=1/0,m=!1;const v=(r,o,l,v)=>{const y=(0,i.g)(t,0,o,l,v,c,h,d);if(o<0||l<0||v<0||o>c-1||l>h-1||v>d-1)return g=Math.min(g,r-1),m=!0,void(u&&(this.morton_field[y]=-1));const b=(0,a.d)(o,l,v);return p[b]?(g=Math.min(g,r-1),m=!0,void(u&&(this.morton_field[y]=this.getReferenceMorton(e,t,o,l,v)))):(p[b]=!0,s(this.voxel_field,o,l,v,0,t,e)!==n?(g=Math.min(g,r-1),m=!0,void(u&&(this.morton_field[y]=(0,a.d)(o,l,v)))):void f.push({count:r,x:o,y:l,z:v}))};v(1,r,o,l);e:for(;f.length>0;){const e=f.shift()||null;if(null===e)break;const{count:t,x:n,y:r,z:s}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];if(v(t+1,n+a,r+o,s+l),m)break e}}return g===1/0?1:g}getDistanceFind(e,t,n,r,s,o,l,u,c,h,d,f,p,g){if(u<0||c<0||h<0||u>d-1||c>f-1||h>p-1)return-1;const m=g?-1:(0,a.d)(s,o,l);for(var v=arguments.length,y=new Array(v>14?v-14:0),b=14;b<v;b++)y[b-14]=arguments[b];if(-1!==m&&y.includes(m))return-1;const w=(0,i.g)(t,0,u,c,h,d,f,p),E=this.distance_field[w],_=0===this.fill_field[w],M=g?this.findDistanceFind(e,t,n,u,c,h,g):r;return _?(this.distance_field[w]=M,this.fill_field[w]=1):this.distance_field[w]=g?Math.max(0,Math.max(this.distance_field[w],M)):Math.max(0,Math.min(this.distance_field[w],M)),_&&(this.morton_field[w]=g?this.morton_field[w]:m),E===this.distance_field[w]?_?M:-1:M}buildPointFind(e,t,n,r,o,l){for(var u=arguments.length,c=new Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];const[d,f,p]=e,g=new Array,m={},v=s(this.voxel_field,r,o,l,0,n,e)===t,y=this.getDistanceFind(e,n,t,0,r,o,l,r,o,l,d,f,p,v,...c);if(-1===y)return;const b=(i,u,h,y)=>{if(u<0||h<0||y<0||u>d-1||h>f-1||y>p-1)return;const b=(0,a.d)(u,h,y);if(!m[b]&&(m[b]=!0,s(this.voxel_field,u,h,y,0,n,e)===t)){const s=this.getDistanceAll(e,n,t,i,r,o,l,u,h,y,d,f,p,v,...c);-1!==s&&g.push({count:s,x:u,y:h,z:y})}};if(v)b(y,r,o,l);else{const e=(0,a.d)(r,o,l);g.push({count:y,x:r,y:o,z:l}),m[e]=!0}for(;g.length>0;){const e=g.shift()||null;if(null===e)break;const{count:t,x:n,y:r,z:s}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];b(t+1,n+a,r+o,s+l)}}}findDistanceAll(e,t,n,r,o,l){const[u,c,h]=e,d=new Array,f={};let p=1/0,g=!1;const m=(r,o,l,m)=>{if(o<0||l<0||m<0||o>u-1||l>c-1||m>h-1)return p=Math.min(p,r-1),void(g=!0);const v=(0,i.g)(t,0,o,l,m,u,c,h),y=this.distance_field[v];if(-1!==y)return p=Math.min(p,y),void(g=!0);const b=(0,a.d)(o,l,m);return f[b]?(p=Math.min(p,r-1),void(g=!0)):(f[b]=!0,s(this.voxel_field,o,l,m,0,t,e)!==n?(p=Math.min(p,r-1),void(g=!0)):void d.push({count:r,x:o,y:l,z:m}))};m(1,r,o,l);e:for(;d.length>0;){const e=d.shift()||null;if(null===e)break;const{count:t,x:n,y:r,z:s}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];if(m(t+1,n+a,r+o,s+l),g)break e}}return p===1/0?1:p}getDistanceAll(e,t,n,r,s,o,l,u,c,h,d,f,p){let g=arguments.length>13&&void 0!==arguments[13]&&arguments[13];if(u<0||c<0||h<0||u>d-1||c>f-1||h>p-1)return-1;const m=(0,a.d)(s,o,l);for(var v=arguments.length,y=new Array(v>14?v-14:0),b=14;b<v;b++)y[b-14]=arguments[b];if(y.includes(m))return-1;const w=(0,i.g)(t,0,u,c,h,d,f,p),E=this.distance_field[w],_=0===this.fill_field[w],M=g?this.findDistanceAll(e,t,n,u,c,h):r;return _?(this.distance_field[w]=M,this.fill_field[w]=1):this.distance_field[w]=g?Math.max(0,Math.max(this.distance_field[w],M)):Math.max(0,Math.min(this.distance_field[w],M)),E===this.distance_field[w]?_?M:-1:(this.morton_field[w]=m,M)}buildPointAll(e,t,n,r,o,l){for(var u=arguments.length,c=new Array(u>6?u-6:0),h=6;h<u;h++)c[h-6]=arguments[h];const[d,f,p]=e,g=new Array,m={},v=(0,a.d)(r,o,l),y=s(this.voxel_field,r,o,l,0,n,e)===t,b=this.getDistanceAll(e,n,t,0,r,o,l,r,o,l,d,f,p,y,...c);if(-1===b)return;const w=(i,u,h,v)=>{if(u<0||h<0||v<0||u>d-1||h>f-1||v>p-1)return;const b=(0,a.d)(u,h,v);if(!m[b]&&(m[b]=!0,s(this.voxel_field,u,h,v,0,n,e)===t)){const s=this.getDistanceAll(e,n,t,i,r,o,l,u,h,v,d,f,p,y,...c);-1!==s&&g.push({count:s,x:u,y:h,z:v})}};for(w(b,r,o,l),g.push({count:b,x:r,y:o,z:l}),m[v]=!0;g.length>0;){const e=g.shift()||null;if(null===e)break;const{count:t,x:n,y:r,z:s}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];w(t+1,n+a,r+o,s+l)}}}buildPoint(e,t,n,r,i,s,a){for(var o=arguments.length,l=new Array(o>7?o-7:0),u=7;u<o;u++)l[u-7]=arguments[u];return a?this.buildPointAll(e,t,n,r,i,s,...l):this.buildPointFind(e,t,n,r,i,s,...l)}find(e,t,n,r,i,a){const[o,l,u]=e;for(var c=arguments.length,h=new Array(c>6?c-6:0),d=6;d<c;d++)h[d-6]=arguments[d];s(this.voxel_field,r,i,a,0,n,e)===t&&h.includes(this.getReferenceMorton(e,n,r,i,a))&&this.getDistanceFind(e,n,t,0,r,i,a,r,i,a,o,l,u,!0,...h)}buildFind(e,t,n,r){for(var i=arguments.length,s=new Array(i>4?i-4:0),o=4;o<i;o++)s[o-4]=arguments[o];for(let i=0,o=0|r.length;i<o;i=i+1|0){const o=r[i],[l,u,c]=(0,a.a)(o);this.find(e,t,n,l,u,c,...s)}}buildAll(e,t,n,r){this.clearData();for(let i=0,s=0|r.length;i<s;i=i+1|0){const s=r[i],[o,l,u]=(0,a.a)(s);this.buildPointAll(e,t,n,o,l,u)}}}var u=n(9),c=n(46);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"uint8",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;h(this,"voxel_inserts",{}),h(this,"distance_inserts",{}),h(this,"morton_inserts",{}),h(this,"find_distance_fields",new Array),h(this,"build_distance_field",new Array),h(this,"buffer",null),h(this,"is_update",!0),h(this,"is_reflesh_distance_field",!1),h(this,"voxel_field",null),h(this,"distance_field",null),h(this,"morton_field",null),h(this,"distance_field_builder",null),h(this,"width",void 0),h(this,"height",void 0),h(this,"depth",void 0),h(this,"distance",void 0),h(this,"data_type",void 0),h(this,"length",void 0),h(this,"fill",void 0),this.width=0|e,this.height=0|t,this.depth=0|n,this.distance=(0,u.j)(0,0,0,e,t,n),this.data_type=r,this.length=i,this.fill=s,this.setSize(e,t,n)}clear(){this.setSize(1,1,1)}setSize(e,t,n){if(e===this.width&&t===this.height&&n===this.depth&&null!==this.buffer)return;const i=(0,r.a)(this.data_type,e*t*n*this.getLength()),s=(0,r.a)("int32",e*t*n),o=(0,r.a)("int32",e*t*n);this.distance_field_builder=new l(i,s,o),this.buffer=i.buffer,this.width=0|e,this.height=0|t,this.depth=0|n,this.distance=(0,u.j)(0,0,0,e,t,n),this.voxel_field=i,this.distance_field=s,this.morton_field=o,i.fill(this.getFill()),s.fill(1),o.fill(-1);for(const e in this.voxel_inserts)delete this.voxel_inserts[e];for(const e in this.distance_inserts)delete this.distance_inserts[e];for(const e in this.morton_inserts)delete this.morton_inserts[e];let c=0;const h=new Array;for(let r=0;r<e;r=r+1|0)for(let e=0;e<t;e=e+1|0)for(let t=0;t<n;t=t+1|0)c++,h.push((0,a.d)(r,e,t));this.voxel_inserts[0]={count:c,mortons:h},this.is_update=!0}initData(e,t,n,r,s,a){const[o,l,u]=this.getSize(),c=this.getLength(),h=this.getVoxelField(),d=this.getDistanceField(),f=this.getMortonField();if(null!==h&&null!==d&&null!==f){for(const e in this.voxel_inserts)delete this.voxel_inserts[e];for(const e in this.distance_inserts)delete this.distance_inserts[e];for(const e in this.morton_inserts)delete this.morton_inserts[e];for(const e in r)this.voxel_inserts[e]=r[e];for(const e in s)this.distance_inserts[e]=s[e];for(const e in a)this.morton_inserts[e]=a[e];for(let r=0,s=0|o;r<s;r=r+1|0)for(let s=0,a=0|l;s<a;s=s+1|0)for(let a=0,p=0|u;a<p;a=a+1|0){const p=(0,i.g)(c,0,r,s,a,o,l,u),g=(0,i.g)(1,0,r,s,a,o,l,u);h[p]=e[r][s][a],d[g]=t[r][s][a],f[g]=n[r][s][a]}}}getWorldDistance(){return this.distance}getSize(){const{width:e,height:t,depth:n}=this;return[e,t,n]}getFill(){return this.fill}getLength(){return this.length}getBuffer(){return this.buffer}getVoxelField(){return this.voxel_field}getDistanceField(){return this.distance_field}getMortonField(){return this.morton_field}getVoxelInsertDatas(){return this.voxel_inserts}getDistanceInsertDatas(){return this.distance_inserts}getMortonInsertDatas(){return this.morton_inserts}set(e,t,n,o,l){let u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.getVoxelField(),h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:this.getSize();if(null===c)return;const d=0|t,f=0|n,p=0|o,[g,m,v]=h;if(d<0||d>=g||f<0||f>=m||p<0||p>=v)return;const y=c===this.getVoxelField()?this.getLength():1,b=(0,i.g)(y,e,d,f,p,g,m,v),w=c[b];if(w===(0,r.b)(this.data_type,l))return;c[b]=l;let E=null,_=!1;switch(c){case this.getVoxelField():this.is_update=!0,E=this.voxel_inserts,_=!0;break;case this.getDistanceField():this.is_update=!0,E=this.distance_inserts;break;case this.getMortonField():E=this.morton_inserts}if(null!==E){const e=(0,a.d)(t,n,o);if(E[w]){const t=E[w];t.count--,t.mortons.splice(t.mortons.indexOf(e),1),t.count<=0&&delete E[w]}E[l]||(E[l]={count:0,mortons:new Array});const r=E[l];r.count++,r.mortons.push(e)}if(_&&u&&(this.build_distance_field.some((e=>{let[t,n,r]=e;return t===d&&n===f&&r===p}))||this.build_distance_field.push([d,f,p]),null!==this.voxel_field))if(l!==this.getFill())for(let t=0,n=0|i.i.length;t<n;t=t+1|0){const[n,r,o]=i.i[t],l=d+n,u=f+r,c=p+o,g=s(this.voxel_field,l,u,c,e,y,h);if(-1===g||g===this.getFill())continue;const m=(0,a.d)(l,u,c);this.find_distance_fields.includes(m)||this.find_distance_fields.push(m)}else{const e=(0,a.d)(d,f,p);this.find_distance_fields.includes(e)||this.find_distance_fields.push(e)}}get(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getVoxelField(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.getSize();return null===i?-1:s(i,t,n,r,e,i===this.getVoxelField()?this.getLength():1,a)}getVoxelInsertData(e){return this.voxel_inserts.hasOwnProperty(e)?this.voxel_inserts[e]:null}getDistanceInsertData(e){return this.distance_inserts.hasOwnProperty(e)?this.distance_inserts[e]:null}getMortonInsertData(e){return this.morton_inserts.hasOwnProperty(e)?this.morton_inserts[e]:null}expand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e&&0===t&&0===n)return;const[r,i,s]=this.getSize(),o=this.getVoxelField(),l=this.getDistanceField(),u=this.getMortonField();this.setSize(r+Math.abs(e),i+Math.abs(t),s+Math.abs(n));const c=Math.abs(e<0?-e:0),h=Math.abs(t<0?-t:0),d=Math.abs(n<0?-n:0);for(let e=r-1|0;e>=0;e=e-1|0)for(let t=i-1|0;t>=0;t=t-1|0)for(let n=s-1|0;n>=0;n=n-1|0){const f=e+c,p=t+h,g=n+d;let m=this.get(0,e,t,n,l,[r,i,s]);m=-1===m?0:m,1!==m&&this.set(0,f,p,g,m,!1,this.getDistanceField());const v=this.getMortonField();let y=this.get(0,e,t,n,u,[r,i,s]);const[b,w,E]=(0,a.a)(y);y=-1===y?-1:(0,a.d)(b-c,w-h,E-d),-1!==y&&this.set(0,f,p,g,y,!1,v);for(let a=0,l=0|this.getLength();a<l;a=a+1|0){let l=this.get(a,e,t,n,o,[r,i,s]);l=-1===l?this.getFill():l,l!==this.getFill()&&this.set(a,f,p,g,l,!1,this.getVoxelField())}}}reduction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e&&0===t&&0===n)return;const[r,i,s]=this.getSize(),o=this.getVoxelField(),l=this.getDistanceField(),u=this.getMortonField();this.setSize(r-Math.abs(e),i-Math.abs(t),s-Math.abs(n));const c=Math.abs(e<0?-e:0),h=Math.abs(t<0?-t:0),d=Math.abs(n<0?-n:0);for(let e=r-1|0;e>=0;e=e-1|0)for(let t=i-1|0;t>=0;t=t-1|0)for(let n=s-1|0;n>=0;n=n-1|0){const f=e-c,p=t-h,g=n-d;let m=this.get(0,e,t,n,l,[r,i,s]);m=-1===m?0:m,1!==m&&this.set(0,f,p,g,m,!1,this.getDistanceField());const v=this.getMortonField();let y=this.get(0,e,t,n,u,[r,i,s]);const[b,w,E]=(0,a.a)(y);y=-1===y?-1:(0,a.d)(b+c,w+h,E+g),-1!==y&&this.set(0,f,p,g,y,!1,v);for(let a=0,l=0|this.getLength();a<l;a=a+1|0){let l=this.get(a,e,t,n,o,[r,i,s]);l=-1===l?this.getFill():l,l!==this.getFill()&&this.set(a,f,p,g,l,!1,this.getVoxelField())}}}requestRefleshDistanceField(){this.is_reflesh_distance_field=!0}cancelRefleshDistanceField(){this.is_reflesh_distance_field=!1}hasUpdate(){return this.is_update}checkUpdate(){let e=this.is_update;if(this.is_reflesh_distance_field){var t;const r=new Array,i=Object.keys(this.voxel_inserts);for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=parseInt(i[e]);var n;if(!isNaN(t)&&t>0)r.push(...(null===(n=this.getVoxelInsertData(t))||void 0===n?void 0:n.mortons)||[])}null===(t=this.distance_field_builder)||void 0===t||t.buildAll(this.getSize(),this.getFill(),this.getLength(),r),(0,c.a)(this.build_distance_field),this.is_reflesh_distance_field=!1,e=!0}else for(;this.build_distance_field.length>0;){const t=this.build_distance_field.shift()||null;if(null!==t){var r;const[e,n,i]=t;null===(r=this.distance_field_builder)||void 0===r||r.buildPoint(this.getSize(),this.getFill(),this.getLength(),e,n,i,!1)}e=!0}var i,s;this.find_distance_fields.length>0&&(null===(i=this.distance_field_builder)||void 0===i||i.buildFind(this.getSize(),this.getFill(),this.getLength(),(null===(s=this.getVoxelInsertData(this.getFill()))||void 0===s?void 0:s.mortons)||[],...this.find_distance_fields),(0,c.a)(this.find_distance_fields),e=!0);return this.is_update=!1,e}}},(e,t,n)=>{n(26)("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(26)("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(26)("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(26)("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{n(26)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},(e,t,n)=>{n(26)("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},(e,t,n)=>{"use strict";var r=n(8),i=n(0),s=n(105),a=n(73),o="ArrayBuffer",l=s.ArrayBuffer;r({global:!0,constructor:!0,forced:i.ArrayBuffer!==l},{ArrayBuffer:l}),a(o)},(e,t,n)=>{"use strict";n.d(t,{a:()=>u});n(1),n(4),n(20),n(21),n(60);var r=n(52),i=n(268),s=n(9),a=n(46),o=n(84);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>[-1,-1,-1,-1,-1];l(this,"hasAdd",void 0),l(this,"paramGetter",void 0),l(this,"size",new s.c(1,1,1)),l(this,"data",{}),l(this,"entitys",new Array),l(this,"stands",new Array),l(this,"points",new Array),l(this,"oldPropertys",new WeakMap),l(this,"oldPoints",new WeakMap),this.hasAdd=e,this.paramGetter=t}hasOverPosition(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const[s,a,o]=this.getSize();return e+r/2<0||t+i<0||n+r/2<0||e-r/2>=s||t>=a||n-r/2>=o}getDimension(){const[,e,t]=this.getSize();switch(!0){case!(1^e):return 1;case!(1^t):return 2}return 3}calcMortonNumber(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.hasOverPosition(e,t,n))switch(this.getDimension()){case 1:return(0,i.b)(e);case 2:return(0,i.c)(e,n);case 3:return(0,i.d)(e,t,n)}return-1}setSize(e,t,n){this.size.x=e,this.size.y=t,this.size.z=n}getSize(){return[this.size.x,this.size.y,this.size.z]}getEntityProperty(e){return this.paramGetter(e)}getOldEntityProperty(e){const t=this.oldPropertys.get(e);return t?[t.x,t.y,t.z,t.rx,t.ry]:[-1,-1,-1,-1,-1]}add(e){this.hasAdd(e)&&!this.stands.includes(e)&&!this.entitys.includes(e)&&this.stands.push(e)}remove(e){if(this.entitys.includes(e)){this.entitys.splice(this.entitys.indexOf(e),1);const t=this.oldPoints.get(e)||null;null!==t&&this.appendCells(e,new Array,t),this.oldPropertys.delete(e),this.oldPoints.delete(e)}this.stands.includes(e)&&this.stands.splice(this.stands.indexOf(e),1)}hasEntity(e){return this.hasAdd(e)}clear(){this.size.x=0,this.size.y=0,this.size.z=0;for(const e in this.data)delete this.data[e];this.entitys.forEach((e=>{this.oldPropertys.delete(e),this.oldPoints.delete(e)})),(0,a.a)(this.points),(0,a.a)(this.entitys),(0,a.a)(this.stands)}getCell(e){return this.data[e]||new Array}getPointCell(e,t,n){const r=this.calcMortonNumber(e,t,n);return this.getCell(r)}getAppendPoints(){return this.points}setOldPosition(e){const t=this.oldPropertys.get(e)||null;if(null!==t){const[n,r,i,s,a]=this.getEntityProperty(e),o=Math.floor(n-s/2),l=Math.floor(r),u=Math.floor(i-s/2),c=Math.ceil(n+s/2),h=Math.ceil(r+a),d=Math.ceil(i+s/2);t.sx=o,t.sy=l,t.sz=u,t.ex=c,t.ey=h,t.ez=d,t.x=n,t.y=r,t.z=i,t.rx=s,t.ry=a}}initOldPosition(e){const t={x:-1,y:-1,z:-1,rx:-1,ry:-1,sx:-1,sy:-1,sz:-1,ex:-1,ey:-1,ez:-1};return this.oldPropertys.set(e,t),t}appendCells(e,t,n){const r=e.getID();for(let e=0,i=0|n.length;e<i;e=e+1|0){const i=n[e];if(t.includes(i))continue;const s=this.data[i]||null;null!==s&&(s.splice(s.indexOf(r),1),s.length<=0&&delete this.data[i])}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e],i=this.data[n]||null;null===i?this.data[n]=[r]:i.includes(r)||(i.push(r),this.points.includes(n)||this.points.push(n))}}update(e,t,n){for(this.setSize(e,t,n);this.stands.length>0;){const e=this.stands.shift()||null;null!==e&&this.entitys.push(e)}for(let i=0,a=0|this.entitys.length;i<a;i=i+1|0){const a=this.entitys[i],[l,u,c,h,d]=this.getEntityProperty(a);let f=this.oldPropertys.get(a)||null;if(null===f&&(f=this.initOldPosition(a)),-1!==l&&-1!==u&&-1!==c&&!this.hasOverPosition(l,u,c,h,d)){let i=this.oldPoints.get(a)||null;null===i&&(i=new Array);const p=Math.floor(l-h/2),g=Math.floor(u),m=Math.floor(c-h/2),v=Math.floor(l+h/2),y=Math.floor(u+d),b=Math.floor(c+h/2);if(f.sx!==p||f.sy!==g||f.sz!==m||f.ex!==v||f.ey!==y||f.ez!==b){const w=-1===f.x?l:f.x,E=-1===f.y?u:f.y,_=-1===f.z?c:f.z,M=f.rx?h:f.rx,O=f.ry?d:f.ry,x=l-w,A=u-E,S=c-_,T=(0,s.j)(0,0,0,e,t,n),R=Math.min((0,s.j)(x,A,S,0,0,0),T),[P,L]=(0,s.h)(x,A,S,0,0,0),F=Math.min(R,Math.max(Math.min(h,d),Math.min(M,O))/2,.5),[I,N,k]=(0,s.k)(P,L,0,0,1),C=this.getDimension();let D=0;const U=new Array;for(;;){const n=w+D*I,i=E+D*N,s=_+D*k;let a=new Array;switch(C){case 1:a=(0,r.a)(n,h,e);break;case 2:a=(0,r.b)(n,s,h,Math.max(e,t));break;case 3:a=(0,r.c)(n,i,s,h,d)}for(let e=0,t=0|a.length;e<t;e=e+C|0){const t=a[e],n=a[e+1],r=a[e+2];let i=-1;switch(C){case 1:i=this.calcMortonNumber(t,0,0);break;case 2:i=this.calcMortonNumber(t,0,n);break;case 3:i=this.calcMortonNumber(t,n,r)}-1===i||U.includes(i)||U.push(i)}if(D>=R)break;if(D=(0,o.a)((0,o.b)(D+F,R,1e5,Math.ceil),0,R),D<=0)break}0===F&&(f.sx=p,f.sy=g,f.sz=m,f.ex=v,f.ey=y,f.ez=b),this.oldPoints.set(a,U),this.appendCells(a,U,i)}}f.x=l,f.y=u,f.z=c,f.rx=h,f.ry=d}}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(1),n(4);var r=n(9),i=n(207);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.a{constructor(){super(...arguments),s(this,"position",new r.c(0,0,0)),s(this,"direction",new r.c(0,0,0))}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,"size",void 0),i(this,"treeFix",void 0),this.size=new r.b(e,t),this.treeFix=n}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i(this,"init",!1),i(this,"enable",!0),i(this,"isPush",!0),i(this,"old",new r.c(-1,-1,-1)),i(this,"targets",new Array),i(this,"size",void 0),i(this,"filter",void 0),i(this,"treeFix",void 0),this.size=new r.b(e,t),this.filter=n,this.treeFix=s}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,"size",void 0),i(this,"treeFix",void 0),this.size=new r.b(e,t),this.treeFix=n}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(1),n(4),n(15),n(251);var r=n(46),i=n(52),s=n(9),a=n(268),o=n(80);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=()=>0;class c{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,"x",void 0),l(this,"y",void 0),l(this,"z",void 0),l(this,"stepX",void 0),l(this,"stepY",void 0),l(this,"stepZ",void 0),l(this,"step",void 0),l(this,"prev",void 0),l(this,"cost",0),this.x=e,this.y=t,this.z=n,this.stepX=r,this.stepY=i,this.stepZ=s,this.step=null===a?0:a.step+1,this.prev=a}getCost(e,t,n){return(0,s.j)(e,t,n,this.x,this.y,this.z)+this.step}}class h{constructor(){l(this,"stacks",new Array),l(this,"queue",new Array),l(this,"sorts",new WeakMap),l(this,"block",{block:!1})}find(e,t,n,s){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>({block:!1}),h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e=>!0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e=>e.step,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:()=>!0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:u;const g=[];return new Promise(((u,m)=>{if(!e.hasFinish())return;const v=(0,o.a)(3===e.dimension?i.i:i.h),{block:y}=this;let b=0;e.begin(.5+(0|t),.5+(0|n),.5+(0|s)),(0,r.b)(v);const w=this;this.queue.push(function*(){do{yield p;const t=e.searchPoint.shift()||null;if(null===t||!f())break;if(h(t)){e.close(t),u(null);break}for(let n=0|v.length;b<n;b=b+1|0){const[n,r,i]=v[b],s=n+(0|t.x)|0,o=r+(0|t.y)|0,u=i+(0|t.z)|0;let h=w.stacks.shift()||null;null===h?h=new c(s+.5,o+.5,u+.5,n,r,i,t):(h.x=s+.5,h.y=o+.5,h.z=u+.5,h.stepX=n,h.stepY=r,h.stepZ=i,h.prev=t,h.cost=0),y.block=!1,delete y.label,l(h,y);let f=(0,a.d)(s,o,u);const p=y.label||null;if(null!==p&&(f="".concat(f,"-").concat(p)),!e.hasSearch[f]&&(e.hasSearch[f]=!0,!y.block)){h.cost=d(h);let t=!1;for(let n=0,r=0|e.searchPoint.length;n<r;n=n+1|0){if(e.searchPoint[n].cost>h.cost){e.searchPoint.splice(n,0,h),t=!0;break}}t||e.searchPoint.push(h)}}b=0,g.push(t)}while(e.searchPoint.length>0);return e.close(null),m(),!0}())})).finally((()=>{this.stacks.push(...g)}))}begin(){(0,r.c)(this.queue).asc((e=>(this.sorts.get(e)||u)()))}update(e,t,n,r){if(this.queue.length<=0)return;const i=Math.min(e,n===1/0?1e3/r:1e3/n);do{const e=this.queue.shift()||null;if(null===e)break;{const t=e.next();t.done||(this.sorts.set(e,t.value),this.queue.push(e))}}while(performance.now()-t<i&&this.queue.length>0)}}},(e,t,n)=>{"use strict";var r=n(8),i=n(22),s=n(43),a=n(3),o=n(27),l=n(5),u=n(74),c=n(133),h=n(18),d=s&&s.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,o("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!i&&l(s)){var f=o("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},(e,t,n)=>{"use strict";n.a(e,(async(e,r)=>{try{n.d(t,{a:()=>a});var i=n(209),s=e([i]);i=(s.then?(await s)():s)[0];class a extends i.a{}r()}catch(e){r(e)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(1),n(4),n(60),n(20),n(21),n(15);var r=n(108);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=new Map;new Array;class a{constructor(){i(this,"urls",void 0),i(this,"datas",Array()),i(this,"locations",new Array),i(this,"isTransfer",!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.urls=t}async load(){this.datas.length>0||this.datas.push(...await Promise.all(this.urls.map((async e=>(s.has(e)||s.set(e,(await(0,r.a)(e)).source),s.get(e))))))}getUrls(){return this.urls}getDatas(){return this.datas}getLocations(){return this.locations}hasTransfer(){return this.isTransfer}createTransferData(){const{urls:e,locations:t}=this;return this.isTransfer=!0,{urls:e,locations:t}}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n,s,a,o,l,u,c){let h=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],p=arguments.length>12&&void 0!==arguments[12]&&arguments[12],g=arguments.length>13&&void 0!==arguments[13]&&arguments[13],m=arguments.length>14&&void 0!==arguments[14]&&arguments[14],v=arguments.length>15&&void 0!==arguments[15]&&arguments[15],y=arguments.length>16&&void 0!==arguments[16]&&arguments[16],b=arguments.length>17&&void 0!==arguments[17]&&arguments[17],w=arguments.length>18&&void 0!==arguments[18]&&arguments[18],E=arguments.length>19&&void 0!==arguments[19]&&arguments[19],_=arguments.length>20&&void 0!==arguments[20]&&arguments[20];i(this,"position",void 0),i(this,"front",void 0),i(this,"back",void 0),i(this,"right",void 0),i(this,"left",void 0),i(this,"top",void 0),i(this,"bottom",void 0),i(this,"flipXFront",!1),i(this,"flipYFront",!1),i(this,"flipXBack",!1),i(this,"flipYBack",!1),i(this,"flipXRight",!1),i(this,"flipYRight",!1),i(this,"flipXLeft",!1),i(this,"flipYLeft",!1),i(this,"flipXTop",!1),i(this,"flipYTop",!1),i(this,"flipXBottom",!1),i(this,"flipYBottom",!1),this.position=new r.c(e,t,n),this.front=s,this.back=a,this.right=o,this.left=l,this.top=u,this.bottom=c,this.flipXFront=h,this.flipYFront=d,this.flipXBack=f,this.flipYBack=p,this.flipXRight=g,this.flipYRight=m,this.flipXLeft=v,this.flipYLeft=y,this.flipXTop=b,this.flipYTop=w,this.flipXBottom=E,this.flipYBottom=_}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(15),n(1),n(4);var r=n(253),i=n(13);const s=["touchstart","touchend","mousedown","keydown"],a=new WeakMap;function o(e){if(a.get(e)||"suspended"!==e.state)return e;const t=self.document.body;function n(){s.forEach((e=>(0,i.d)(t,e,r))),a.delete(e)}function r(){e.resume().then(n)}return s.forEach((e=>(0,i.b)(t,e,r))),a.set(e,!0),e}var l=n(108),u=n(44);let c=null;if("AudioContext"in self){c=new AudioContext;try{o(c)}catch(e){const t=()=>{(0,i.d)((0,u.d)(),"DOMContentLoaded",t),c&&o(c)};(0,i.b)((0,u.d)(),"DOMContentLoaded",t)}}class h extends r.a{async load(){const e=this.getDatas();0===e.length&&e.push(...await Promise.all(this.getUrls().map((async e=>c?c.decodeAudioData((await(0,l.a)(e,"arraybuffer")).source):null))))}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(9);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i,s,a;a=void 0,(s="position")in(i=this)?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,this.position=new r.c(e,t,n)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(207),i=n(13),s=n(61);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends r.b{constructor(e,t,n,r,i,s){super(!1),a(this,"name",void 0),a(this,"scenes",void 0),a(this,"renderers",void 0),a(this,"assets",void 0),a(this,"controls",void 0),a(this,"sounds",void 0),this.name=e,this.scenes=t,this.renderers=n,this.assets=r,this.controls=i,this.sounds=s}getName(){return this.name}getRendererManager(){return this.renderers}getAssetManager(){return this.assets}getControlManager(){return this.controls}getSoundManager(){return this.sounds}createSound(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.sounds.create(e,t,null===n?(0,s.a)():n)}getSound(e){return this.sounds.getSound(e)}hasSound(e){return this.sounds.hasSound(e)}getSceneManager(){return this.scenes}clear(){const e=this.getSoundManager(),t=this.getControlManager();e.clear(),t.clear(),super.clear()}destroy(){const e=this.getSceneManager(),t=this.getControlManager(),n=this.getAssetManager(),r=this.getSoundManager(),s=this.getRendererManager();e.destroy(),t.destroy(),n.destroy(),r.destroy(),s.destroy(),new i.a(this,"destroy").trigger()}oninactive(){this.getControlManager().clear()}onupdatebegin(e){const{time:t,now:n,framerate:r,fps:s,updateCount:a}=e;new i.a(this.getControlManager(),"update").trigger({time:t,now:n,framerate:r,fps:s,updateCount:a})}onupdateend(e){const{time:t,now:n,framerate:r,fps:s,updateCount:a}=e;new i.a(this.getSceneManager(),"update").trigger({time:t,now:n,framerate:r,fps:s,updateCount:a}),new i.a(this.getRendererManager(),"update").trigger({time:t,now:n,framerate:r,fps:s,updateCount:a}),new i.a(this.getSoundManager(),"update").trigger({time:t,now:n,framerate:r,fps:s,updateCount:a}),new i.a(this.getAssetManager(),"update").trigger({time:t,now:n,framerate:r,fps:s,updateCount:a})}}class l extends o{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s)}createTransferUIData(e){return[]}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>y});n(1),n(4),n(47),n(63),n(49),n(50),n(51),n(259);var r=n(272),i=n(9);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];s(this,"position",void 0),s(this,"fix",new i.c(0,0,0)),s(this,"scale",void 0),s(this,"rotate",void 0),s(this,"isFixRotate",void 0),this.position=new i.c(e,t,n),this.scale=r,this.rotate=a,this.isFixRotate=o}}var o=n(271);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,n,r;r=void 0,(n="value")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.value=e}}n(46);var u=n(80),c=n(83);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,"data",void 0),h(this,"width",void 0),h(this,"height",void 0),h(this,"depth",void 0),this.data=e,this.width=0|t,this.height=0|n,this.depth=0|r}}class f{constructor(e){h(this,"maxTextureSize",void 0),h(this,"buffers",{}),this.maxTextureSize=e}get(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.buffers[e];return(0,c.c)()&&n.data.buffer instanceof self.SharedArrayBuffer||!t?n:new d((0,u.a)(n.data),n.width,n.height,n.depth)}has(e){return this.buffers.hasOwnProperty(e)}require(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const[s,a,o]=function(e,t){return[e%t,Math.max(1,Math.floor(e/t))%t,Math.min(t,Math.max(1,Math.floor(Math.floor(e/t)/t)))]}(n,this.maxTextureSize),l=s*a*o*r;return this.buffers.hasOwnProperty(e)&&this.buffers[e].data.length===l||(this.buffers[e]=new d((0,c.a)(t,l,i),s,a,o)),this.buffers[e]}}n(156);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return e[t]}const m=16,v=21;class y{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;p(this,"setting",void 0),p(this,"buffers",void 0),p(this,"maxDrawDistance",void 0),p(this,"oldScene",null),this.setting=e,this.buffers=new f(t),this.maxDrawDistance=n}getClusterResolution(){return 16}lightCullingData(e,t){const n=e.getCamera(),s=e.getSun(),u=e.getMaterialManager().getMaterials(),h=new Array;let d=0;for(let e=0,s=0|t.length;e<s;e=e+1|0){var f;const s=t[e]||null;if(null===s)continue;const{position:p}=s,g=s.getComponent(o.a),v=u.indexOf(g.material)||0;if(v<=0)continue;let y=!1,b=0;const w=s.getComponent(a)||null;if(null!==w){if(!s.hasComponent(l))continue;const e=s.getComponent(a);if(s.getComponent(l).value!==n)continue;p.x=e.position.x*(e.position.z/n.hudFov),p.y=e.position.y*(e.position.z/n.hudFov),p.z=e.position.z,e.fix.x=e.position.x*(e.position.z/n.fov),e.fix.y=e.position.y*(e.position.z/n.fov),e.fix.z=e.position.z,g.scale=e.scale*(e.position.z/n.hudFov);const t=e.position.x*Math.abs(Math.sin(e.position.y*i.a));b=e.isFixRotate?(0,i.m)((Math.sin(t)+i.a*Math.sign(e.position.x)*(Math.abs(Math.max(0,.5-n.hudFov))/.25))*(Math.PI/16+Math.abs(Math.max(0,n.hudFov-.5))/.25*16)*(Math.abs(t)/.25)):0,g.rotate=e.rotate,y=!0}const E=s.getComponent(r.a),_=E.bottom*g.scale,M=p.x,O=p.y,x=p.z,[A,S,T]=y?(0,i.k)(n.direction.x,n.direction.y,M,O,x):[M,O,x],R=A+(y?n.position.x:0),P=S+(y?n.position.y:0)+_,L=T+(y?n.position.z:0),F=y?s.getComponent(a).position.z:(0,i.j)(R,P,L,n.position.x,n.position.y,n.position.z);if(F>this.maxDrawDistance)continue;const[I,N]=(0,i.h)(R,P,L,n.position.x,n.position.y,n.position.z),[k,C]=(0,i.e)(I,N,n.direction.x,n.direction.y);k>i.a&&C>i.a||((0,c.d)(h,m,d,0,F),(0,c.d)(h,m,d,1,p.x),(0,c.d)(h,m,d,2,p.y),(0,c.d)(h,m,d,3,p.z),(0,c.d)(h,m,d,4,_),(0,c.d)(h,m,d,5,g.scale),(0,c.d)(h,m,d,6,(null===(f=g.material)||void 0===f?void 0:f.bounding)||0),(0,c.d)(h,m,d,7,null!==w?w.fix.x:E.axes.x?1:0),(0,c.d)(h,m,d,8,null!==w?w.fix.y:E.axes.y?1:0),(0,c.d)(h,m,d,9,null!==w?w.fix.z:E.axes.z?1:0),(0,c.d)(h,m,d,10,(0,i.m)(g.rotate)),(0,c.d)(h,m,d,11,g.flip.x?-1:1),(0,c.d)(h,m,d,12,g.flip.y?-1:1),(0,c.d)(h,m,d,13,y?1:0),(0,c.d)(h,m,d,14,y?b:0),(0,c.d)(h,m,d,15,v),d++)}return{billboard_datas:new Float32Array(h),billboard_length:d,camera:{position:{x:n.position.x,y:n.position.y,z:n.position.z},direction:{x:n.direction.x,y:n.direction.y,z:n.direction.z},fov:n.fov,hudFov:n.hudFov,zoom:n.zoom,light:n.light},sun:{direction:{x:s.direction.x,y:s.direction.y}}}}buildMaterials(e,t,n){if(!n&&this.buffers.has("materials")&&!e.checkUpdate()&&!t.checkUpdate())return{materials:null};const r=[],i=t.getMaterials();for(const t in i){const n=Number(t);if(isNaN(n))continue;const s=i[n];r[n]=e.getBufferLocation(s.src,s.index)}const s=this.buffers.require("materials","int32",Math.max(1,r.length),1,!0);for(let e=0,t=0|r.length;e<t;e=e+1|0)s.data[e]=r[e]||0;return{materials:s}}buildVoxels(e,t,n){if(!n&&!t.checkUpdate()&&this.buffers.has("voxels"))return{voxels:null};const r=[],i=t.getVoxels();for(const t in i){const n=Number(t);if(isNaN(n))continue;const s=i[n];if(null===s)for(let e=0,t=21;e<t;e=e+1|0)r[n*v+e]=0;else{const t=e.getTileSet(),i=e.getMaterials();(0,c.d)(r,v,n,0,s.position.x),(0,c.d)(r,v,n,1,s.position.y),(0,c.d)(r,v,n,2,s.position.z),null!==t?((0,c.d)(r,v,n,3,Object.values(i).indexOf(g(t,s.front))),(0,c.d)(r,v,n,4,Object.values(i).indexOf(g(t,s.back))),(0,c.d)(r,v,n,5,Object.values(i).indexOf(g(t,s.right))),(0,c.d)(r,v,n,6,Object.values(i).indexOf(g(t,s.left))),(0,c.d)(r,v,n,7,Object.values(i).indexOf(g(t,s.top))),(0,c.d)(r,v,n,8,Object.values(i).indexOf(g(t,s.bottom)))):((0,c.d)(r,v,n,3,Object.values(i).indexOf(i.NONE)),(0,c.d)(r,v,n,4,Object.values(i).indexOf(i.NONE)),(0,c.d)(r,v,n,5,Object.values(i).indexOf(i.NONE)),(0,c.d)(r,v,n,6,Object.values(i).indexOf(i.NONE)),(0,c.d)(r,v,n,7,Object.values(i).indexOf(i.NONE)),(0,c.d)(r,v,n,8,Object.values(i).indexOf(i.NONE))),(0,c.d)(r,v,n,9,s.flipXFront?-1:1),(0,c.d)(r,v,n,10,s.flipYFront?-1:1),(0,c.d)(r,v,n,11,s.flipXBack?-1:1),(0,c.d)(r,v,n,12,s.flipYBack?-1:1),(0,c.d)(r,v,n,13,s.flipXRight?-1:1),(0,c.d)(r,v,n,14,s.flipYRight?-1:1),(0,c.d)(r,v,n,15,s.flipXLeft?-1:1),(0,c.d)(r,v,n,16,s.flipYLeft?-1:1),(0,c.d)(r,v,n,17,s.flipXTop?-1:1),(0,c.d)(r,v,n,18,s.flipYTop?-1:1),(0,c.d)(r,v,n,19,s.flipXBottom?-1:1),(0,c.d)(r,v,n,20,s.flipYBottom?-1:1)}}const s=this.buffers.require("voxels","float32",Math.max(v,r.length),1,!0);for(let e=0,t=0|r.length;e<t;e=e+1|0)s.data[e]=r[e]||0;return{voxels:s}}getMaxDrawDistance(){return this.maxDrawDistance}setMaxDrawDistance(e){this.maxDrawDistance=e}createData(e,t,n,r){const i=e.getRendererManager(),s=e.getMaterialManager(),a=e.getVoxelManager(),o=this.oldScene!==e.getName()||r;this.oldScene=e.getName();const l=e.getMap(),u=e.getLateTime(),[h,d]=i.getSize(),[f,p]=[this.getClusterResolution(),this.getClusterResolution()];let g=null,m=null,v=null,y=0;const b=[];if(n){const{camera:n,sun:r,billboard_datas:i,billboard_length:s}=this.lightCullingData(e,t);g=n,m=r,v=i,y=s,b.push(i.buffer)}const{materials:w}=this.buildMaterials(e.getAssetManager(),s,o),{voxels:E}=this.buildVoxels(e,a,o),_=e.getBackground(),M=l.checkUpdate(),O=l.getVoxelField(),x=l.getDistanceField();return(0,c.c)()||(null!==w&&b.push(w.data.buffer),null!==E&&b.push(E.data.buffer)),[{camera:g,sun:m,voxel_field:{width:l.getSize()[0],height:l.getSize()[1],depth:l.getSize()[2],distance:l.getWorldDistance(),data:M||o?O:null},distance_field:{width:l.getSize()[0],height:l.getSize()[1],depth:l.getSize()[2],data:M||o?x:null},materials:w,voxels:E,resolution:{width:h,height:d},cluster_resolution:{width:f,height:p},billboard_datas:v,billboard_length:y,background:_,lateTime:u},b]}}},(e,t,n)=>{"use strict";var r=n(8),i=n(210).left,s=n(135),a=n(66),o=n(56);r({target:"Array",proto:!0,forced:!s("reduce")||!o&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){i(this,"init",!1),i(this,"enable",!0),i(this,"hit",{x:0,y:0,z:0,angle:{x:0,y:0}}),i(this,"old",new r.c(-1,-1,-1)),i(this,"size",void 0),this.size=new r.b(e,t)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;i(this,"value",new r.c(0,0,0)),i(this,"drift",void 0),i(this,"airDrift",void 0),i(this,"forceAir",!1),this.drift=new r.c(e,t,n),this.airDrift=s}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var r=n(9);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,"move",new r.c(0,0,0)),i(this,"look",new r.b(0,0)),i(this,"force",1),i(this,"limit",!0),i(this,"speed",void 0),this.speed=e}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>A,b:()=>T});n(1),n(4),n(60),n(20),n(21),n(15);var r=n(62),i=n(45),s=n(9),a=n(61),o=n(13),l=n(44);let u=!1,c=!1,h=!1,d=!1;const f=new Array,p=new s.b(0,0),g=new Array,m=new Array;let v=!1,y=1,b=-1;const w=()=>{-1===b&&(b=setTimeout((()=>{b=-1;const[e,t]=_();y=self.devicePixelRatio,g.forEach((e=>e.call(null))),r.f.postMessage({method:"resolution",width:e,height:t}),r.f.postMessage({method:"pixel-ratio",value:self.devicePixelRatio})}),100))};if((0,i.b)())(0,o.b)(r.f,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"resolution":p.x=t.width,p.y=t.height;break;case"pixel-ratio":y=t.value;break;case"focusChange":v=t.value;break;case"browser":h=t.value;break;case"hack":u=t.value;break;case"electron":c=t.value;break;case"success":f.includes(t.key)&&f.splice(f.indexOf(t.key),1)}}));else{function R(){if((0,o.b)((0,l.d)(),"resize",w),(0,o.b)((0,l.d)(),"fullscreenchange",w),(0,o.b)((0,l.d)(),"fullscreenerror",w),(0,o.b)((0,l.d)(),"blur",w),(0,o.b)((0,l.d)(),"focus",w),(0,o.b)((0,l.d)(),"orientationchange",w),"electron"in self&&(0,o.b)(self.electron,"focuschange",(e=>E(e.value))),(0,o.b)((0,l.d)(),"focus",(()=>E(!1))),(0,o.b)((0,l.d)(),"blur",(()=>E(!0))),(0,o.b)((0,l.d)(),"mousemove",(()=>E(!1))),document.body)w();else{const e=()=>{(0,o.d)((0,l.d)(),"load",e),w()};(0,o.b)((0,l.d)(),"load",e)}}(0,o.b)(r.f,"message",(async e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"blur":v=t.value;break;case"exec":await(t.value?function(){const e=async t=>{if((0,i.b)()){const n=(0,a.a)(),s=e=>{const{data:i}=e;if(i instanceof Object&&i.key===n&&"success"===i.method)f.includes(i.key)&&f.splice(f.indexOf(i.key),1),(0,o.d)(r.f,"message",s),t(null)};d=!0,f.push(n),(0,o.b)(r.f,"message",s),r.f.postMessage({method:"exec",value:!0,key:n})}else if("electron"in self)c||(self.electron.setFullscreen(!0),c=!0,self.dispatchEvent(new UIEvent("resize")),r.f.postMessage({method:"electron",value:c})),t(null);else if(M(!(0,i.a)()))t(null);else if(null!==document.body){function u(){r.f.postMessage({method:"browser",value:M()}),t(null)}document.body.requestFullscreen().then(u).catch(u)}else{const h=()=>{(0,o.d)((0,l.d)(),"load",h),e(t)};(0,o.b)((0,l.d)(),"load",h)}};return new Promise(e)}():async function(){(0,i.b)()?await new Promise((e=>{const t=(0,a.a)(),n=i=>{const{data:s}=i;if(s instanceof Object&&s.key===t&&"success"===s.method)f.includes(s.key)&&f.splice(f.indexOf(s.key),1),(0,o.d)(r.f,"message",n),e(null)};d=!1,f.push(t),(0,o.b)(r.f,"message",n),r.f.postMessage({method:"exec",value:!1,key:t})})):M(!(0,i.a)())&&((0,i.a)()?c&&("electron"in self&&self.electron.setFullscreen(!1),c=!1,self.dispatchEvent(new UIEvent("resize")),r.f.postMessage({method:"electron",value:c})):M(!1)&&await document.exitFullscreen())}()),r.f.postMessage({method:"success",key:t.key})}})),(0,o.b)(document,"fullscreenchange",(()=>{h=!!document.fullscreenElement,r.f.postMessage({method:"browser",value:h})})),R()}function E(e){v!==e&&(v=e,m.forEach((e=>e(v))),r.f.postMessage({method:"blur",value:e}))}function _(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{x:n,y:r}=(0,i.b)()?p:new s.b(self.document.body.offsetWidth,self.document.body.offsetHeight);return[Math.floor(n*(e?y:1)),Math.floor(r/(t&&n<r?2:1)*(e?y:1))]}function M(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.b)()?f.length>0?d:(0,i.a)()?c:e?h||u:h:(0,i.a)()?c:null!==document.fullscreenElement||!!e&&O()}function O(){return(0,i.b)()?u:self.innerHeight>=self.outerHeight||self.innerHeight>=self.outerWidth}var x=n(84);const A=[[720,480],[854,480],[960,540],[1024,576],[1136,640],[1280,720],[1366,768],[1600,900],[1920,1080],[2048,1152],[2560,1440],[2880,1620],[3200,1800],[3840,2160],[7680,4320]];function S(e,t){return t[(0,x.a)(e.getResolutionIndex(),0,t.length-1)]}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(M(!0)&&!e.hasAutomaticResolution()?S(e,t):null)||_(e.hasHighPixelRatio(),n)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r="#version 300 es\nprecision highp float;precision highp int;layout(location=0)in vec2 pos;layout(location=1)in vec2 tex;out vec2 uv;void main(){uv=vec2(tex.x,1.-tex.y);gl_Position=vec4(pos,0.,1.);}"},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r="#version 300 es\nprecision highp int;precision highp float;precision highp sampler2D;\n#define saturate(x)clamp(x,0.,1.)\nuniform sampler2D raycast;uniform sampler2D ui;in vec2 uv;out vec4 dest;void main(){vec4 bottom=textureLod(raycast,uv,0.);vec4 top=textureLod(ui,uv,0.);dest=vec4(saturate(mix(bottom.rgb*abs(1.-bottom.a+1.),top.rgb*abs(1.-top.a+1.),top.a)),1.);}"},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r="#version 300 es\nprecision highp int;precision highp float;precision highp sampler2D;\n#define PI  3.141592653589793\n#define CIRCLE  6.283185307179586\nuniform sampler2D screen;uniform vec2 resolution;uniform float center_fade_out;in vec2 uv;layout(location=0)out vec4 dest;const float factor=32.;const mat4 table=mat4(-4.,0.,-3.,1.,2.,-2.,3.,-1.,-3.,1.,-4.,0.,3.,-1.,2.,-2.);vec3 calcFilter(const in vec3 color,const in vec2 uv){vec3 col=color;col+=table[int(uv.x)%4][int(uv.y)%4]*0.005;return floor(col*factor)/factor;}float getVig(const in vec2 uv){return 1.*16.*uv.x*uv.y*(1.-uv.x)*(1.-uv.y);}vec3 getColor(const in vec2 uv){return textureLod(screen,uv,0.).rgb;}void main(){vec2 u=vec2(uv.x,1.-uv.y);vec3 color=getColor(u);color=calcFilter(color,uv);color=mix(getColor(u),color,max((1.-(getVig(uv))),1.-center_fade_out));dest=vec4(color,1.);}"},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r="#version 300 es\nprecision highp int;precision highp float;precision highp sampler2D;\n#define QUATER  0.7853981633974483\n#define HALF  1.5707963267948966\n#define PI  3.141592653589793\n#define CIRCLE  6.283185307179586\n#define saturate(x)clamp(x,0.,1.)\nuniform sampler2D screen;uniform vec2 resolution;uniform float time;uniform float blink_force;uniform float blink_time;uniform float gamma;uniform float line;uniform float scanline;uniform float scanline_count;uniform float scanline_speed;uniform float disorder;uniform float disorder_count;uniform float vig;uniform vec2 sub;uniform float ca;uniform bool is_shadow_mask;uniform float lens;uniform float deep;uniform float edge;uniform float center_fade_out;in vec2 uv;layout(location=0)out vec4 dest;float calcUV(const in vec2 uv,const in float m){float s=(0.+1.*16.*uv.x*uv.y*(1.-uv.x)*(1.-uv.y));return max(m,s);}bool hasOutScreen(const in vec2 uv){return uv.x<0.||uv.x>1.||uv.y<0.||uv.y>1.;}float udRoundBox(const in vec2 p,const in vec2 b,const in float r){return length(max(abs(p)-b+r,0.))-r;}bool hasOut(vec2 fuv){return hasOutScreen(fuv)||udRoundBox(fuv*resolution-resolution*0.5,resolution*0.5,min(resolution.x,resolution.y)*edge)>0.;}bvec2 hasCRTShadowMask(const vec2 uv){return bvec2(is_shadow_mask&&mod(uv.x*resolution.x,sub.x*2.)/sub.x>1.,is_shadow_mask&&mod(uv.y*resolution.y,sub.y*2.)/sub.y>1.);}vec3 calcCRTX(const in vec3 color,const in vec2 uv){float scan=mod(mod(uv.x*resolution.x,sub.x)/sub.x*PI,CIRCLE);float scansY=saturate(sin(scan));float sy=0.5+scansY*line*0.5;return color*sy;}vec3 calcCRTY(const in vec3 color,const in vec2 uv){float scan=mod(mod(uv.y*resolution.y,sub.y)/sub.y*PI,CIRCLE);float scansX=saturate(sin(scan));float sx=0.5+scansX*line*0.5;return color*sx;}vec3 getColor(const in vec2 uv){vec3 color=hasOut(uv)?vec3(0.):textureLod(screen,vec2(uv.x,uv.y),0.).rgb;color=pow(color,vec3(1./gamma));return color;}vec3 getCRTColor(const in vec2 uv){vec3 color=hasOut(uv)?vec3(0.):textureLod(screen,vec2(uv.x,uv.y),0.).rgb;color=pow(color,vec3(1./gamma));color=color+color*1.625/(line/1.);color=calcCRTX(color,uv);color=calcCRTY(color,uv);return color;}vec2 calcLensUV(const in vec2 uv){vec2 u=(uv-0.5)*2.;vec2 par=vec2((1.-abs(cos(u.y*QUATER))),(1.-abs(cos(u.x*QUATER))));vec2 aspect=vec2(1./(resolution.x/resolution.y),1./(resolution.y/resolution.x));par.x=par.x*lens+(uv.y*deep);par.y=par.y*(lens+par.x*uv.y*deep)+deep/2.;float depth=deep*lens;u*=1.+par*aspect;u.y+=(1.-abs(cos(u.x*QUATER)))*(1.-abs(u.y))*depth;return(u+1.)/2.;}float getVig(const in vec2 uv){return 1.*16.*uv.x*uv.y*(1.-uv.x)*(1.-uv.y);}vec3 calcChromaticAberration(const in vec2 u,const in vec2 fuv){vec2 texel=1./resolution;vec2 coords=(fuv-0.5)*2.;float coordDot=dot(coords,coords);vec2 precompute=ca*coordDot*coords;vec2 red=u-texel.xy*precompute;vec2 green=u;vec2 blue=u+texel.xy*precompute;vec3 o=getCRTColor(u);if(!hasOut(red)){o.r=getCRTColor(red).r;}if(!hasOut(green)){o.g=getCRTColor(green).g;}if(!hasOut(blue)){o.b=getCRTColor(blue).b;}return o;}vec3 calcScanLine(const in vec3 color,const in vec2 uv){float scan=mod(uv.y*scanline_count+(time*scanline_speed*PI),CIRCLE);float scansX=saturate(0.35+0.35*cos(scan));float sx=pow(scansX*scanline,1.7);return color*vec3(0.4+0.75*sx);}vec3 calcVig(const in vec3 color,const in vec2 uv){float v=getVig(uv);return color*vec3(pow(v,vig));}vec3 calcBlink(const in vec3 color,const in vec2 uv){vec3 col=color;col*=1.+blink_force*sin(110.*(time*blink_time));return col;}void main(){vec2 u=calcLensUV(uv);vec3 color=vec3(0.);if(!hasOut(u)){bvec2 crt=hasCRTShadowMask(u);vec2 fu=u+vec2(0.,crt.x?0.:1./resolution.y*sub.y/2.);color=calcChromaticAberration(fu,u);color=calcScanLine(color,u);color=calcBlink(color,uv);color=calcVig(color,u);color=mix(getColor(fu),color,max((1.-(getVig(uv))),1.-center_fade_out));}dest=vec4(color,1.);}"},(e,t,n)=>{"use strict";function r(e){let t=e;return t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),t}function i(e){let t=e;return t&=1023,t=4278190335&(t^t<<16),t=50393103&(t^t<<8),t=51130563&(t^t<<4),t=153391689&(t^t<<2),t}function s(e){let t=e;return t&=153391689,t=51130563&(t^t>>2),t=50393103&(t^t>>4),t=4278190335&(t^t>>8),t=1023&(t^t>>16),t}function a(e){return e}function o(e,t){return r(0|e)|r(0|t)<<1}function l(e,t,n){return i(0|e)|i(0|t)<<1|i(0|n)<<2}function u(e){return[s(e>>0),s(e>>1),s(e>>2)]}n.d(t,{a:()=>u,b:()=>a,c:()=>o,d:()=>l})},(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e,t,n){r(this,"src",void 0),r(this,"bounding",void 0),r(this,"index",void 0),this.src=e,this.bounding=t,this.index=n}}},(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,"color",void 0),r(this,"invert",void 0),this.color=e,this.invert=null===t?[1-e[0],1-e[1],1-e[2]]:t}getColor(){return this.color}getInvertColor(){return this.invert}}},(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r(this,"material",void 0),r(this,"scale",void 0),r(this,"rotate",void 0),r(this,"flip",void 0),this.material=e,this.scale=t,this.rotate=n,this.flip={x:i,y:s}}}},(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,"axes",void 0),r(this,"bottom",void 0),this.axes={x:e,y:t,z:n},this.bottom=i}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r=[30,60,144,240]}],s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(i,s,a)=>{var o;a&&((o=[]).d=1);var l,u,c,h=new Set,d=i.exports,f=new Promise(((e,t)=>{c=t,u=e}));f[t]=d,f[e]=e=>(o&&e(o),h.forEach(e),f.catch((e=>{}))),i.exports=f,s((i=>{var s;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var s=[];s.d=0,i.then((e=>{a[t]=e,r(s)}),(e=>{a[n]=e,r(s)}));var a={};return a[e]=e=>e(s),a}}var o={};return o[e]=e=>{},o[t]=i,o})))(i);var a=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),u=new Promise((t=>{(s=()=>t(a)).r=0;var n=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(s.r++,e.push(s)));l.map((t=>t[e](n)))}));return s.r?u:a()}),(e=>(e?c(f[n]=e):u(d),r(o)))),o&&(o.d=0)},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};a(212)})();