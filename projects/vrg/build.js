/*!
 * bowser@2.11.0 (MIT)
 *   author: Dustin Diaz <dustin@dustindiaz.com> (http://dustindiaz.com)
 *   url: git+https://github.com/lancedikson/bowser.git
 *   contributors:
 *     Denis Demchenko (http://twitter.com/lancedikson)
 *
 *   Copyright 2015, Dustin Diaz (the "Original Author")
 *   All rights reserved.
 *
 *   MIT License
 *
 *   Permission is hereby granted, free of charge, to any person
 *   obtaining a copy of this software and associated documentation
 *   files (the "Software"), to deal in the Software without
 *   restriction, including without limitation the rights to use,
 *   copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the
 *   Software is furnished to do so, subject to the following
 *   conditions:
 *
 *   The above copyright notice and this permission notice shall be
 *   included in all copies or substantial portions of the Software.
 *
 *   Distributions of all or part of the Software intended to be used
 *   by the recipients as they would use the unmodified Software,
 *   containing modifications that substantially alter, remove, or
 *   disable functionality of the Software, outside of the documented
 *   configuration mechanisms provided by the Software, shall be
 *   modified such that the Original Author's bug reporting email
 *   addresses and urls are either replaced with the contact information
 *   of the parties responsible for the changes, or removed entirely.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 *   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 *   OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 *   NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 *   HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 *   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 *   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 *   OTHER DEALINGS IN THE SOFTWARE.
 *
 *
 *   Except where noted, this license applies to any and all software
 *   programs and associated documentation files created by the
 *   Original Author, when distributed with the Software.
 *
 *
 *
 * core-js@3.22.5 (MIT)
 *   url: https://github.com/zloirock/core-js.git
 *
 *   Copyright (c) 2014-2022 Denis Pushkarev
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in
 *   all copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 *   THE SOFTWARE.
 *
 *
 *
 * detect-node@2.1.0 (MIT)
 *   author: Ilya Kantor
 *   url: https://github.com/iliakan/detect-node
 *
 *   MIT License
 *
 *   Copyright (c) 2017 Ilya Kantor
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * fast-copy@2.1.3 (MIT)
 *   author: tony_quetano@planttheidea.com
 *   url: git+https://github.com/planttheidea/fast-copy.git
 *   contributors:
 *     Dariusz Rzepka <rzepkadarek@gmail.com>
 *
 *   MIT License
 *
 *   Copyright (c) 2018 Tony Quetano
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * is-electron@2.2.1 (MIT)
 *   author: Cheton Wu <cheton@gmail.com>
 *   url: git@github.com:cheton/is-electron.git
 *
 *   The MIT License (MIT)
 *
 *   Copyright (c) 2016-2018 Cheton Wu
 *
 *   Permission is hereby granted, free of charge, to any person obtaining a copy
 *   of this software and associated documentation files (the "Software"), to deal
 *   in the Software without restriction, including without limitation the rights
 *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *   copies of the Software, and to permit persons to whom the Software is
 *   furnished to do so, subject to the following conditions:
 *
 *   The above copyright notice and this permission notice shall be included in all
 *   copies or substantial portions of the Software.
 *
 *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *   SOFTWARE.
 *
 *
 *
 * is-mobile@3.1.1 (MIT)
 *   author: Julian Gruber (http://juliangruber.com)
 *   url: git://github.com/juliangruber/is-mobile.git
 *
 *
 */
/*!
 * vrg@0.27.0
 * license:proprietary
 * (c) 2022 latel88 All rights reserved
*/(()=>{var e,t,n,s,i=[(e,t,n)=>{var s=function(e){return e&&e.Math==Math&&e};e.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},(e,t,n)=>{"use strict";var s=n(53),i=n(131),r=n(58),a=n(28),o=n(18).f,l=n(133),c=n(26),u=n(13),h="Array Iterator",d=a.set,f=a.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:s(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,s=e.index++;return!t||s>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:s,done:!1}:"values"==n?{value:t[s],done:!1}:{value:[s,t[s]],done:!1}}),"values");var p=r.Arguments=r.Array;if(i("keys"),i("values"),i("entries"),!c&&u&&"values"!==p.name)try{o(p,"name",{value:"values"})}catch(e){}},(e,t,n)=>{var s=n(0),i=n(136),r=n(137),a=n(1),o=n(23),l=n(9),c=l("iterator"),u=l("toStringTag"),h=a.values,d=function(e,t){if(e){if(e[c]!==h)try{o(e,c,h)}catch(t){e[c]=h}if(e[u]||o(e,u,t),i[t])for(var n in a)if(e[n]!==a[n])try{o(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)d(s[f]&&s[f].prototype,f);d(r,"DOMTokenList")},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,n)=>{var s=n(64),i=Function.prototype,r=i.bind,a=i.call,o=s&&r.bind(a,a);e.exports=s?function(e){return e&&o(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a,b:()=>u,c:()=>c,d:()=>h});n(1),n(2),n(20),n(21),n(11);var s=n(81);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=new WeakMap;class a{constructor(e,t){i(this,"type",void 0),i(this,"timestamp",void 0),i(this,"target",void 0),this.type=t,this.timestamp=performance.now(),this.target=e}on(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.get(this.target)||null;null===n&&r.set(this.target,n=new Map),n.has(this.type)||n.set(this.type,new Array);const s=n.get(this.type)||null;null!==s&&(t?s.unshift(e):s.push(e))}off(e){const t=r.get(this.target)||null;if(null===t||!t.has(this.type))return;const n=t.get(this.type)||null;null!==n&&n.includes(e)&&n.splice(n.indexOf(e),1)}trigger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.get(this.target)||null,n=this.target["on".concat(this.type)],i=n instanceof Function;if(null===t&&!i)return;for(const t in e)this[t]=e[t];i&&n.call(this.target,this);const a=null!==t&&t.get(this.type)||null;if(null!==a){const e=(0,s.a)(a);for(let t=0,n=0|e.length;t<n;t=t+1|0)e[t].call(this.target,this)}}async triggerAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.get(this.target)||null,n=this.target["on".concat(this.type)],i=n instanceof Function;if(null===t&&!i)return;for(const t in e)this[t]=e[t];if(i){const e=n.call(this.target,this);e instanceof Promise&&await e}const a=null!==t&&t.get(this.type)||null;if(null!==a){const e=(0,s.a)(a);for(let t=0,n=0|e.length;t<n;t=t+1|0){const n=e[t].call(this.target,this);n instanceof Promise&&await n}}}}const o=new WeakMap,l=new Array;function c(){for(;l.length>0;){const e=l.shift()||null;if(null===e)continue;const t=o.get(e)||new Array;for(;t.length>0;){const n=t.shift()||null;null!==n&&e.removeEventListener(n.type,n.handler)}o.delete(e)}}function u(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,s);let i=o.get(e)||null;null===i&&o.set(e,i=new Array),i.some((e=>e.type===t&&e.handler===n))||i.push({type:t,handler:n})}function h(e,t,n){e.removeEventListener(t,n);const s=o.get(e)||null;if(null===s)return;const i=s.filter((e=>e.type===t&&e.handler===n));for(;i.length>0;){const e=i.shift()||null;null!==e&&s.splice(s.indexOf(e),1)}s.length<=0&&(o.delete(e),l.splice(l.indexOf(e),1))}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r,b:()=>o,c:()=>l,d:()=>O,e:()=>_,f:()=>x,g:()=>M,h:()=>y,i:()=>b,j:()=>d,k:()=>f,l:()=>m,m:()=>g,n:()=>v,o:()=>c});n(1),n(2);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const i=2*Math.PI,r=(Math.PI,Math.PI/2),a=Math.PI/4;class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,"x",void 0),s(this,"y",void 0),this.x=e,this.y=t}}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s(this,"x",void 0),s(this,"y",void 0),s(this,"z",void 0),this.x=e,this.y=t,this.z=n}}function c(e,t,n,s){return[e-n,t-s]}function u(e,t,n,s,i,r){return[e-s,t-i,n-r]}function h(e,t,n,s,i,r){return e*s+t*i+n*r}function d(e,t,n,s){const[i,r]=c(e,t,n,s);return Math.sqrt(function(e,t,n,s){return e*n+t*s}(i,r,i,r))}function f(e,t,n,s,i,r){const[a,o,l]=u(e,t,n,s,i,r);return Math.sqrt(h(a,o,l,a,o,l))}function p(e){return[Math.cos(v(e)),Math.sin(v(e))]}function g(e,t){const n=Math.sin(v(t)),s=Math.cos(v(t)),i=Math.sin(v(e)),r=Math.cos(v(e)),a=Math.abs(s);return[r*a,-n,i*a]}function m(e,t,n,s,i){let a=0,o=0,l=0;const[c,u]=p(e-r);if(a+=n*c,l+=n*u,t>0){const[n,i,c]=g(e,t-r);a+=s*n,o+=s*i,l+=s*c}else{const[n,i,c]=g(e,t+r);a-=s*n,o-=s*i,l-=s*c}const[h,d,f]=g(e,t);return a+=i*h,o+=i*d,l+=i*f,[a,o,l]}function y(e,t,n,s){const[i,r]=c(e,t,n,s);return Math.atan2(r,i)}function b(e,t,n,s,i,r){const[a,o,l]=u(e,t,n,s,i,r);return[Math.atan2(l,a),-Math.atan2(o,Math.sqrt(a*a+l*l))]}function v(e){return(e%=i)<0&&(e+=i),6123233995736766e-32===e?0:e}function w(e,t,n){let s=e*e+t*t+n*n;return s>0&&(s=1/Math.sqrt(s)),[e*s,t*s,n*s]}function E(e,t){let n=(e=v(e))-(t=v(t));return n-=Math.floor(n/i)*i,n-=n>Math.PI?i:0,n}function _(e,t,n,s){const[i,o]=function(e,t,n,s){const i=E(e,n);return[i,E(Math.abs(i)<3*a?t:r*(t/Math.abs(t))-t+r*(t/Math.abs(t)),s)]}(e,t,n,s);return[Math.abs(i),Math.abs(o)]}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const a=Math.cos(e),o=Math.sin(e),l=Math.cos(t-r),c=Math.sin(t-r),u=s-.5,h=i-.5,d=n,f=d*l+h*c;return w(f*a-u*o,h*l-d*c,u*a+f*o)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const r=Math.cos(e),a=Math.sin(e),o=Math.cos(t),l=Math.sin(t),c=s-.5,u=i-.5,h=n,d=h*o+u*l;return w(d*r-c*a,u*o-h*l,c*r+d*a)}function O(e){return 90/e/(e/90*2)}},e=>{e.exports=function(e){return"function"==typeof e}},(e,t,n)=>{var s=n(64),i=Function.prototype.call;e.exports=s?i.bind(i):function(){return i.apply(i,arguments)}},(e,t,n)=>{var s=n(0),i=n(89),r=n(14),a=n(92),o=n(114),l=n(113),c=i("wks"),u=s.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||a;e.exports=function(e){if(!r(c,e)||!o&&"string"!=typeof c[e]){var t="Symbol."+e;o&&r(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},(e,t,n)=>{var s=n(0),i=n(87).f,r=n(23),a=n(19),o=n(91),l=n(118),c=n(97);e.exports=function(e,t){var n,u,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?s:m?s[p]||o(p,{}):(s[p]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(f=i(n,u))&&f.value:n[u],!c(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&r(d,"sham",!0),a(n,u,d,e)}}},(e,t,n)=>{n(224),n(225),n(226),n(227),n(228),n(229)},(e,t,n)=>{var s=n(0),i=n(16),r=s.String,a=s.TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},(e,t,n)=>{var s=n(3);e.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,n)=>{var s=n(4),i=n(27),r=s({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},(e,t,n)=>{var s=n(0),i=n(136),r=n(137),a=n(186),o=n(23),l=function(e){if(e&&e.forEach!==a)try{o(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i)i[c]&&l(s[c]&&s[c].prototype);l(r)},(e,t,n)=>{var s=n(7);e.exports=function(e){return"object"==typeof e?null!==e:s(e)}},(e,t,n)=>{var s=n(0),i=n(48),r=s.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},(e,t,n)=>{var s=n(0),i=n(13),r=n(115),a=n(116),o=n(12),l=n(66),c=s.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=i?a?function(e,t,n){if(o(e),t=l(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var s=h(e,t);s&&s.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:s.configurable,enumerable:d in n?n.enumerable:s.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(o(e),t=l(t),o(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{var s=n(0),i=n(7),r=n(23),a=n(117),o=n(91);e.exports=function(e,t,n,l){var c=!!l&&!!l.unsafe,u=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet,d=l&&void 0!==l.name?l.name:t;return i(n)&&a(n,d,l),e===s?(u?e[t]=n:o(t,n),e):(c?!h&&e[t]&&(u=!0):delete e[t],u?e[t]=n:r(e,t,n),e)}},(e,t,n)=>{"use strict";var s=n(10),i=n(120).includes,r=n(3),a=n(131);s({target:"Array",proto:!0,forced:r((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},(e,t,n)=>{"use strict";var s=n(10),i=n(4),r=n(184),a=n(34),o=n(17),l=n(185),c=i("".indexOf);s({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(o(a(this)),o(r(e)),arguments.length>1?arguments[1]:void 0)}})},(e,t,n)=>{"use strict";n.d(t,{a:()=>re,b:()=>se,c:()=>ie,d:()=>oe,e:()=>ce,f:()=>te,g:()=>ae,h:()=>le});n(231),n(20),n(21),n(232),n(1),n(2),n(15),n(11),n(29),n(103);Promise.resolve(!1);var s=Promise.resolve(!0),i=Promise.resolve();function r(e,t){return e||(e=0),new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))}function a(){return Math.random().toString(36).substring(2)}var o=0,l=0;function c(){var e=(new Date).getTime();return e===o?1e3*e+ ++l:(o=e,l=0,1e3*e)}var u="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const h={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),i}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(u&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:c};var d=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,f()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,function(e){var t=f()-e.ttl,n=e.map[Symbol.iterator]();for(;;){var s=n.next().value;if(!s)return;var i=s[0];if(!(s[1]<t))return;e.map.delete(i)}}(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function f(){return(new Date).getTime()}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var g="messages",m={durability:"relaxed"};function y(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function b(e){e.commit&&e.commit()}function v(e,t){var n=e.transaction(g,"readonly",m),s=n.objectStore(g),i=[],r=IDBKeyRange.bound(t+1,1/0);if(s.getAll){var a=s.getAll(r);return new Promise((function(e,t){a.onerror=function(e){return t(e)},a.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,a){var o=function(){try{return r=IDBKeyRange.bound(t+1,1/0),s.openCursor(r)}catch(e){return s.openCursor()}}();o.onerror=function(e){return a(e)},o.onsuccess=function(s){var r=s.target.result;r?r.value.id<t+1?r.continue(t+1):(i.push(r.value),r.continue()):(b(n),e(i))}}))}function w(e,t){return function(e,t){var n=(new Date).getTime()-t,s=e.transaction(g,"readonly",m),i=s.objectStore(g),r=[];return new Promise((function(e){i.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var a=i.value;if(!(a.time<n))return b(s),void e(r);r.push(a),i.continue()}else e(r)}}))}(e,t).then((function(t){return function(e,t){var n=e.transaction([g],"readwrite",m).objectStore(g);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}(e,t.map((function(e){return e.id})))}))}function E(e){e.closed||_(e).then((function(){return r(e.options.idb.fallbackInterval)})).then((function(){return E(e)}))}function _(e){return e.closed?i:e.messagesCallback?v(e.db,e.lastCursorId).then((function(t){var n=t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return n.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),i})):i}const x={create:function(e,t){return t=p(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=y().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(g,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var s={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:a(),eMIs:new d(2*t.idb.ttl),writeBlockPromise:i,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){s.closed=!0,t.idb.onclose&&t.idb.onclose()},E(s),s}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,_(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var s={uuid:t,time:(new Date).getTime(),data:n},i=e.transaction([g],"readwrite",m);return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(g).add(s),b(i)}))}(e.db,e.uuid,t)})).then((function(){var t,n;0===(t=0,n=10,Math.floor(Math.random()*(n-t+1)+t))&&w(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!u&&!!y()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:c};function M(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function O(e){return"pubkey.broadcastChannel-"+e}function A(){if(u)return!1;var e=M();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}const S={create:function(e,t){if(t=p(t),!A())throw new Error("BroadcastChannel: localstorage cannot be used");var n=a(),s=new d(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:s};return i.listener=function(e,t){var n=O(e),s=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",s),s}(e,(function(e){i.messagesCallback&&e.uuid!==n&&e.token&&!s.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(s.add(e.token),i.messagesCallback(e.data)))})),i},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){r().then((function(){var s=O(e.channelName),i={token:a(),time:(new Date).getTime(),data:t,uuid:e.uuid},r=JSON.stringify(i);M().setItem(s,r);var o=document.createEvent("Event");o.initEvent("storage",!0,!0),o.key=s,o.newValue=r,window.dispatchEvent(o),n()}))}))},canBeUsed:A,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:c};var T=c,P=new Set;const k={create:function(e){var t={name:e,messagesCallback:null};return P.add(t),t},close:function(e){P.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(P).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:T};var L=[h,x,S];var C,R=new Set,I=0,F=function(e,t){var n,s,i;this.id=I++,R.add(this),this.name=e,C&&(t=C),this.options=p(t),this.method=function(e){var t=[].concat(e.methods,L).filter(Boolean);if(e.type){if("simulate"===e.type)return k;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||u||(t=t.filter((function(e){return"idb"!==e.type})));var s=t.find((function(e){return e.canBeUsed()}));if(s)return s;throw new Error("No useable method found in "+JSON.stringify(L.map((function(e){return e.type}))))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,s=(n=this).method.create(n.name,n.options),(i=s)&&"function"==typeof i.then?(n._prepP=s,s.then((function(e){n._state=e}))):n._state=s};function N(e,t,n){var s={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:i).then((function(){var t=e.method.postMessage(e._state,s);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function D(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function U(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&D(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,s=e.time-n;t.time>=s&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function B(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!D(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}F._pubkey=!0,F.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return N(this,"message",e)},postInternal:function(e){return N(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};B(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,U(this,"message",t)):this._onML=null},addEventListener:function(e,t){U(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){B(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){R.delete(this),this.closed=!0;var t=this._prepP?this._prepP:i;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var z=n(191),j=n.n(z);const G={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}};var H=n(235),W=n.n(H),Y=j()?W():G,V=new Set,q=!1;function X(e){if(q||(q=!0,Y.add(K)),"function"!=typeof e)throw new Error("Listener is no function");return V.add(e),{remove:function(){return V.delete(e)},run:function(){return V.delete(e),e()}}}function K(){var e=[];return V.forEach((function(t){e.push(t()),V.delete(t)})),Promise.all(e)}var Z=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=a(),this._aplQ=i,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var s=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",s),this._lstns.push(s)};function J(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}Z.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return r(0,!0);if(this.isDead)return r(0,!1);if(this._aplQC>1)return this._aplQ;var n=function(){if(t.isLeader)return s;var n,i=!1,a=new Promise((function(e){n=function(){i=!0,e()}})),o=[],l=function(e){"leader"===e.context&&e.token!=t.token&&(o.push(e),"apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",l);var c=e?4*t._options.responseTime:t._options.responseTime;return J(t,"apply").then((function(){return Promise.race([r(c),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return J(t,"apply")})).then((function(){return Promise.race([r(c),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",l),!i&&function(e){e.isLeader=!0,e.hasLeader=!0;var t=X((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&J(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),J(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),J(e,"tell")}(t).then((function(){return!0}))}))};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return n()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return i;return new Promise((function(t){var n=!1;function s(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",i),t(!0))}e.applyOnce().then((function(){e.isLeader&&s()})),function t(){return r(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void s():e.applyOnce(!0).then((function(){e.isLeader?s():t()}))}))}();var i=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&s()})))};e.broadcastChannel.addEventListener("internal",i),e._lstns.push(i)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,J(this,"death")}};var $=n(5);function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}new Array,new Array;new Array,new Array;let ee=null;function te(){if(null===ee)try{ee=scope}catch(e){ee=self}return ee}class ne{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Q(this,"port",void 0),Q(this,"listeners",new WeakMap),Q(this,"isStart",!1),this.port=e||new ne(this)}addEventListener(e,t,n){const s=e=>{this.isStart&&t(e)};this.listeners.set(t,s),t instanceof Function&&new $.a(this,e).on(s)}removeEventListener(e,t){const n=this.listeners.get(t)||null;null!==n&&t instanceof Function&&new $.a(this,e).off(n)}postMessage(e,t){new $.a(this.port,"message").trigger({data:e})}start(){this.isStart=!0}getSubPort(){return this.port}}class se{constructor(){Q(this,"port1",void 0),Q(this,"port2",void 0),this.port1=new ne,this.port2=this.port1.getSubPort()}}class ie{constructor(e){var t=this;Q(this,"scope",void 0),this.scope=Object.create(null);const n={importScripts(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>fetch(e).then((e=>e.text().then((e=>{new Function("getGlobal()","".concat(e).replace("/******/ })()","/******/ })()}")).call(null,this.scope)}))))))},addEventListener:function(e,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"message"===e?new $.a(t.scope,e).on(n):(0,$.b)(self,e,n,s)},removeEventListener:(e,t)=>{"message"===e?new $.a(this.scope,e).off(t):(0,$.d)(self,e,t)},postMessage:e=>{new $.a(this,"message").trigger({data:e})}};for(const e in n)this.scope[e]=n[e];fetch(e).then((e=>e.text().then((e=>{new Function("scope","".concat(e).replace("/******/ })()","/******/ })()}")).call(null,this.scope)}))))}addEventListener(e,t,n){t instanceof Function&&new $.a(this,e).on(t)}removeEventListener(e,t){t instanceof Function&&new $.a(this,e).off(t)}dispatchEvent(e){return!1}postMessage(e,t){new $.a(this.scope,"message").trigger({data:e})}terminate(){}onmessage(){}onmessageerror(){}onerror(){}}const re="BroadcastChannel"in self?self.BroadcastChannel:class extends F{addEventListener(e,t){super.addEventListener(e,(n=>{t(new MessageEvent(e,{data:n}))}))}};function ae(e){return"requestAnimationFrame"in self?self.requestAnimationFrame(e):setTimeout(e,0)}function oe(e){"cancelAnimationFrame"in self?self.cancelAnimationFrame(e):clearTimeout(e)}function le(e){return setTimeout(e,0)}function ce(e){clearTimeout(e)}},(e,t,n)=>{var s=n(13),i=n(18),r=n(43);e.exports=s?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{"use strict";n.d(t,{a:()=>g,b:()=>m,c:()=>p});var s=n(182),i=n.n(s),r=n(183),a=n.n(r),o=n(112),l=n(38),c=n(5);const u={electron:i()(),mobile:!1,steam:!1,steam_overlay:!1};function h(e,t){!!u[t]!==e&&(u[t]=e,l.f.postMessage({method:"change",type:t,value:e}))}let d=p()?0:-1;function f(){d=setTimeout(f,0),h(a()(),"mobile"),h(i()(),"electron"),h("electron"in self&&self.electron.hasSteam(),"steam"),h("electron"in self&&self.electron.hasOpenSteamOverlay(),"steam_overlay")}function p(){if(!p.init){let e=self;try{e=scope}catch(e){}p.isWorker="postMessage"in e&&e.postMessage instanceof Function&&"importScripts"in e&&e.importScripts instanceof Function}return p.init=!0,!!p.isWorker}function g(){return!!u.electron}function m(){return!!u.steam_overlay}p()?(0,c.b)(l.f,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"change"===t.method)u[t.type]=!!t.value})):(0,o.a)((function(){-1===d&&(d=setTimeout(f,0))}))},(e,t,n)=>{var s=n(0),i=n(7),r=n(54),a=s.TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},e=>{e.exports=!1},(e,t,n)=>{var s=n(0),i=n(34),r=s.Object;e.exports=function(e){return r(i(e))}},(e,t,n)=>{var s,i,r,a=n(171),o=n(0),l=n(4),c=n(16),u=n(23),h=n(14),d=n(90),f=n(93),p=n(94),g="Object already initialized",m=o.TypeError,y=o.WeakMap;if(a||d.state){var b=d.state||(d.state=new y),v=l(b.get),w=l(b.has),E=l(b.set);s=function(e,t){if(w(b,e))throw new m(g);return t.facade=e,E(b,e,t),t},i=function(e){return v(b,e)||{}},r=function(e){return w(b,e)}}else{var _=f("state");p[_]=!0,s=function(e,t){if(h(e,_))throw new m(g);return t.facade=e,u(e,_,t),t},i=function(e){return h(e,_)?e[_]:{}},r=function(e){return h(e,_)}}e.exports={set:s,get:i,has:r,enforce:function(e){return r(e)?i(e):s(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},(e,t,n)=>{"use strict";var s=n(10),i=n(80);s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},(e,t,n)=>{"use strict";n.d(t,{a:()=>y,b:()=>b,c:()=>m,d:()=>v});n(1),n(2),n(60),n(147),n(61),n(62),n(63);var s=function(e){return function(t,n,s){return e(t,n,s)*s}},i=function(e,t){if(e)throw Error("Invalid sort config: "+t)},r=function(e){var t=e||{},n=t.asc,r=t.desc,a=n?1:-1,o=n||r;return i(!o,"Expected `asc` or `desc` property"),i(n&&r,"Ambiguous object with `asc` and `desc` config properties"),{order:a,sortBy:o,comparer:e.comparer&&s(e.comparer)}};function a(e,t,n){if(void 0===e||!0===e)return function(e,s){return t(e,s,n)};if("string"==typeof e)return i(e.includes("."),"String syntax not allowed for nested properties."),function(s,i){return t(s[e],i[e],n)};if("function"==typeof e)return function(s,i){return t(e(s),e(i),n)};if(Array.isArray(e)){var s=function(e){return function t(n,s,i,a,o,l,c){var u,h;if("string"==typeof n)u=l[n],h=c[n];else{if("function"!=typeof n){var d=r(n);return t(d.sortBy,s,i,d.order,d.comparer||e,l,c)}u=n(l),h=n(c)}var f=o(u,h,a);return(0===f||null==u&&null==h)&&s.length>i?t(s[i],s,i+1,a,o,l,c):f}}(t);return function(i,r){return s(e[0],e,1,n,t,i,r)}}var o=r(e);return a(o.sortBy,o.comparer||t,o.order)}var o=function(e,t,n,s){return Array.isArray(t)?(Array.isArray(n)&&n.length<2&&(n=n[0]),t.sort(a(n,s,e))):t};function l(e){var t=s(e.comparer);return function(n){var s=Array.isArray(n)&&!e.inPlaceSorting?n.slice():n;return{asc:function(e){return o(1,s,e,t)},desc:function(e){return o(-1,s,e,t)},by:function(e){return o(1,s,e,t)}}}}var c=function(e,t,n){return null==e?n:null==t?-n:e<t?-1:e>t?1:0},u=(l({comparer:c}),l({comparer:c,inPlaceSorting:!0})),h=n(166);const d=self.navigator.userAgent.length>0?(0,h.getParser)(self.navigator.userAgent):null,f=(d&&d.isBrowser("chrome"),d&&d.getOS().name,d&&d.isBrowser("firefox"));d&&d.isBrowser("safari");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e){p(this,"sorter",null),this.sorter=u(e)}asc(e){this.sorter.asc(e)}desc(e){this.sorter.desc(e)}}function m(e){return new g(e)}function y(e){if(!(e.length<=0))if(f)for(;e.length>0;)e.pop();else e.length=0}function b(e){for(let t=e.length-1|0,n=0;t>n;t--){const n=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[n],e[n]=s}}new Uint8Array(512);function v(e){return decodeURIComponent(escape(String.fromCharCode(...e)))}},(e,t,n)=>{"use strict";var s=n(10),i=n(0),r=n(8),a=n(13),o=n(194),l=n(51),c=n(108),u=n(56),h=n(43),d=n(23),f=n(195),p=n(36),g=n(145),m=n(148),y=n(66),b=n(14),v=n(48),w=n(16),E=n(88),_=n(50),x=n(35),M=n(46),O=n(95).f,A=n(197),S=n(138).forEach,T=n(72),P=n(18),k=n(87),L=n(28),C=n(149),R=L.get,I=L.set,F=P.f,N=k.f,D=Math.round,U=i.RangeError,B=c.ArrayBuffer,z=B.prototype,j=c.DataView,G=l.NATIVE_ARRAY_BUFFER_VIEWS,H=l.TYPED_ARRAY_CONSTRUCTOR,W=l.TYPED_ARRAY_TAG,Y=l.TypedArray,V=l.TypedArrayPrototype,q=l.aTypedArrayConstructor,X=l.isTypedArray,K="BYTES_PER_ELEMENT",Z="Wrong length",J=function(e,t){q(e);for(var n=0,s=t.length,i=new e(s);s>n;)i[n]=t[n++];return i},$=function(e,t){F(e,t,{get:function(){return R(this)[t]}})},Q=function(e){var t;return x(z,e)||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},ee=function(e,t){return X(e)&&!E(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=y(t),ee(e,t)?h(2,e[t]):N(e,t)},ne=function(e,t,n){return t=y(t),!(ee(e,t)&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};a?(G||(k.f=te,P.f=ne,$(V,"buffer"),$(V,"byteOffset"),$(V,"byteLength"),$(V,"length")),s({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",c="get"+e,h="set"+e,f=i[l],y=f,b=y&&y.prototype,v={},E=function(e,t){F(e,t,{get:function(){return function(e,t){var n=R(e);return n.view[c](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,s){var i=R(e);n&&(s=(s=D(s))<0?0:s>255?255:255&s),i.view[h](t*a+i.byteOffset,s,!0)}(this,t,e)},enumerable:!0})};G?o&&(y=t((function(e,t,n,s){return u(e,b),C(w(t)?Q(t)?void 0!==s?new f(t,m(n,a),s):void 0!==n?new f(t,m(n,a)):new f(t):X(t)?J(y,t):r(A,y,t):new f(g(t)),e,y)})),M&&M(y,Y),S(O(f),(function(e){e in y||d(y,e,f[e])})),y.prototype=b):(y=t((function(e,t,n,s){u(e,b);var i,o,l,c=0,h=0;if(w(t)){if(!Q(t))return X(t)?J(y,t):r(A,y,t);i=t,h=m(n,a);var d=t.byteLength;if(void 0===s){if(d%a)throw U(Z);if((o=d-h)<0)throw U(Z)}else if((o=p(s)*a)+h>d)throw U(Z);l=o/a}else l=g(t),i=new B(o=l*a);for(I(e,{buffer:i,byteOffset:h,byteLength:o,length:l,view:new j(i)});c<l;)E(e,c++)})),M&&M(y,Y),b=y.prototype=_(V)),b.constructor!==y&&d(b,"constructor",y),d(b,H,y),W&&d(b,W,l);var x=y!=f;v[l]=y,s({global:!0,constructor:!0,forced:x,sham:!G},v),K in y||d(y,K,a),K in b||d(b,K,a),T(l)}):e.exports=function(){}},(e,t,n)=>{var s=n(0),i=n(7),r=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(s[e]):s[e]&&s[e][t]}},(e,t,n)=>{var s=n(36);e.exports=function(e){return s(e.length)}},(e,t,n)=>{var s=n(0).TypeError;e.exports=function(e){if(null==e)throw s("Can't call method on "+e);return e}},(e,t,n)=>{var s=n(4);e.exports=s({}.isPrototypeOf)},(e,t,n)=>{var s=n(42),i=Math.min;e.exports=function(e){return e>0?i(s(e),9007199254740991):0}},(e,t,n)=>{var s=n(4),i=n(25),r=n(64),a=s(s.bind);e.exports=function(e,t){return i(e),void 0===t?e:r?a(e,t):function(){return e.apply(t,arguments)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h,b:()=>a,c:()=>r,d:()=>u,e:()=>i,f:()=>d,g:()=>l,h:()=>c,i:()=>o});var s=n(22);const i=new s.a("main"),r=new s.a("http"),a=new s.a("file"),o=new s.a("stylesheet"),l=new s.a("pointer-lock"),c=new s.a("screen"),u=new s.a("local-storage"),h=new s.a("device"),d=new s.a("platform")},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});n(29),n(159),n(157);function s(){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let t=0,n=0|e.length;t<n;t=t+1|0)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16)}return e.join("")}},(e,t,n)=>{"use strict";n.d(t,{a:()=>i,b:()=>s,c:()=>r});n(1),n(60),n(147),n(61),n(62),n(63),n(85);function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.floor;return isNaN(e)||e===1/0?t:-1===n?e:s(Math.abs(e)*n)/n*Math.sign(e)}function i(e,t,n){return Math.min(n,Math.max(t,e))}function r(e){return i(e,0,1)}},(e,t,n)=>{var s=n(32);e.exports=s("navigator","userAgent")||""},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var s=+e;return s!=s||0===s?0:(s>0?n:t)(s)}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,n)=>{var s=n(4),i=s({}.toString),r=s("".slice);e.exports=function(e){return r(i(e),8,-1)}},(e,t,n)=>{var s=n(25);e.exports=function(e,t){var n=e[t];return null==n?void 0:s(n)}},(e,t,n)=>{var s=n(4),i=n(12),r=n(174);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,s){return i(n),r(s),t?e(n,s):n.__proto__=s,n}}():void 0)},(e,t,n)=>{var s=n(18).f,i=n(14),r=n(9)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,r)&&s(e,r,{configurable:!0,value:t})}},(e,t,n)=>{var s=n(0),i=n(175),r=n(7),a=n(44),o=n(9)("toStringTag"),l=s.Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=l(e),o))?n:c?a(t):"Object"==(s=a(t))&&r(t.callee)?"Arguments":s}},(e,t,n)=>{var s=n(0);e.exports=s.Promise},(e,t,n)=>{var s,i=n(12),r=n(230),a=n(96),o=n(94),l=n(122),c=n(68),u=n(93),h=u("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{s=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&s?p(s):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(s);for(var n=a.length;n--;)delete g.prototype[a[n]];return g()};o[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[h]=e):n=g(),void 0===t?n:r.f(n,t)}},(e,t,n)=>{"use strict";var s,i,r,a=n(143),o=n(13),l=n(0),c=n(7),u=n(16),h=n(14),d=n(48),f=n(54),p=n(23),g=n(19),m=n(18).f,y=n(35),b=n(79),v=n(46),w=n(9),E=n(92),_=l.Int8Array,x=_&&_.prototype,M=l.Uint8ClampedArray,O=M&&M.prototype,A=_&&b(_),S=x&&b(x),T=Object.prototype,P=l.TypeError,k=w("toStringTag"),L=E("TYPED_ARRAY_TAG"),C=E("TYPED_ARRAY_CONSTRUCTOR"),R=a&&!!v&&"Opera"!==d(l.opera),I=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},D=function(e){if(!u(e))return!1;var t=d(e);return h(F,t)||h(N,t)};for(s in F)(r=(i=l[s])&&i.prototype)?p(r,C,i):R=!1;for(s in N)(r=(i=l[s])&&i.prototype)&&p(r,C,i);if((!R||!c(A)||A===Function.prototype)&&(A=function(){throw P("Incorrect invocation")},R))for(s in F)l[s]&&v(l[s],A);if((!R||!S||S===T)&&(S=A.prototype,R))for(s in F)l[s]&&v(l[s].prototype,S);if(R&&b(O)!==S&&v(O,S),o&&!h(S,k))for(s in I=!0,m(S,k,{get:function(){return u(this)?this[L]:void 0}}),F)l[s]&&p(l[s],L,s);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_CONSTRUCTOR:C,TYPED_ARRAY_TAG:I&&L,aTypedArray:function(e){if(D(e))return e;throw P("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!v||y(A,e)))return e;throw P(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,s){if(o){if(n)for(var i in F){var r=l[i];if(r&&h(r.prototype,e))try{delete r.prototype[e]}catch(n){try{r.prototype[e]=t}catch(e){}}}S[e]&&!n||g(S,e,n?t:R&&x[e]||t,s)}},exportTypedArrayStaticMethod:function(e,t,n){var s,i;if(o){if(v){if(n)for(s in F)if((i=l[s])&&h(i,e))try{delete i[e]}catch(e){}if(A[e]&&!n)return;try{return g(A,e,n?t:R&&A[e]||t)}catch(e){}}for(s in F)!(i=l[s])||i[e]&&!n||g(i,e,t)}},isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||h(F,t)||h(N,t)},isTypedArray:D,TypedArray:A,TypedArrayPrototype:S}},(e,t,n)=>{"use strict";n.d(t,{a:()=>u,b:()=>h,c:()=>d,d:()=>l,e:()=>y,f:()=>m,g:()=>c,h:()=>a,i:()=>o,j:()=>g,k:()=>p});n(1),n(2);var s=n(167),i=n(40),r=n(6);const a=[[1,0,0],[0,0,1],[-1,0,0],[0,0,-1],[1,0,1],[-1,0,-1],[1,0,-1],[-1,0,1]],o=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1],[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[0,1,1],[0,-1,1],[0,1,-1],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[1,-1,-1],[-1,1,1],[1,-1,1],[1,1,-1],[-1,-1,1],[1,-1,-1],[-1,1,-1],[-1,-1,-1],[1,1,1]];function l(e,t,n,s){const[i,r,a]=e.getSize();return t<=0||t>=i-1||n<=0||n>=r-1||s<=0||s>=a-1}function c(e,t,n,s,i,r,a,o){return((0|i)*a*r+(0|s)*r+(0|n))*e+t}function u(e,t){const n=t/2,s=Math.ceil(e-n),i=Math.ceil(e+n);if(!(s^i-1))return[s];const r=new Array;for(let t=0|s,a=0|i;t<a;t=t+1|0){const s=t+.5,i=Math.abs(s-e);Math.sqrt(i*i)>n||r.push(t)}return r}function h(e,t,n){const s=n/2,i=Math.floor(e-s),r=Math.floor(t-s),a=Math.ceil(e+s),o=Math.ceil(t+s);if(!(i^a-1|r^o-1))return[i,r];const l=new Array;for(let e=0|i,t=0|a;e<t;e=e+1|0)for(let t=0|r,n=0|o;t<n;t=t+1|0)l.push(e,t);return l}function d(e,t,n,i,r){const a=i/2,o=r,l=Math.floor(e-a),c=Math.floor(t),u=Math.floor(n-a),h=Math.ceil(e+a),d=Math.ceil(t+o),f=Math.ceil(n+a);if(!(l^h-1|c^d-1|u^f-1))return[l,c,u];const p=new Array;for(let a=0|l,o=0|h;a<o;a=a+1|0)for(let o=0|u,l=0|f;o<l;o=o+1|0)for(let l=0|c,u=0|d;l<u;l=l+1|0)(0,s.d)(a,l,o,e,t,n,i,r)&&p.push(a,l,o);return p}function f(e,t,n,s){switch(e){case 0:return t>0?0:1;case 1:return n<0?2:3;case 2:return s>0?4:5}return-1}function p(e,t,n,s,i,a,o,l,c){return function(e,t,n,s,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;const[u,h,d]=(0,r.g)(e,t);let p=1/u,g=1/h,m=1/d,y=Math.floor(n),b=Math.floor(s),v=Math.floor(i),w=0,E=0,_=0,x=0,M=0,O=0;p>0?(w=1,x=(y+1-n)*p):(p*=-1,w=-1,x=(n-y)*p),g>0?(E=1,M=(b+1-s)*g):(g*=-1,E=-1,M=(s-b)*g),m>0?(_=1,O=(v+1-i)*m):(m*=-1,_=-1,O=(i-v)*m);let A=x<M?x<O?x:O:M<O?M:O,S=x<M?x<O?0:2:M<O?1:2;do{const e=0>y||o[0]<=y||0>b||o[1]<=b||0>v||o[2]<=v||l(y,b,v,A,S,x,M,O,p,g,m,w,E,_);if(e){let t=n+A/p*w,r=s+A/g*E,a=i+A/m*_;switch(S){case 0:t=Math.round(t);break;case 1:r=Math.round(r);break;case 2:a=Math.round(a)}if(c&&c(y,b,v,t,r,a,e,A,S,x,M,O,p,g,m,w,E,_))break;return[t,r,a,A,f(S,w,E,_)]}{const e=x<M?x<O?x:O:M<O?M:O;let t=n+e/p*w,r=s+e/g*E,a=i+e/m*_;switch(x<M?x<O?0:2:M<O?1:2){case 0:t=Math.round(t);break;case 1:r=Math.round(r);break;case 2:a=Math.round(a)}if(c&&c(y,b,v,t,r,a,!1,A,S,x,M,O,p,g,m,w,E,_))break}x<M?x<O?(y+=w,A=x,x+=p,S=0):(v+=_,A=O,O+=m,S=2):M<O?(b+=E,A=M,M+=g,S=1):(v+=_,A=O,O+=m,S=2)}while(A<a);return[-1,-1,-1,-1,f(S,w,E,_)]}((0,r.n)(e),(0,r.n)(t),n,s,i,a,o,l,c)}function g(e,t,n,s,a,o,l,c){const u=(0,r.n)(e),h=(0,r.n)(t);return function(e,t,n,s,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;const[u,h,d]=(0,r.g)(e,t),p=1/u,g=1/h,m=1/d,y=Math.sign(u),b=Math.sign(h),v=Math.sign(d),w=y*p,E=b*g,_=v*m,x=Math.abs(p),M=Math.abs(g),O=Math.abs(m);let A=Math.floor(n),S=Math.floor(s),T=Math.floor(a),P=1/u,k=1/h,L=1/d,C=0,R=0,I=0,F=0,N=0,D=0,U=-1;P>0?(C=1,F=(A+1-n)*P,U=0):(P*=-1,C=-1,F=(n-A)*P,U=1),k>0?(R=1,N=(S+1-s)*k,U=2):(k*=-1,R=-1,N=(s-S)*k,U=3),L>0?(I=1,D=(T+1-a)*L,U=4):(L*=-1,I=-1,D=(a-T)*L,U=5);let B=F<N?F<D?F:D:N<D?N:D,z=F<N?F<D?0:2:N<D?1:2;do{const e=0>A||l[0]<=A||0>S||l[1]<=S||0>T||l[2]<=T?0:c(A,S,T);if(e<=0){let e=n+B/P*C,t=s+B/k*R,i=a+B/L*I;switch(z){case 0:e=Math.round(e);break;case 1:t=Math.round(t);break;case 2:i=Math.round(i)}return[e,t,i,B,f(z,C,R,I)]}const t=Math.floor((0,i.b)(Math.max(0,e-1)/x,0)),r=Math.floor((0,i.b)(Math.max(0,e-1)/M,0)),o=Math.floor((0,i.b)(Math.max(0,e-1)/O,0));F+=t*w,N+=r*E,D+=o*_,A+=t*y,S+=r*b,T+=o*v,F<N?F<D?(A+=C,B=F,F+=P,z=0):(T+=I,B=D,D+=L,z=2):N<D?(S+=R,B=N,N+=k,z=1):(T+=I,B=D,D+=L,z=2)}while(B<o);return[-1,-1,-1,-1,f(z,C,R,I)]}(u<Number.EPSILON&&u>-Number.EPSILON?Number.EPSILON:u,h<Number.EPSILON&&h>-Number.EPSILON?-Number.EPSILON:h,n,s,a,o,l,c)}function m(e,t,n,s,i,a,o,l,c){return function(e,t,n,s,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,o=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0;const[u,h,d]=(0,r.g)(e,t);let f=1/u,p=1/h,g=1/d,m=Math.floor(n),y=Math.floor(s),b=Math.floor(i),v=0,w=0,E=0,_=0,x=0,M=0;f>0?(v=1,_=(m+1-n)*f):(f*=-1,v=-1,_=(n-m)*f),p>0?(w=1,x=(y+1-s)*p):(p*=-1,w=-1,x=(s-y)*p),g>0?(E=1,M=(b+1-i)*g):(g*=-1,E=-1,M=(i-b)*g);let O=_<x?_<M?_:M:x<M?x:M,A=_<x?_<M?0:2:x<M?1:2;do{const e=0>m||o[0]<=m||0>y||o[1]<=y||0>b||o[2]<=b||l(m,y,b,O,A,_,x,M,f,p,g,v,w,E);if(e){let t=n+O/f*v,r=s+O/p*w,a=i+O/g*E;switch(A){case 0:t=Math.round(t);break;case 1:r=Math.round(r);break;case 2:a=Math.round(a)}if(c&&c(m,y,b,t,r,a,e,O,A,_,x,M,f,p,g,v,w,E))break;return!0}{const e=_<x?_<M?_:M:x<M?x:M;let t=n+e/f*v,r=s+e/p*w,a=i+e/g*E;switch(_<x?_<M?0:2:x<M?1:2){case 0:t=Math.round(t);break;case 1:r=Math.round(r);break;case 2:a=Math.round(a)}if(c&&c(m,y,b,t,r,a,!1,O,A,_,x,M,f,p,g,v,w,E))break}_<x?_<M?(m+=v,O=_,_+=f,A=0):(b+=E,O=M,M+=g,A=2):x<M?(y+=w,O=x,x+=p,A=1):(b+=E,O=M,M+=g,A=2)}while(O<a);return!1}((0,r.n)(e),(0,r.n)(t),n,s,i,a,o,l,c)}function y(e,t,n,s,a,o,l,c){const u=(0,r.n)(e),h=(0,r.n)(t);return function(e,t,n,s,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0;const[u,h,d]=(0,r.g)(e,t),f=1/u,p=1/h,g=1/d,m=Math.sign(u),y=Math.sign(h),b=Math.sign(d),v=m*f,w=y*p,E=b*g,_=Math.abs(f),x=Math.abs(p),M=Math.abs(g);let O=Math.floor(n),A=Math.floor(s),S=Math.floor(a),T=1/u,P=1/h,k=1/d,L=0,C=0,R=0,I=0,F=0,N=0;T>0?(L=1,I=(O+1-n)*T):(T*=-1,L=-1,I=(n-O)*T),P>0?(C=1,F=(A+1-s)*P):(P*=-1,C=-1,F=(s-A)*P),k>0?(R=1,N=(S+1-a)*k):(k*=-1,R=-1,N=(a-S)*k);let D=I<F?I<N?I:N:F<N?F:N,U=I<F?I<N?0:2:F<N?1:2;do{const e=0>O||l[0]<=O||0>A||l[1]<=A||0>S||l[2]<=S?0:c(O,A,S);if(e<=0)return!0;const t=Math.floor((0,i.b)(Math.max(0,e-1)/_,0)),n=Math.floor((0,i.b)(Math.max(0,e-1)/x,0)),s=Math.floor((0,i.b)(Math.max(0,e-1)/M,0));I+=t*v,F+=n*w,N+=s*E,O+=t*m,A+=n*y,S+=s*b,I<F?I<N?(O+=L,D=I,I+=T,U=0):(S+=R,D=N,N+=k,U=2):F<N?(A+=C,D=F,F+=P,U=1):(S+=R,D=N,N+=k,U=2)}while(D<o);return!1}(u<Number.EPSILON&&u>-Number.EPSILON?Number.EPSILON:u,h<Number.EPSILON&&h>-Number.EPSILON?-Number.EPSILON:h,n,s,a,o,l,c)}},(e,t,n)=>{var s=n(65),i=n(34);e.exports=function(e){return s(i(e))}},(e,t,n)=>{var s=n(0).String;e.exports=function(e){try{return s(e)}catch(e){return"Object"}}},(e,t,n)=>{var s=n(44),i=n(0);e.exports="process"==s(i.process)},(e,t,n)=>{var s=n(0),i=n(35),r=s.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},(e,t,n)=>{var s=n(0),i=n(49),r=n(7),a=n(97),o=n(70),l=n(9),c=n(180),u=n(26),h=n(67),d=i&&i.prototype,f=l("species"),p=!1,g=r(s.PromiseRejectionEvent),m=a("Promise",(function(){var e=o(i),t=e!==String(i);if(!t&&66===h)return!0;if(u&&(!d.catch||!d.finally))return!0;if(h>=51&&/native code/.test(e))return!1;var n=new i((function(e){e(1)})),s=function(e){e((function(){}),(function(){}))};return(n.constructor={})[f]=s,!(p=n.then((function(){}))instanceof s)||!t&&c&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:p}},e=>{e.exports={}},(e,t,n)=>{var s=n(48),i=n(45),r=n(58),a=n(9)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||r[s(e)]}},(e,t,n)=>{"use strict";var s=n(10),i=n(4),r=n(3),a=n(108),o=n(12),l=n(71),c=n(36),u=n(73),h=a.ArrayBuffer,d=a.DataView,f=d.prototype,p=i(h.prototype.slice),g=i(f.getUint8),m=i(f.setUint8);s({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(p&&void 0===t)return p(o(this),e);for(var n=o(this).byteLength,s=l(e,n),i=l(void 0===t?n:t,n),r=new(u(this,h))(c(i-s)),a=new d(this),f=new d(r),y=0;s<i;)m(f,y++,g(a,s++));return r}})},(e,t,n)=>{"use strict";var s=n(0),i=n(8),r=n(51),a=n(33),o=n(148),l=n(27),c=n(3),u=s.RangeError,h=s.Int8Array,d=h&&h.prototype,f=d&&d.set,p=r.aTypedArray,g=r.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),y=m&&r.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(m)return i(f,this,n,t);var s=this.length,r=a(n),c=0;if(r+t>s)throw u("Wrong length");for(;c<r;)this[t+c]=n[c++]}),!m||y)},(e,t,n)=>{"use strict";var s=n(0),i=n(4),r=n(3),a=n(25),o=n(150),l=n(51),c=n(198),u=n(199),h=n(67),d=n(200),f=l.aTypedArray,p=l.exportTypedArrayMethod,g=s.Uint16Array,m=g&&i(g.prototype.sort),y=!(!m||r((function(){m(new g(2),null)}))&&r((function(){m(new g(2),{})}))),b=!!m&&!r((function(){if(h)return h<74;if(c)return c<67;if(u)return!0;if(d)return d<602;var e,t,n=new g(516),s=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,s[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==s[e])return!0}));p("sort",(function(e){return void 0!==e&&a(e),b?m(this,e):o(f(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||y)},(e,t,n)=>{"use strict";var s=n(0),i=n(75),r=n(51),a=n(3),o=n(123),l=s.Int8Array,c=r.aTypedArray,u=r.exportTypedArrayMethod,h=[].toLocaleString,d=!!l&&a((function(){h.call(new l(1))}));u("toLocaleString",(function(){return i(h,d?o(c(this)):c(this),o(arguments))}),a((function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()}))||!a((function(){l.prototype.toLocaleString.call([1,2])})))},(e,t,n)=>{var s=n(3);e.exports=!s((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t,n)=>{var s=n(0),i=n(4),r=n(3),a=n(44),o=s.Object,l=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?l(e,""):o(e)}:o},(e,t,n)=>{var s=n(169),i=n(88);e.exports=function(e){var t=s(e,"string");return i(t)?t:t+""}},(e,t,n)=>{var s,i,r=n(0),a=n(41),o=r.process,l=r.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(i=(s=u.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!i&&a&&(!(s=a.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=a.match(/Chrome\/(\d+)/))&&(i=+s[1]),e.exports=i},(e,t,n)=>{var s=n(0),i=n(16),r=s.document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},(e,t,n)=>{var s=n(13),i=n(14),r=Function.prototype,a=s&&Object.getOwnPropertyDescriptor,o=i(r,"name"),l=o&&"something"===function(){}.name,c=o&&(!s||s&&a(r,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},(e,t,n)=>{var s=n(4),i=n(7),r=n(90),a=s(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return a(e)}),e.exports=r.inspectSource},(e,t,n)=>{var s=n(42),i=Math.max,r=Math.min;e.exports=function(e,t){var n=s(e);return n<0?i(n+t,0):r(n,t)}},(e,t,n)=>{"use strict";var s=n(32),i=n(18),r=n(9),a=n(13),o=r("species");e.exports=function(e){var t=s(e),n=i.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},(e,t,n)=>{var s=n(12),i=n(121),r=n(9)("species");e.exports=function(e,t){var n,a=s(e).constructor;return void 0===a||null==(n=s(a)[r])?t:i(n)}},(e,t,n)=>{var s,i,r,a,o=n(0),l=n(75),c=n(37),u=n(7),h=n(14),d=n(3),f=n(122),p=n(123),g=n(68),m=n(76),y=n(124),b=n(55),v=o.setImmediate,w=o.clearImmediate,E=o.process,_=o.Dispatch,x=o.Function,M=o.MessageChannel,O=o.String,A=0,S={},T="onreadystatechange";try{s=o.location}catch(e){}var P=function(e){if(h(S,e)){var t=S[e];delete S[e],t()}},k=function(e){return function(){P(e)}},L=function(e){P(e.data)},C=function(e){o.postMessage(O(e),s.protocol+"//"+s.host)};v&&w||(v=function(e){m(arguments.length,1);var t=u(e)?e:x(e),n=p(arguments,1);return S[++A]=function(){l(t,void 0,n)},i(A),A},w=function(e){delete S[e]},b?i=function(e){E.nextTick(k(e))}:_&&_.now?i=function(e){_.now(k(e))}:M&&!y?(a=(r=new M).port2,r.port1.onmessage=L,i=c(a.postMessage,a)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&s&&"file:"!==s.protocol&&!d(C)?(i=C,o.addEventListener("message",L,!1)):i=T in g("script")?function(e){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),P(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:v,clear:w}},(e,t,n)=>{var s=n(64),i=Function.prototype,r=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(s?a.bind(r):function(){return a.apply(r,arguments)})},(e,t,n)=>{var s=n(0).TypeError;e.exports=function(e,t){if(e<t)throw s("Not enough arguments");return e}},(e,t,n)=>{"use strict";var s=n(25),i=function(e){var t,n;this.promise=new e((function(e,s){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=s})),this.resolve=s(t),this.reject=s(n)};e.exports.f=function(e){return new i(e)}},(e,t,n)=>{var s=n(0),i=n(8),r=n(25),a=n(12),o=n(54),l=n(59),c=s.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(r(n))return a(i(n,e));throw c(o(e)+" is not iterable")}},(e,t,n)=>{var s=n(0),i=n(14),r=n(7),a=n(27),o=n(93),l=n(181),c=o("IE_PROTO"),u=s.Object,h=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?h:null}},(e,t,n)=>{"use strict";var s,i,r=n(8),a=n(4),o=n(17),l=n(140),c=n(102),u=n(89),h=n(50),d=n(28).get,f=n(141),p=n(142),g=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,b=a("".charAt),v=a("".indexOf),w=a("".replace),E=a("".slice),_=(i=/b*/g,r(m,s=/a/,"a"),r(m,i,"a"),0!==s.lastIndex||0!==i.lastIndex),x=c.BROKEN_CARET,M=void 0!==/()??/.exec("")[1];(_||M||x||f||p)&&(y=function(e){var t,n,s,i,a,c,u,f=this,p=d(f),O=o(e),A=p.raw;if(A)return A.lastIndex=f.lastIndex,t=r(y,A,O),f.lastIndex=A.lastIndex,t;var S=p.groups,T=x&&f.sticky,P=r(l,f),k=f.source,L=0,C=O;if(T&&(P=w(P,"y",""),-1===v(P,"g")&&(P+="g"),C=E(O,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(O,f.lastIndex-1))&&(k="(?: "+k+")",C=" "+C,L++),n=new RegExp("^(?:"+k+")",P)),M&&(n=new RegExp("^"+k+"$(?!\\s)",P)),_&&(s=f.lastIndex),i=r(m,T?n:f,C),T?i?(i.input=E(i.input,L),i[0]=E(i[0],L),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:_&&i&&(f.lastIndex=f.global?i.index+i[0].length:s),M&&i&&i.length>1&&r(g,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&S)for(i.groups=c=h(null),a=0;a<S.length;a++)c[(u=S[a])[0]]=i[u[1]];return i}),e.exports=y},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(165),i=n.n(s);function r(e){return i()(e)}},(e,t,n)=>{var s=n(0),i=n(71),r=n(33),a=n(146),o=s.Array,l=Math.max;e.exports=function(e,t,n){for(var s=r(e),c=i(t,s),u=i(void 0===n?s:n,s),h=o(l(u-c,0)),d=0;c<u;c++,d++)a(h,d,e[c]);return h.length=d,h}},(e,t,n)=>{"use strict";n.d(t,{a:()=>m,b:()=>g});n(11),n(203),n(1),n(2),n(152),n(155),n(29),n(238),n(157),n(103);var s=n(210),i=n(211),r=n(24),a=n(39),o=n(38),l=n(5),c=n(22);let u=0;function h(e,t){switch(e.toLowerCase()){case"text":return t.text();case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json();case"xml":return t.text().then((e=>(new DOMParser).parseFromString(e,"text/xml")));case"html":return t.text().then((e=>(new DOMParser).parseFromString(e,"text/html")))}return null}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{method:"GET",mode:"cors",cache:"no-store",credentials:"same-origin"};const s=await(0,i.a)(e,n).then((async e=>e.ok?await h(t,e):null)).catch((e=>(console.error(e),null)));return s}async function f(e){let t=null;u++;try{const n=prompt(e);null!==n&&(t=await d(n,"text"))}catch(e){console.error(e)}finally{u--}return t}async function p(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=a?e:"".concat(prompt("enter file name")||e).concat(n?"."+n[0]:"");switch(u++,i){case"text":r="data:".concat(t?t[0]:"",";charset=utf-8;base64,").concat((0,s.a)(r));break;case"blob":r=URL.createObjectURL(new Blob([r],{type:t[0]}))}const h=document.createElement("a");h.href=r,h.download=o,document.body.appendChild(h),h.click(),h.remove(),"blob"===i&&URL.revokeObjectURL(r),await new Promise((e=>{const t=()=>{(0,l.d)((0,c.f)(),"focus",t),e(null)};(0,l.b)((0,c.f)(),"focus",t)})),u--}function g(){return u>0}async function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2?arguments[2]:void 0,s=e;if(/^(data|blob):/.test(e)||new RegExp("^".concat(location.origin)).test(e))s=e;else if("file:"!==location.protocol){const t=/^http:\/\/[^\/]+\/$|^file:\/\/[^\/]+\/$|^http:\/\/$|^file:\/\/$/.test(location.origin)?location.origin.substring(0,location.origin.length-1):location.origin,n=(/^http:\/\/|^file:\/\//.test(location.pathname)||0===location.pathname.length?"/":location.pathname).replace(/\/[^\/]+$/,"/");s="".concat(t).concat(n).concat(e.replace(/^\.\/|^\//,""))}const i=await d(s,t,n);if(null===i)throw new Error("Not found file is ".concat(e));return{source:i,src:s}}(0,r.c)()||(0,l.b)(o.b,"message",(async e=>{const{data:t}=e;if(!(t instanceof Object))return;let n=null;switch(t.method){case"open":n=await async function(e,t,n){return(0,r.c)()?await new Promise((s=>{const i=(0,a.a)(),r=e=>{const{data:t}=e;if(t instanceof Object&&i===t.key&&"return"===t.method)(0,l.d)(o.b,"message",r),t.value&&s(t.value)};(0,l.b)(o.b,"message",r),o.b.postMessage({method:"open",description:e,mimeTypes:t,extensions:n,key:i})})):"showOpenFilePicker"in window&&self.isSecureContext?await async function(e,t,n){let s=null;u++;try{if("electron"in self)s=await self.electron.openFile(e,n);else{const i=(await showOpenFilePicker({types:[{description:e,accept:(()=>{const e={};return e[t[0]]=n.map((e=>".".concat(e))),e})()}]}))[0];if("granted"===await i.requestPermission({mode:"read"})){const e=await i.getFile();s=await e.text()}else f(e)}}catch(e){console.error(e.message)}finally{u--}return s}(e,t,n):f(e)}(t.description,t.mimeTypes,t.extensions);break;case"save":await async function(e,t,n,s,i){(0,r.c)()?await new Promise((r=>{const c=(0,a.a)(),u=e=>{const{data:t}=e;if(t instanceof Object&&c===t.key&&"return"===t.method)(0,l.d)(o.b,"message",u),r(null)};(0,l.b)(o.b,"message",u),o.b.postMessage({method:"save",description:e,mimeTypes:t,extensions:n,type:s,text:i,key:c})})):"showSaveFilePicker"in self&&self.isSecureContext?await async function(e,t,n,s,i){let r="boxengine-file".concat(n?"."+n[0]:""),a=null;u++;try{if("electron"in self)await self.electron.saveFile(i,e,n);else{const s=await self.showSaveFilePicker({excludeAcceptAllOption:!1,types:[{description:e,accept:(()=>{const e={};return e[t[0]]=n.map((e=>".".concat(e))),e})()}]});if(r=s.name,"granted"!==await s.requestPermission({mode:"readwrite"}))throw"can't save file.";a=await s.createWritable(),await a.write(i)}}catch(e){console.error(e),await p(r,t,n,s,i instanceof Function?i():i,!0)}finally{u--,null!==a&&await a.close()}}(e,t,n,s,i):p("boxengine-file",t,n,s,i instanceof Function?i():i)}(t.description,t.mimeTypes,t.extensions,t.type,t.text)}o.b.postMessage({method:"return",value:n,key:t.key})}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>g,b:()=>m,c:()=>f,d:()=>d,e:()=>l,f:()=>o});n(29),n(1),n(2),n(11),n(60),n(85),n(61),n(62),n(63);var i=n(239),r=n(212),a=(n(240),e([r]));r=(a.then?(await a)():a)[0];const o="OffscreenCanvas"in self,l=(g(0,0).getContext("2d"),g(0,0).getContext("webgl"),g(0,0).getContext("webgl2")),c=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("2d"))})),u=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("webgl"))})),h=new i.a(Worker,(function(){postMessage("OffscreenCanvas"in self&&null!==new OffscreenCanvas(1,1).getContext("webgl2"))})),d=await c.exec(),f=(await u.exec(),await h.exec());c.terminate(),u.terminate(),h.terminate();new WeakMap;const p=new WeakMap;function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"OffscreenCanvas"in self?new OffscreenCanvas(e,t):(()=>{const n=document.createElement("canvas");return n.width=0|e,n.height=0|t,n})()}function m(e){let t=p.get(e)||e;return"OffscreenCanvas"in self&&t instanceof HTMLCanvasElement&&(t=t.transferControlToOffscreen(),p.set(e,t)),t}s()}catch(y){s(y)}}),1)},(e,t,n)=>{n(31)("Float32",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>l,b:()=>r,c:()=>a,d:()=>c});n(1),n(2),n(29),n(60),n(257),n(61),n(62),n(63),n(258),n(259),n(147),n(260),n(261),n(262),n(85),n(263),n(264);const s=new Map;function i(e,t){let n;const s=e.toLowerCase();switch(!0){case/^int[0-9]+$/.test(s):switch(s){case"int8":n=new Int8Array(t);break;case"int16":n=new Int16Array(t);break;case"int32":n=new Int32Array(t)}break;case/^uint[0-9]+$/.test(s):switch(s){case"uint8":n=new Uint8Array(t);break;case"uint16":n=new Uint16Array(t);break;case"uint32":n=new Uint32Array(t)}break;case"uint8clamped"===s:n=new Uint8ClampedArray(t);break;case/^float[0-9]+$/.test(s):switch(s){case"float32":n=new Float32Array(t);break;case"float64":n=new Float64Array(t)}}if(!n)throw new Error("Not found array type was ".concat(e));return n}function r(e,t){const n=s.has(e)?s.get(e):l(e,1,!0);return n?(s.set(e,n),n[0]=t,n[0]):t}function a(){return"SharedArrayBuffer"in self}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=i(e,t).byteLength;return!n&&a()?new SharedArrayBuffer(s):new ArrayBuffer(s)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(e,o(e,t,n))}function c(e,t,n,s,i){e[t*n+s]=i}},(e,t,n)=>{var s=n(13),i=n(8),r=n(168),a=n(43),o=n(53),l=n(66),c=n(14),u=n(115),h=Object.getOwnPropertyDescriptor;t.f=s?h:function(e,t){if(e=o(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return a(!i(r.f,e,t),e[t])}},(e,t,n)=>{var s=n(0),i=n(32),r=n(7),a=n(35),o=n(113),l=s.Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,l(e))}},(e,t,n)=>{var s=n(26),i=n(90);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.5",mode:s?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},(e,t,n)=>{var s=n(0),i=n(91),r="__core-js_shared__",a=s[r]||i(r,{});e.exports=a},(e,t,n)=>{var s=n(0),i=Object.defineProperty;e.exports=function(e,t){try{i(s,e,{value:t,configurable:!0,writable:!0})}catch(n){s[e]=t}return t}},(e,t,n)=>{var s=n(4),i=0,r=Math.random(),a=s(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+r,36)}},(e,t,n)=>{var s=n(89),i=n(92),r=s("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},e=>{e.exports={}},(e,t,n)=>{var s=n(119),i=n(96).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,i)}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,n)=>{var s=n(3),i=n(7),r=/#|\.prototype\./,a=function(e,t){var n=l[o(e)];return n==u||n!=c&&(i(t)?s(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},(e,t,n)=>{var s=n(4),i=n(3),r=n(7),a=n(48),o=n(32),l=n(70),c=function(){},u=[],h=o("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=s(d.exec),p=!d.exec(c),g=function(e){if(!r(e))return!1;try{return h(c,u,e),!0}catch(e){return!1}},m=function(e){if(!r(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!h||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},(e,t,n)=>{var s=n(9),i=n(58),r=s("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[r]===e)}},(e,t,n)=>{var s=n(16),i=n(44),r=n(9)("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}},(e,t,n)=>{var s=n(3),i=n(0).RegExp,r=s((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=r||s((function(){return!i("a","y").sticky})),o=r||s((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:r}},(e,t,n)=>{"use strict";var s=n(75),i=n(8),r=n(4),a=n(104),o=n(3),l=n(12),c=n(7),u=n(42),h=n(36),d=n(17),f=n(34),p=n(105),g=n(45),m=n(190),y=n(107),b=n(9)("replace"),v=Math.max,w=Math.min,E=r([].concat),_=r([].push),x=r("".indexOf),M=r("".slice),O="$0"==="a".replace(/./,"$0"),A=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var r=A?"$":"$0";return[function(e,n){var s=f(this),r=null==e?void 0:g(e,b);return r?i(r,e,s,n):i(t,d(s),e,n)},function(e,i){var a=l(this),o=d(e);if("string"==typeof i&&-1===x(i,r)&&-1===x(i,"$<")){var f=n(t,a,o,i);if(f.done)return f.value}var g=c(i);g||(i=d(i));var b=a.global;if(b){var O=a.unicode;a.lastIndex=0}for(var A=[];;){var S=y(a,o);if(null===S)break;if(_(A,S),!b)break;""===d(S[0])&&(a.lastIndex=p(o,h(a.lastIndex),O))}for(var T,P="",k=0,L=0;L<A.length;L++){for(var C=d((S=A[L])[0]),R=v(w(u(S.index),o.length),0),I=[],F=1;F<S.length;F++)_(I,void 0===(T=S[F])?T:String(T));var N=S.groups;if(g){var D=E([C],I,R,o);void 0!==N&&_(D,N);var U=d(s(i,void 0,D))}else U=m(C,o,R,I,N,i);R>=k&&(P+=M(o,k,R)+U,k=R+C.length)}return P+M(o,k)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||A)},(e,t,n)=>{"use strict";n(29);var s=n(4),i=n(19),r=n(80),a=n(3),o=n(9),l=n(23),c=o("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=o(e),f=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var g=s(/./[d]),m=t(d,""[e],(function(e,t,n,i,a){var o=s(e),l=t.exec;return l===r||l===u.exec?f&&!a?{done:!0,value:g(t,n,i)}:{done:!0,value:o(n,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(u,d,m[1])}h&&l(u[d],"sham",!0)}},(e,t,n)=>{"use strict";var s=n(106).charAt;e.exports=function(e,t,n){return t+(n?s(e,t).length:1)}},(e,t,n)=>{var s=n(4),i=n(42),r=n(17),a=n(34),o=s("".charAt),l=s("".charCodeAt),c=s("".slice),u=function(e){return function(t,n){var s,u,h=r(a(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(s=l(h,d))<55296||s>56319||d+1===f||(u=l(h,d+1))<56320||u>57343?e?o(h,d):s:e?c(h,d,d+2):u-56320+(s-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},(e,t,n)=>{var s=n(0),i=n(8),r=n(12),a=n(7),o=n(44),l=n(80),c=s.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var s=i(n,e,t);return null!==s&&r(s),s}if("RegExp"===o(e))return i(l,e,t);throw c("RegExp#exec called on incompatible receiver")}},(e,t,n)=>{"use strict";var s=n(0),i=n(4),r=n(13),a=n(143),o=n(69),l=n(23),c=n(144),u=n(3),h=n(56),d=n(42),f=n(36),p=n(145),g=n(192),m=n(79),y=n(46),b=n(95).f,v=n(18).f,w=n(193),E=n(82),_=n(47),x=n(28),M=o.PROPER,O=o.CONFIGURABLE,A=x.get,S=x.set,T="ArrayBuffer",P="DataView",k="Wrong index",L=s.ArrayBuffer,C=L,R=C&&C.prototype,I=s.DataView,F=I&&I.prototype,N=Object.prototype,D=s.Array,U=s.RangeError,B=i(w),z=i([].reverse),j=g.pack,G=g.unpack,H=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},Y=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return j(e,23,4)},X=function(e){return j(e,52,8)},K=function(e,t){v(e.prototype,t,{get:function(){return A(this)[t]}})},Z=function(e,t,n,s){var i=p(n),r=A(e);if(i+t>r.byteLength)throw U(k);var a=A(r.buffer).bytes,o=i+r.byteOffset,l=E(a,o,o+t);return s?l:z(l)},J=function(e,t,n,s,i,r){var a=p(n),o=A(e);if(a+t>o.byteLength)throw U(k);for(var l=A(o.buffer).bytes,c=a+o.byteOffset,u=s(+i),h=0;h<t;h++)l[c+h]=u[r?h:t-h-1]};if(a){var $=M&&L.name!==T;if(u((function(){L(1)}))&&u((function(){new L(-1)}))&&!u((function(){return new L,new L(1.5),new L(NaN),$&&!O})))$&&O&&l(L,"name",T);else{(C=function(e){return h(this,R),new L(p(e))}).prototype=R;for(var Q,ee=b(L),te=0;ee.length>te;)(Q=ee[te++])in C||l(C,Q,L[Q]);R.constructor=C}y&&m(F)!==N&&y(F,N);var ne=new I(new C(2)),se=i(F.setInt8);ne.setInt8(0,2147483648),ne.setInt8(1,2147483649),!ne.getInt8(0)&&ne.getInt8(1)||c(F,{setInt8:function(e,t){se(this,e,t<<24>>24)},setUint8:function(e,t){se(this,e,t<<24>>24)}},{unsafe:!0})}else R=(C=function(e){h(this,R);var t=p(e);S(this,{bytes:B(D(t),0),byteLength:t}),r||(this.byteLength=t)}).prototype,F=(I=function(e,t,n){h(this,F),h(e,R);var s=A(e).byteLength,i=d(t);if(i<0||i>s)throw U("Wrong offset");if(i+(n=void 0===n?s-i:f(n))>s)throw U("Wrong length");S(this,{buffer:e,byteLength:n,byteOffset:i}),r||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,r&&(K(C,"byteLength"),K(I,"buffer"),K(I,"byteLength"),K(I,"byteOffset")),c(F,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(Z(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(Z(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(Z(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G(Z(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,H,t)},setUint8:function(e,t){J(this,1,e,H,t)},setInt16:function(e,t){J(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,Y,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});_(C,T),_(I,P),e.exports={ArrayBuffer:C,DataView:I}},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>d,b:()=>h,c:()=>f,d:()=>p,e:()=>y,f:()=>m});var i=n(285),r=n(201),a=n(241),o=n(202),l=n(242),c=n(286),u=e([r,o]);[r,o]=u.then?(await u)():u;const h=["./asset/studio.png","./asset/engine.png","./asset/disclaimer.png","./asset/background.png"],d=[new o.a("./asset/font.png"),new o.a("./asset/icon.png"),new o.a("./asset/key.png"),new o.a("./asset/horde_badge.png"),new o.a("./asset/title-prod.png"),new o.a("./asset/title-demo.png"),new o.a("./asset/how_to_play_keyboard.png"),new o.a("./asset/how_to_play_gamepad.png"),new o.a("./asset/memberscard/members.png"),new o.a("./asset/memberscard/silver.png"),new o.a("./asset/memberscard/gold.png"),new o.a("./asset/memberscard/platinum.png"),new o.a("./asset/memberscard/diamond.png")],f=[new r.a("./asset/wall/metal.albedo.png","./asset/wall/metal.pbr.png","./asset/wall/metal.normal.png"),new r.a("./asset/wall/ruins.albedo.png","./asset/wall/ruins.pbr.png","./asset/wall/ruins.normal.png"),new r.a("./asset/hud/hand.albedo.png","./asset/hud/hand.pbr.png","./asset/hud/hand.normal.png"),new r.a("./asset/hud/foot.albedo.png","./asset/hud/foot.pbr.png","./asset/hud/foot.normal.png"),new r.a("./asset/hud/slowball.albedo.png","./asset/hud/slowball.pbr.png","./asset/hud/slowball.normal.png"),new r.a("./asset/hud/monocular.albedo.png","./asset/hud/monocular.pbr.png","./asset/hud/monocular.normal.png"),new r.a("./asset/hud/energyshield.albedo.png","./asset/hud/energyshield.pbr.png","./asset/hud/energyshield.normal.png"),new r.a("./asset/hud/combobooster.albedo.png","./asset/hud/combobooster.pbr.png","./asset/hud/combobooster.normal.png"),new r.a("./asset/hud/hookshot.albedo.png","./asset/hud/hookshot.pbr.png","./asset/hud/hookshot.normal.png"),new r.a("./asset/hud/pistol.albedo.png","./asset/hud/pistol.pbr.png","./asset/hud/pistol.normal.png"),new r.a("./asset/hud/handcannon.albedo.png","./asset/hud/handcannon.pbr.png","./asset/hud/handcannon.normal.png"),new r.a("./asset/hud/machingun.albedo.png","./asset/hud/machingun.pbr.png","./asset/hud/machingun.normal.png"),new r.a("./asset/hud/chainshotgun.albedo.png","./asset/hud/chainshotgun.pbr.png","./asset/hud/chainshotgun.normal.png"),new r.a("./asset/hud/shotgun.albedo.png","./asset/hud/shotgun.pbr.png","./asset/hud/shotgun.normal.png"),new r.a("./asset/hud/heavycannon.albedo.png","./asset/hud/heavycannon.pbr.png","./asset/hud/heavycannon.normal.png"),new r.a("./asset/hud/launcher.albedo.png","./asset/hud/launcher.pbr.png","./asset/hud/launcher.normal.png"),new r.a("./asset/hud/clusterbow.albedo.png","./asset/hud/clusterbow.pbr.png","./asset/hud/clusterbow.normal.png"),new r.a("./asset/hud/plasmagun.albedo.png","./asset/hud/plasmagun.pbr.png","./asset/hud/plasmagun.normal.png"),new r.a("./asset/hud/plasmasmg.albedo.png","./asset/hud/plasmasmg.pbr.png","./asset/hud/plasmasmg.normal.png"),new r.a("./asset/entity/debug.albedo.png","./asset/entity/debug.pbr.png","./asset/entity/debug.normal.png"),new r.a("./asset/entity/ui.albedo.png","./asset/entity/ui.pbr.png","./asset/entity/ui.normal.png"),new r.a("./asset/entity/bullet.albedo.png","./asset/entity/bullet.pbr.png","./asset/entity/bullet.normal.png"),new r.a("./asset/entity/blood.albedo.png","./asset/entity/blood.pbr.png","./asset/entity/blood.normal.png"),new r.a("./asset/entity/acid.albedo.png","./asset/entity/acid.pbr.png","./asset/entity/acid.normal.png"),new r.a("./asset/entity/gib.albedo.png","./asset/entity/gib.pbr.png","./asset/entity/gib.normal.png"),new r.a("./asset/entity/hit.albedo.png","./asset/entity/hit.pbr.png","./asset/entity/hit.normal.png"),new r.a("./asset/entity/ring.albedo.png","./asset/entity/ring.pbr.png","./asset/entity/ring.normal.png"),new r.a("./asset/entity/stuff.albedo.png","./asset/entity/stuff.pbr.png","./asset/entity/stuff.normal.png"),new r.a("./asset/entity/spark.albedo.png","./asset/entity/spark.pbr.png","./asset/entity/spark.normal.png"),new r.a("./asset/entity/explode.albedo.png","./asset/entity/explode.pbr.png","./asset/entity/explode.normal.png"),new r.a("./asset/entity/muzzleflash.albedo.png","./asset/entity/muzzleflash.pbr.png","./asset/entity/muzzleflash.normal.png"),new r.a("./asset/entity/flame.albedo.png","./asset/entity/flame.pbr.png","./asset/entity/flame.normal.png"),new r.a("./asset/entity/enemy-guy.albedo.png","./asset/entity/enemy-guy.pbr.png","./asset/entity/enemy-guy.normal.png"),new r.a("./asset/entity/helmet.albedo.png","./asset/entity/helmet.pbr.png","./asset/entity/helmet.normal.png"),new r.a("./asset/entity/enemy-armor.albedo.png","./asset/entity/enemy-armor.pbr.png","./asset/entity/enemy-armor.normal.png"),new r.a("./asset/entity/object.albedo.png","./asset/entity/object.pbr.png","./asset/entity/object.normal.png"),new r.a("./asset/entity/checkpoint.albedo.png","./asset/entity/checkpoint.pbr.png","./asset/entity/checkpoint.normal.png"),new r.a("./asset/entity/spawner.albedo.png","./asset/entity/spawner.pbr.png","./asset/entity/spawner.normal.png"),new r.a("./asset/entity/gauge.albedo.png","./asset/entity/gauge.pbr.png","./asset/entity/gauge.normal.png"),new r.a("./asset/entity/meat.albedo.png","./asset/entity/meat.pbr.png","./asset/entity/meat.normal.png"),new r.a("./asset/entity/health.albedo.png","./asset/entity/health.pbr.png","./asset/entity/health.normal.png"),new r.a("./asset/entity/armor.albedo.png","./asset/entity/armor.pbr.png","./asset/entity/armor.normal.png"),new r.a("./asset/entity/stamina.albedo.png","./asset/entity/stamina.pbr.png","./asset/entity/stamina.normal.png"),new r.a("./asset/entity/ammo.albedo.png","./asset/entity/ammo.pbr.png","./asset/entity/ammo.normal.png"),new r.a("./asset/entity/weapon.albedo.png","./asset/entity/weapon.pbr.png","./asset/entity/weapon.normal.png"),new r.a("./asset/entity/key.albedo.png","./asset/entity/key.pbr.png","./asset/entity/key.normal.png")],p=[new l.a("./asset/sound/menu/press.mp3"),new l.a("./asset/sound/menu/cancel.mp3"),new l.a("./asset/sound/menu/scroll.mp3"),new l.a("./asset/sound/menu/move.mp3"),new l.a("./asset/sound/menu/buy.mp3"),new l.a("./asset/sound/effect/explode.mp3"),new l.a("./asset/sound/effect/corrosive.mp3"),new l.a("./asset/sound/effect/ice-explode.mp3"),new l.a("./asset/sound/effect/splash.mp3"),new l.a("./asset/sound/effect/ice-break-1.mp3"),new l.a("./asset/sound/effect/ice-break-2.mp3"),new l.a("./asset/sound/effect/ice-break-3.mp3"),new l.a("./asset/sound/effect/head-shot.mp3"),new l.a("./asset/sound/effect/bullet-wall-spark.mp3"),new l.a("./asset/sound/effect/mine-drop.mp3"),new l.a("./asset/sound/effect/damage-ammo.mp3"),new l.a("./asset/sound/effect/damage-melee.mp3"),new l.a("./asset/sound/effect/damage-magic.mp3"),new l.a("./asset/sound/effect/damage-slash.mp3"),new l.a("./asset/sound/effect/damage-flame.mp3"),new l.a("./asset/sound/effect/damage-corrosive1.mp3"),new l.a("./asset/sound/effect/damage-corrosive2.mp3"),new l.a("./asset/sound/weapon/punch-fire.mp3"),new l.a("./asset/sound/weapon/punch-fire-charge.mp3"),new l.a("./asset/sound/weapon/combobooster-fire.mp3"),new l.a("./asset/sound/weapon/combobooster-loop.mp3"),new l.a("./asset/sound/weapon/pistol-fire.mp3"),new l.a("./asset/sound/weapon/hook-fire.mp3"),new l.a("./asset/sound/weapon/hook-bullet.mp3"),new l.a("./asset/sound/weapon/machingun-fire.mp3"),new l.a("./asset/sound/weapon/chainshotgun-fire.mp3"),new l.a("./asset/sound/weapon/chainshotgun-start.mp3"),new l.a("./asset/sound/weapon/chainshotgun-loop.mp3"),new l.a("./asset/sound/weapon/chainshotgun-end.mp3"),new l.a("./asset/sound/weapon/heavycannon-fire.mp3"),new l.a("./asset/sound/weapon/heavycannon-fire-charge.mp3"),new l.a("./asset/sound/weapon/heavycannon-pump.mp3"),new l.a("./asset/sound/weapon/shotgun-fire.mp3"),new l.a("./asset/sound/weapon/shotgun-pump.mp3"),new l.a("./asset/sound/weapon/launcher-fire.mp3"),new l.a("./asset/sound/weapon/launcher-pump.mp3"),new l.a("./asset/sound/weapon/clusterbow-fire.mp3"),new l.a("./asset/sound/weapon/plasmagun-fire.mp3"),new l.a("./asset/sound/weapon/plasmasmg-fire.mp3"),new l.a("./asset/sound/weapon/out-of-ammo.mp3"),new l.a("./asset/sound/weapon/charge-loop.mp3"),new l.a("./asset/sound/weapon/charge-complete.mp3"),new l.a("./asset/sound/combo/up.mp3"),new l.a("./asset/sound/combo/down.mp3"),new l.a("./asset/sound/item/ammo.mp3"),new l.a("./asset/sound/item/weapon.mp3"),new l.a("./asset/sound/item/key.mp3"),new l.a("./asset/sound/item/meat-1.mp3"),new l.a("./asset/sound/item/meat-2.mp3"),new l.a("./asset/sound/item/meat-3.mp3"),new l.a("./asset/sound/item/ice-1.mp3"),new l.a("./asset/sound/item/ice-2.mp3"),new l.a("./asset/sound/item/ice-3.mp3"),new l.a("./asset/sound/item/meat-mute.mp3"),new l.a("./asset/sound/item/armor.mp3"),new l.a("./asset/sound/item/energy.mp3"),new l.a("./asset/sound/item/checkpoint.mp3"),new l.a("./asset/sound/item/spawn.mp3"),new l.a("./asset/sound/player/step-1.mp3"),new l.a("./asset/sound/player/step-2.mp3"),new l.a("./asset/sound/player/step-3.mp3"),new l.a("./asset/sound/player/step-4.mp3"),new l.a("./asset/sound/player/landing.mp3"),new l.a("./asset/sound/player/grab.mp3"),new l.a("./asset/sound/player/climb.mp3"),new l.a("./asset/sound/player/sliding.mp3"),new l.a("./asset/sound/player/wallrun.mp3"),new l.a("./asset/sound/player/open.mp3"),new l.a("./asset/sound/player/lock1.mp3"),new l.a("./asset/sound/player/lock2.mp3"),new l.a("./asset/sound/player/lock3.mp3"),new l.a("./asset/sound/enemy/no-damage.mp3"),new l.a("./asset/sound/enemy/find-pistol-1.mp3"),new l.a("./asset/sound/enemy/find-pistol-2.mp3"),new l.a("./asset/sound/enemy/find-pistol-3.mp3"),new l.a("./asset/sound/enemy/find-pistol-4.mp3"),new l.a("./asset/sound/enemy/find-shotgun-1.mp3"),new l.a("./asset/sound/enemy/find-shotgun-2.mp3"),new l.a("./asset/sound/enemy/find-shotgun-3.mp3"),new l.a("./asset/sound/enemy/find-shotgun-4.mp3"),new l.a("./asset/sound/enemy/find-shotgun-5.mp3"),new l.a("./asset/sound/enemy/find-machingun-1.mp3"),new l.a("./asset/sound/enemy/find-machingun-2.mp3"),new l.a("./asset/sound/enemy/find-machingun-3.mp3"),new l.a("./asset/sound/enemy/find-melee-1.mp3"),new l.a("./asset/sound/enemy/find-melee-2.mp3"),new l.a("./asset/sound/enemy/find-melee-3.mp3"),new l.a("./asset/sound/enemy/pain-pistol-1.mp3"),new l.a("./asset/sound/enemy/pain-pistol-2.mp3"),new l.a("./asset/sound/enemy/pain-shotgun-1.mp3"),new l.a("./asset/sound/enemy/pain-shotgun-2.mp3"),new l.a("./asset/sound/enemy/pain-machingun-1.mp3"),new l.a("./asset/sound/enemy/pain-machingun-2.mp3"),new l.a("./asset/sound/enemy/pain-melee-1.mp3"),new l.a("./asset/sound/enemy/pain-melee-2.mp3"),new l.a("./asset/sound/enemy/death-pistol-1.mp3"),new l.a("./asset/sound/enemy/death-shotgun-1.mp3"),new l.a("./asset/sound/enemy/death-machingun-1.mp3"),new l.a("./asset/sound/enemy/death-melee-1.mp3"),new l.a("./asset/sound/enemy/death-armor.mp3"),new l.a("./asset/sound/enemy/fire-melee.mp3"),new l.a("./asset/sound/enemy/fire-magic.mp3"),new l.a("./asset/sound/system/help.mp3")],g={NONE:new i.a("./asset/wall/metal.albedo.png",1,0),METAL_DOOR_DEFAULT:new i.a("./asset/wall/metal.albedo.png",1,1),METAL_DOOR_RED:new i.a("./asset/wall/metal.albedo.png",1,2),METAL_DOOR_BLUE:new i.a("./asset/wall/metal.albedo.png",1,3),METAL_DOOR_YELLOW:new i.a("./asset/wall/metal.albedo.png",1,4),METAL_GOLE:new i.a("./asset/wall/metal.albedo.png",1,5),METAL_SECRET:new i.a("./asset/wall/metal.albedo.png",1,6),METAL_GRAB:new i.a("./asset/wall/metal.albedo.png",1,7),METAL_ASSIST_GRAB:new i.a("./asset/wall/metal.albedo.png",1,8),METAL_WALLRUN:new i.a("./asset/wall/metal.albedo.png",1,9),METAL_DOOR_SLIDING:new i.a("./asset/wall/metal.albedo.png",1,10),METAL_IMPORTANT:new i.a("./asset/wall/metal.albedo.png",1,11),METAL_EDIT_ZONE:new i.a("./asset/wall/metal.albedo.png",1,12),METAL_EDIT_BLOCK:new i.a("./asset/wall/metal.albedo.png",1,13),METAL_TILE1:new i.a("./asset/wall/metal.albedo.png",1,14),METAL_TILE2:new i.a("./asset/wall/metal.albedo.png",1,15),METAL_TILE3:new i.a("./asset/wall/metal.albedo.png",1,16),METAL_TILE4:new i.a("./asset/wall/metal.albedo.png",1,17),METAL_TILE5:new i.a("./asset/wall/metal.albedo.png",1,18),METAL_TILE6:new i.a("./asset/wall/metal.albedo.png",1,19),METAL_TILE7:new i.a("./asset/wall/metal.albedo.png",1,20),RUINS_DOOR_DEFAULT:new i.a("./asset/wall/ruins.albedo.png",1,1),RUINS_DOOR_RED:new i.a("./asset/wall/ruins.albedo.png",1,2),RUINS_DOOR_BLUE:new i.a("./asset/wall/ruins.albedo.png",1,3),RUINS_DOOR_YELLOW:new i.a("./asset/wall/ruins.albedo.png",1,4),RUINS_GOLE:new i.a("./asset/wall/ruins.albedo.png",1,5),RUINS_SECRET:new i.a("./asset/wall/ruins.albedo.png",1,6),RUINS_GRAB:new i.a("./asset/wall/ruins.albedo.png",1,7),RUINS_ASSIST_GRAB:new i.a("./asset/wall/ruins.albedo.png",1,8),RUINS_WALLRUN:new i.a("./asset/wall/ruins.albedo.png",1,9),RUINS_EDIT_ZONE:new i.a("./asset/wall/ruins.albedo.png",1,12),RUINS_EDIT_BLOCK:new i.a("./asset/wall/ruins.albedo.png",1,13),RUINS_TILE1:new i.a("./asset/wall/ruins.albedo.png",1,14),RUINS_TILE2:new i.a("./asset/wall/ruins.albedo.png",1,15),RUINS_TILE3:new i.a("./asset/wall/ruins.albedo.png",1,16),HUD_HAND_GRIP:new i.a("./asset/hud/hand.albedo.png",1,0),HUD_HAND_STILL:new i.a("./asset/hud/hand.albedo.png",1,1),HUD_HAND_FIRE:new i.a("./asset/hud/hand.albedo.png",1,2),HUD_HAND_JUMP:new i.a("./asset/hud/hand.albedo.png",1,3),HUD_HAND_SPRINT:new i.a("./asset/hud/hand.albedo.png",1,4),HUD_HAND_AIR:new i.a("./asset/hud/hand.albedo.png",1,5),HUD_HAND_CHARGE:new i.a("./asset/hud/hand.albedo.png",1,6),HUD_HAND_ATTACK:new i.a("./asset/hud/hand.albedo.png",1,7),HUD_FOOT_SLIDING:new i.a("./asset/hud/foot.albedo.png",1,0),HUD_FOOT_COIL_HAND:new i.a("./asset/hud/foot.albedo.png",1,1),HUD_FOOT_COIL_NO_HAND:new i.a("./asset/hud/foot.albedo.png",1,2),HUD_SLOWBALL_STILL:new i.a("./asset/hud/slowball.albedo.png",1,0),HUD_SLOWBALL_FIRE:new i.a("./asset/hud/slowball.albedo.png",1,1),HUD_BINOCULARS_STILL:new i.a("./asset/hud/monocular.albedo.png",1,0),HUD_ENERGYSHIELD_STILL:new i.a("./asset/hud/energyshield.albedo.png",1,0),HUD_ENERGYSHIELD_EMPTY:new i.a("./asset/hud/energyshield.albedo.png",1,1),HUD_ENERGYSHIELD_FIRE:new i.a("./asset/hud/energyshield.albedo.png",1,2),HUD_COMBO_BOOSTER_STILL:new i.a("./asset/hud/combobooster.albedo.png",1,0),HUD_COMBO_BOOSTER_FIRE:new i.a("./asset/hud/combobooster.albedo.png",1,1),HUD_HOOKSHOT_STILL:new i.a("./asset/hud/hookshot.albedo.png",1,0),HUD_PISTOL_STILL:new i.a("./asset/hud/pistol.albedo.png",1,0),HUD_PISTOL_COCKING:new i.a("./asset/hud/pistol.albedo.png",1,1),HUD_HANDCANNON_STILL:new i.a("./asset/hud/handcannon.albedo.png",1,0),HUD_HANDCANNON_COCKING:new i.a("./asset/hud/handcannon.albedo.png",1,1),HUD_MACHINGUN_STILL:new i.a("./asset/hud/machingun.albedo.png",1,0),HUD_MACHINGUN_COCKING:new i.a("./asset/hud/machingun.albedo.png",1,1),HUD_CHAINSHOTGUN_STILL:new i.a("./asset/hud/chainshotgun.albedo.png",1,0),HUD_CHAINSHOTGUN_COCKING:new i.a("./asset/hud/chainshotgun.albedo.png",1,1),HUD_SHOTGUN_STILL:new i.a("./asset/hud/shotgun.albedo.png",1,0),HUD_SHOTGUN_COCKING:new i.a("./asset/hud/shotgun.albedo.png",1,1),HUD_HEAVYCANNON_STILL:new i.a("./asset/hud/heavycannon.albedo.png",1,0),HUD_HEAVYCANNON_COCKING:new i.a("./asset/hud/heavycannon.albedo.png",1,1),HUD_LAUNCHER_STILL:new i.a("./asset/hud/launcher.albedo.png",1,0),HUD_LAUNCHER_COCKING:new i.a("./asset/hud/launcher.albedo.png",1,1),HUD_CLUSTERBOW_STILL:new i.a("./asset/hud/clusterbow.albedo.png",1,0),HUD_CLUSTERBOW_COCKING:new i.a("./asset/hud/clusterbow.albedo.png",1,1),HUD_PLASMAGUN_STILL:new i.a("./asset/hud/plasmagun.albedo.png",1,0),HUD_PLASMAGUN_COCKING:new i.a("./asset/hud/plasmagun.albedo.png",1,1),HUD_PLASMASMG_STILL:new i.a("./asset/hud/plasmasmg.albedo.png",1,0),HUD_PLASMASMG_COCKING:new i.a("./asset/hud/plasmasmg.albedo.png",1,1),DEGUB_TARGET:new i.a("./asset/entity/debug.albedo.png",1,0),UI_START_POINT:new i.a("./asset/entity/ui.albedo.png",1,0),UI_GOLE_POINT:new i.a("./asset/entity/ui.albedo.png",1,1),UI_SECRET_POINT:new i.a("./asset/entity/ui.albedo.png",1,2),UI_HELP_POINT:new i.a("./asset/entity/ui.albedo.png",1,3),UI_HORDE_GROUND_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,4),UI_HORDE_SNIPER_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,5),UI_HORDE_SKY_SPAWN_POINT:new i.a("./asset/entity/ui.albedo.png",1,6),UI_ANGLE:new i.a("./asset/entity/ui.albedo.png",1,7),EFFECT_BULLET_AMMO_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,0),EFFECT_BULLET_PLASMA_BALL:new i.a("./asset/entity/bullet.albedo.png",.1,1),EFFECT_BULLET_HOOK_HEAD:new i.a("./asset/entity/bullet.albedo.png",.25,2),EFFECT_BULLET_HOOK_CHAIN:new i.a("./asset/entity/bullet.albedo.png",.1,3),EFFECT_BULLET_GRENADE:new i.a("./asset/entity/bullet.albedo.png",.1,3),EFFECT_BULLET_ARM_GRANADE:new i.a("./asset/entity/bullet.albedo.png",.375,4),EFFECT_BULLET_RAIL_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,5),EFFECT_BULLET_LASER_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,6),EFFECT_BULLET_PLASMA_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,7),EFFECT_BULLET_MAGINC_MISSILE_TRAIL:new i.a("./asset/entity/bullet.albedo.png",.1,8),EFFECT_BULLET_DEATH_BOMB:new i.a("./asset/entity/bullet.albedo.png",.25,9),EFFECT_BLOOD_RED1:new i.a("./asset/entity/blood.albedo.png",.75,0),EFFECT_BLOOD_RED2:new i.a("./asset/entity/blood.albedo.png",.75,1),EFFECT_BLOOD_RED3:new i.a("./asset/entity/blood.albedo.png",.75,2),EFFECT_BLOOD_GREEN1:new i.a("./asset/entity/blood.albedo.png",.75,3),EFFECT_BLOOD_GREEN2:new i.a("./asset/entity/blood.albedo.png",.75,4),EFFECT_BLOOD_GREEN3:new i.a("./asset/entity/blood.albedo.png",.75,5),EFFECT_ACID_RED1:new i.a("./asset/entity/acid.albedo.png",.75,0),EFFECT_ACID_RED2:new i.a("./asset/entity/acid.albedo.png",.75,1),EFFECT_ACID_GREEN:new i.a("./asset/entity/acid.albedo.png",.75,2),EFFECT_ACID_BLUE:new i.a("./asset/entity/acid.albedo.png",.75,4),EFFECT_GIB1:new i.a("./asset/entity/gib.albedo.png",.25,0),EFFECT_GIB2:new i.a("./asset/entity/gib.albedo.png",.25,1),EFFECT_GIB3:new i.a("./asset/entity/gib.albedo.png",.25,2),EFFECT_GIB4:new i.a("./asset/entity/gib.albedo.png",.25,3),EFFECT_ICE_GIB1:new i.a("./asset/entity/gib.albedo.png",.25,4),EFFECT_ICE_GIB2:new i.a("./asset/entity/gib.albedo.png",.25,5),EFFECT_ICE_GIB3:new i.a("./asset/entity/gib.albedo.png",.25,6),EFFECT_ICE_GIB4:new i.a("./asset/entity/gib.albedo.png",.25,7),EFFECT_HIT_WALL1:new i.a("./asset/entity/hit.albedo.png",1,0),EFFECT_HIT_WALL2:new i.a("./asset/entity/hit.albedo.png",1,1),EFFECT_HIT_WALL3:new i.a("./asset/entity/hit.albedo.png",1,2),EFFECT_HIT_BLOOD1:new i.a("./asset/entity/hit.albedo.png",1,3),EFFECT_HIT_BLOOD2:new i.a("./asset/entity/hit.albedo.png",1,4),EFFECT_HIT_BLOOD3:new i.a("./asset/entity/hit.albedo.png",1,5),EFFECT_HEADSHOT1:new i.a("./asset/entity/ring.albedo.png",1,0),EFFECT_HEADSHOT2:new i.a("./asset/entity/ring.albedo.png",1,1),EFFECT_HEADSHOT3:new i.a("./asset/entity/ring.albedo.png",1,2),EFFECT_HEADSHOT4:new i.a("./asset/entity/ring.albedo.png",1,3),EFFECT_HEADSHOT5:new i.a("./asset/entity/ring.albedo.png",1,4),EFFECT_HEADSHOT6:new i.a("./asset/entity/ring.albedo.png",1,5),EFFECT_ARMORBREAK1:new i.a("./asset/entity/ring.albedo.png",1,6),EFFECT_ARMORBREAK2:new i.a("./asset/entity/ring.albedo.png",1,7),EFFECT_ARMORBREAK3:new i.a("./asset/entity/ring.albedo.png",1,8),EFFECT_ARMORBREAK4:new i.a("./asset/entity/ring.albedo.png",1,9),EFFECT_ARMORBREAK5:new i.a("./asset/entity/ring.albedo.png",1,10),EFFECT_ARMORBREAK6:new i.a("./asset/entity/ring.albedo.png",1,11),EFFECT_STUFF:new i.a("./asset/entity/stuff.albedo.png",1,0),EFFECT_SPARK_MISSILE1:new i.a("./asset/entity/spark.albedo.png",1,0),EFFECT_SPARK_MISSILE2:new i.a("./asset/entity/spark.albedo.png",1,1),EFFECT_SPARK_MISSILE3:new i.a("./asset/entity/spark.albedo.png",1,2),EFFECT_SPARK_MISSILE4:new i.a("./asset/entity/spark.albedo.png",1,3),EFFECT_DEFAULT_EXPLODE1:new i.a("./asset/entity/explode.albedo.png",1,0),EFFECT_DEFAULT_EXPLODE2:new i.a("./asset/entity/explode.albedo.png",1,1),EFFECT_DEFAULT_EXPLODE3:new i.a("./asset/entity/explode.albedo.png",1,2),EFFECT_DEFAULT_EXPLODE4:new i.a("./asset/entity/explode.albedo.png",1,3),EFFECT_DEFAULT_EXPLODE5:new i.a("./asset/entity/explode.albedo.png",1,4),EFFECT_DEFAULT_EXPLODE6:new i.a("./asset/entity/explode.albedo.png",1,5),EFFECT_DEFAULT_EXPLODE7:new i.a("./asset/entity/explode.albedo.png",1,6),EFFECT_DEFAULT_EXPLODE8:new i.a("./asset/entity/explode.albedo.png",1,7),EFFECT_DEFAULT_EXPLODE9:new i.a("./asset/entity/explode.albedo.png",1,8),EFFECT_DEFAULT_EXPLODE10:new i.a("./asset/entity/explode.albedo.png",1,9),EFFECT_DEFAULT_EXPLODE11:new i.a("./asset/entity/explode.albedo.png",1,10),EFFECT_DEFAULT_EXPLODE12:new i.a("./asset/entity/explode.albedo.png",1,11),EFFECT_DEFAULT_EXPLODE13:new i.a("./asset/entity/explode.albedo.png",1,12),EFFECT_DEFAULT_EXPLODE14:new i.a("./asset/entity/explode.albedo.png",1,13),EFFECT_CORROSIVE_EXPLODE1:new i.a("./asset/entity/explode.albedo.png",1,14),EFFECT_CORROSIVE_EXPLODE2:new i.a("./asset/entity/explode.albedo.png",1,15),EFFECT_CORROSIVE_EXPLODE3:new i.a("./asset/entity/explode.albedo.png",1,16),EFFECT_CORROSIVE_EXPLODE4:new i.a("./asset/entity/explode.albedo.png",1,17),EFFECT_CORROSIVE_EXPLODE5:new i.a("./asset/entity/explode.albedo.png",1,18),EFFECT_CORROSIVE_EXPLODE6:new i.a("./asset/entity/explode.albedo.png",1,19),EFFECT_CORROSIVE_EXPLODE7:new i.a("./asset/entity/explode.albedo.png",1,20),EFFECT_CORROSIVE_EXPLODE8:new i.a("./asset/entity/explode.albedo.png",1,21),EFFECT_CORROSIVE_EXPLODE9:new i.a("./asset/entity/explode.albedo.png",1,22),EFFECT_CORROSIVE_EXPLODE10:new i.a("./asset/entity/explode.albedo.png",1,23),EFFECT_CORROSIVE_EXPLODE11:new i.a("./asset/entity/explode.albedo.png",1,24),EFFECT_CORROSIVE_EXPLODE12:new i.a("./asset/entity/explode.albedo.png",1,25),EFFECT_CORROSIVE_EXPLODE13:new i.a("./asset/entity/explode.albedo.png",1,26),EFFECT_CORROSIVE_EXPLODE14:new i.a("./asset/entity/explode.albedo.png",1,27),EFFECT_FLAME1:new i.a("./asset/entity/flame.albedo.png",1,0),EFFECT_FLAME2:new i.a("./asset/entity/flame.albedo.png",1,1),EFFECT_FLAME3:new i.a("./asset/entity/flame.albedo.png",1,2),EFFECT_FLAME4:new i.a("./asset/entity/flame.albedo.png",1,3),EFFECT_FLAME5:new i.a("./asset/entity/flame.albedo.png",1,4),EFFECT_MUZZLE_FLASH_AMMO_1:new i.a("./asset/entity/muzzleflash.albedo.png",1,0),EFFECT_MUZZLE_FLASH_AMMO_2:new i.a("./asset/entity/muzzleflash.albedo.png",1,1),EFFECT_MUZZLE_FLASH_AMMO_3:new i.a("./asset/entity/muzzleflash.albedo.png",1,2),EFFECT_MUZZLE_FLASH_CELL_1:new i.a("./asset/entity/muzzleflash.albedo.png",1,3),EFFECT_MUZZLE_FLASH_CELL_2:new i.a("./asset/entity/muzzleflash.albedo.png",1,4),EFFECT_MUZZLE_FLASH_CELL_3:new i.a("./asset/entity/muzzleflash.albedo.png",1,5),EFFECT_MUZZLE_FLASH_HAVYCANNON1:new i.a("./asset/entity/muzzleflash.albedo.png",1,6),EFFECT_MUZZLE_FLASH_HAVYCANNON2:new i.a("./asset/entity/muzzleflash.albedo.png",1,7),EFFECT_MUZZLE_FLASH_HAVYCANNON3:new i.a("./asset/entity/muzzleflash.albedo.png",1,8),ENEMY_TARGET_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,0),ENEMY_TARGET_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,2),ENEMY_TARGET_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,3),ENEMY_TARGET_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,4),ENEMY_TARGET_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,5),ENEMY_GUY_PISTOL_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,6),ENEMY_GUY_PISTOL_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,7),ENEMY_GUY_PISTOL_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,8),ENEMY_GUY_PISTOL_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,9),ENEMY_GUY_PISTOL_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,10),ENEMY_GUY_PISTOL_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,11),ENEMY_GUY_SHOTGUN_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,12),ENEMY_GUY_SHOTGUN_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,13),ENEMY_GUY_SHOTGUN_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,14),ENEMY_GUY_SHOTGUN_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,15),ENEMY_GUY_SHOTGUN_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,16),ENEMY_GUY_SHOTGUN_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,17),ENEMY_GUY_MACHINGUN_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,18),ENEMY_GUY_MACHINGUN_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,19),ENEMY_GUY_MACHINGUN_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,20),ENEMY_GUY_MACHINGUN_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,21),ENEMY_GUY_MACHINGUN_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,22),ENEMY_GUY_MACHINGUN_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,23),ENEMY_GUY_MELEE_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,24),ENEMY_GUY_MELEE_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,25),ENEMY_GUY_MELEE_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,26),ENEMY_GUY_MELEE_BLOW:new i.a("./asset/entity/enemy-guy.albedo.png",1,27),ENEMY_GUY_MELEE_DOWN:new i.a("./asset/entity/enemy-guy.albedo.png",1,28),ENEMY_GUY_MELEE_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,29),ENEMY_GUY_PISTOL_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,30),ENEMY_GUY_PISTOL_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,31),ENEMY_GUY_PISTOL_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,32),ENEMY_GUY_PISTOL_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,35),ENEMY_GUY_SHOTGUN_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,36),ENEMY_GUY_SHOTGUN_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,37),ENEMY_GUY_SHOTGUN_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,38),ENEMY_GUY_SHOTGUN_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,41),ENEMY_GUY_MACHINGUN_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,42),ENEMY_GUY_MACHINGUN_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,43),ENEMY_GUY_MACHINGUN_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,44),ENEMY_GUY_MACHINGUN_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,47),ENEMY_GUY_MELEE_ARMOR_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,48),ENEMY_GUY_MELEE_ARMOR_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,49),ENEMY_GUY_MELEE_ARMOR_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,50),ENEMY_GUY_MELEE_ARMOR_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,53),ENEMY_GUY_MISSILE_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,54),ENEMY_GUY_MISSILE_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,55),ENEMY_GUY_MISSILE_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,56),ENEMY_GUY_MISSILE_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,59),ENEMY_TANK_BALL_STILL:new i.a("./asset/entity/enemy-guy.albedo.png",1,60),ENEMY_TANK_BALL_AIM:new i.a("./asset/entity/enemy-guy.albedo.png",1,61),ENEMY_TANK_BALL_PAIN:new i.a("./asset/entity/enemy-guy.albedo.png",1,62),ENEMY_TANK_BALL_FREEZE:new i.a("./asset/entity/enemy-guy.albedo.png",1,65),ENEMY_GUY_HELMET_STILL:new i.a("./asset/entity/helmet.albedo.png",1,0),ENEMY_GUY_HELMET_PAIN:new i.a("./asset/entity/helmet.albedo.png",1,1),ENEMY_GUY_ARMOR_HELMET:new i.a("./asset/entity/enemy-armor.albedo.png",1,0),ENEMY_GUY_ARMOR_SHOULDER:new i.a("./asset/entity/enemy-armor.albedo.png",1,1),ENEMY_GUY_ARMOR_ARM:new i.a("./asset/entity/enemy-armor.albedo.png",1,2),ENEMY_GUY_ARMOR_BODY:new i.a("./asset/entity/enemy-armor.albedo.png",1,3),ENEMY_GUY_ARMOR_WAIST:new i.a("./asset/entity/enemy-armor.albedo.png",1,4),OBJECT_SHOP:new i.a("./asset/entity/object.albedo.png",1,0),OBJECT_SHOP_SALE:new i.a("./asset/entity/object.albedo.png",1,1),OBJECT_EDITOR:new i.a("./asset/entity/object.albedo.png",1,2),OBJECT_DRUM:new i.a("./asset/entity/object.albedo.png",1,3),OBJECT_CHECKPOINT_DISABLE:new i.a("./asset/entity/checkpoint.albedo.png",1,0),OBJECT_CHECKPOINT_ACTIVE:new i.a("./asset/entity/checkpoint.albedo.png",1,1),OBJECT_SPAWNER_HEALTH:new i.a("./asset/entity/spawner.albedo.png",1,0),OBJECT_SPAWNER_ARMOR:new i.a("./asset/entity/spawner.albedo.png",1,1),OBJECT_SPAWNER_AMMO:new i.a("./asset/entity/spawner.albedo.png",1,2),OBJECT_SPAWNER_OTHER:new i.a("./asset/entity/spawner.albedo.png",1,3),EFFECT_SPAWNER_GAUGE1:new i.a("./asset/entity/gauge.albedo.png",1,0),EFFECT_SPAWNER_GAUGE2:new i.a("./asset/entity/gauge.albedo.png",1,1),EFFECT_SPAWNER_GAUGE3:new i.a("./asset/entity/gauge.albedo.png",1,2),EFFECT_SPAWNER_GAUGE4:new i.a("./asset/entity/gauge.albedo.png",1,3),EFFECT_SPAWNER_GAUGE5:new i.a("./asset/entity/gauge.albedo.png",1,4),EFFECT_SPAWNER_GAUGE6:new i.a("./asset/entity/gauge.albedo.png",1,5),EFFECT_SPAWNER_GAUGE7:new i.a("./asset/entity/gauge.albedo.png",1,6),EFFECT_SPAWNER_GAUGE8:new i.a("./asset/entity/gauge.albedo.png",1,7),EFFECT_SPAWNER_GAUGE9:new i.a("./asset/entity/gauge.albedo.png",1,8),EFFECT_SPAWNER_GAUGE10:new i.a("./asset/entity/gauge.albedo.png",1,9),EFFECT_SPAWNER_GAUGE11:new i.a("./asset/entity/gauge.albedo.png",1,10),EFFECT_SPAWNER_GAUGE12:new i.a("./asset/entity/gauge.albedo.png",1,11),EFFECT_SPAWNER_GAUGE13:new i.a("./asset/entity/gauge.albedo.png",1,12),EFFECT_SPAWNER_GAUGE14:new i.a("./asset/entity/gauge.albedo.png",1,13),EFFECT_SPAWNER_GAUGE15:new i.a("./asset/entity/gauge.albedo.png",1,14),EFFECT_SPAWNER_GAUGE16:new i.a("./asset/entity/gauge.albedo.png",1,15),ITEM_MEAT_STIM:new i.a("./asset/entity/meat.albedo.png",1,0),ITEM_MEAT_MEDIKIT:new i.a("./asset/entity/meat.albedo.png",1,1),ITEM_MEAT_ELIXIR:new i.a("./asset/entity/meat.albedo.png",1,2),ITEM_HEALTH_ELIXIR:new i.a("./asset/entity/health.albedo.png",1,2),ITEM_ARMOR_ELIXIR:new i.a("./asset/entity/armor.albedo.png",1,0),ITEM_ENERGY_ELIXIR:new i.a("./asset/entity/stamina.albedo.png",1,0),ITEM_AMMO_CLIP:new i.a("./asset/entity/ammo.albedo.png",1,0),ITEM_AMMO_MAGAZINE:new i.a("./asset/entity/ammo.albedo.png",1,1),ITEM_AMMO_SHELL:new i.a("./asset/entity/ammo.albedo.png",1,2),ITEM_AMMO_ROCKET:new i.a("./asset/entity/ammo.albedo.png",1,3),ITEM_AMMO_CELL:new i.a("./asset/entity/ammo.albedo.png",1,4),ITEM_WEAPON_PUNCH:new i.a("./asset/entity/weapon.albedo.png",1,0),ITEM_WEAPON_SLOWBALL:new i.a("./asset/entity/weapon.albedo.png",1,6),ITEM_WEAPON_BINOCULARS:new i.a("./asset/entity/weapon.albedo.png",1,12),ITEM_WEAPON_ENERGYSHIELD:new i.a("./asset/entity/weapon.albedo.png",1,18),ITEM_WEAPON_COMBOBOOSTER:new i.a("./asset/entity/weapon.albedo.png",1,24),ITEM_WEAPON_FROZEN_GRENADE:new i.a("./asset/entity/weapon.albedo.png",1,30),ITEM_WEAPON_HOOKSHOT:new i.a("./asset/entity/weapon.albedo.png",1,36),ITEM_WEAPON_PISTOL:new i.a("./asset/entity/weapon.albedo.png",1,1),ITEM_WEAPON_HANDCANNON:new i.a("./asset/entity/weapon.albedo.png",1,7),ITEM_WEAPON_MACHINGUN:new i.a("./asset/entity/weapon.albedo.png",1,2),ITEM_WEAPON_CHAINSHOTGUN:new i.a("./asset/entity/weapon.albedo.png",1,8),ITEM_WEAPON_SHOTGUN:new i.a("./asset/entity/weapon.albedo.png",1,3),ITEM_WEAPON_HEAVYCANNON:new i.a("./asset/entity/weapon.albedo.png",1,9),ITEM_WEAPON_LAUNCHER:new i.a("./asset/entity/weapon.albedo.png",1,4),ITEM_WEAPON_CLUSTERBOW:new i.a("./asset/entity/weapon.albedo.png",1,10),ITEM_WEAPON_PLASMAGUN:new i.a("./asset/entity/weapon.albedo.png",1,5),ITEM_WEAPON_PLASMASMG:new i.a("./asset/entity/weapon.albedo.png",1,11),ITEM_KEY_RED:new i.a("./asset/entity/key.albedo.png",1,0),ITEM_KEY_BLUE:new i.a("./asset/entity/key.albedo.png",1,1),ITEM_KEY_YELLOW:new i.a("./asset/entity/key.albedo.png",1,2),ITEM_KEY_RANDOM:new i.a("./asset/entity/key.albedo.png",1,3)},m=(g.EFFECT_FLAME1,g.EFFECT_FLAME2,g.EFFECT_FLAME3,g.EFFECT_FLAME4,g.EFFECT_FLAME5,g.NONE,g.METAL_DOOR_DEFAULT,g.METAL_DOOR_RED,g.METAL_DOOR_BLUE,g.METAL_DOOR_YELLOW,g.METAL_GOLE,g.METAL_SECRET,g.METAL_GRAB,g.METAL_ASSIST_GRAB,g.METAL_WALLRUN,g.METAL_DOOR_SLIDING,g.METAL_IMPORTANT,g.METAL_EDIT_ZONE,g.METAL_EDIT_BLOCK,g.METAL_TILE1,g.METAL_TILE2,g.METAL_TILE3,g.METAL_TILE4,g.METAL_TILE5,g.METAL_TILE6,g.METAL_TILE7,g.NONE,g.RUINS_DOOR_DEFAULT,g.RUINS_DOOR_RED,g.RUINS_DOOR_BLUE,g.RUINS_DOOR_YELLOW,g.RUINS_GOLE,g.RUINS_SECRET,g.RUINS_GRAB,g.RUINS_ASSIST_GRAB,g.RUINS_WALLRUN,g.NONE,g.NONE,g.RUINS_EDIT_ZONE,g.RUINS_EDIT_BLOCK,g.RUINS_TILE1,g.RUINS_TILE2,g.RUINS_TILE3,g.NONE,g.NONE,g.NONE,g.NONE,new a.a(.5,.5,.5,"NONE","NONE","NONE","NONE","NONE","NONE"));new a.a(.5,.5,.5,"WALL","WALL","WALL","WALL","CEIL","FLOOR"),new a.a(.5,.5,.5,"DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT","DOOR_DEFAULT"),new a.a(.5,.5,.5,"DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED","DOOR_RED"),new a.a(.5,.5,.5,"DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE","DOOR_BLUE"),new a.a(.5,.5,.5,"DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW","DOOR_YELLOW"),new a.a(.5,.5,.5,"EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK","EDIT_BLOCK");const y={PROJEKT:new c.a([1,0,0]),MATCHA:new c.a([0,1,0]),NAKUKORONI:new c.a([0,0,1]),PIKAPIKA:new c.a([1,1,0]),TOTTOKO:new c.a([1,.5,0]),LATEL:new c.a([1,0,1])};s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>o,b:()=>a,c:()=>r});n(1),n(2);const s=new WeakMap,i=new WeakMap;function r(e,t,n){s.has(e)||s.set(e,{});const i=s.get(e)||null;null!==i&&i[t]!==n&&(e.style[t]=n,i[t]=n)}function a(e,t){for(const n in t)r(e,n,t[n])}function o(e,t){(i.get(e)||null)!==t&&(e.innerHTML=t,i.set(e,t))}},(e,t,n)=>{"use strict";n.d(t,{a:()=>A,b:()=>M,c:()=>k,d:()=>O,e:()=>x,f:()=>T,g:()=>S,h:()=>E,i:()=>P});n(1),n(2),n(15),n(20),n(21),n(11);var s=n(38),i=n(24),r=n(6),a=n(39),o=n(5),l=n(22);let c=!1,u=!1,h=!1,d=!1;const f=new Array,p=new r.b(0,0),g=new Array,m=new Array;let y=!1,b=1,v=-1;const w=()=>{-1===v&&(v=setTimeout((()=>{v=-1;const[e,t]=O();b=self.devicePixelRatio,g.forEach((e=>e.call(null))),s.h.postMessage({method:"resolution",width:e,height:t}),s.h.postMessage({method:"pixel-ratio",value:self.devicePixelRatio})}),100))};if((0,i.c)())(0,o.b)(s.h,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"resolution":p.x=t.width,p.y=t.height;break;case"pixel-ratio":b=t.value;break;case"focusChange":y=t.value;break;case"browser":h=t.value;break;case"hack":c=t.value;break;case"electron":u=t.value;break;case"success":f.includes(t.key)&&f.splice(f.indexOf(t.key),1)}}));else{function L(){if((0,o.b)((0,l.f)(),"resize",w),(0,o.b)((0,l.f)(),"fullscreenchange",w),(0,o.b)((0,l.f)(),"fullscreenerror",w),(0,o.b)((0,l.f)(),"blur",w),(0,o.b)((0,l.f)(),"focus",w),(0,o.b)((0,l.f)(),"orientationchange",w),"electron"in self&&(0,o.b)(self.electron,"focuschange",(e=>_(e.value))),(0,o.b)((0,l.f)(),"focus",(()=>_(!1))),(0,o.b)((0,l.f)(),"blur",(()=>_(!0))),(0,o.b)((0,l.f)(),"mousemove",(()=>_(!1))),document.body)w();else{const e=()=>{(0,o.d)((0,l.f)(),"load",e),w()};(0,o.b)((0,l.f)(),"load",e)}}(0,o.b)(s.h,"message",(async e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"blur":y=t.value;break;case"exec":await(t.value?P():k()),s.h.postMessage({method:"success",key:t.key})}})),(0,o.b)(document,"fullscreenchange",(()=>{h=!!document.fullscreenElement,s.h.postMessage({method:"browser",value:h})})),L()}function E(e){m.includes(e)||m.push(e)}function _(e){y!==e&&(y=e,m.forEach((e=>e(y))),s.h.postMessage({method:"blur",value:e}))}function x(){return("electron"in self&&self.electron.hasBlur()||y)&&!(0,i.b)()}function M(){y=!1}function O(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{x:n,y:s}=(0,i.c)()?p:new r.b(self.document.body.offsetWidth,self.document.body.offsetHeight);return[Math.floor(n*(e?b:1)),Math.floor(s/(t&&n<s?2:1)*(e?b:1))]}function A(){const e=T();c!==e&&(s.h.postMessage({method:"hack",value:e}),c=e)}function S(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.c)()?f.length>0?d:(0,i.a)()?u:e?h||c:h:(0,i.a)()?u:null!==document.fullscreenElement||!!e&&T()}function T(){return(0,i.c)()?c:self.innerHeight>=self.outerHeight||self.innerHeight>=self.outerWidth}function P(){const e=async t=>{if((0,i.c)()){const n=(0,a.a)(),r=e=>{const{data:i}=e;if(i instanceof Object&&i.key===n&&"success"===i.method)f.includes(i.key)&&f.splice(f.indexOf(i.key),1),(0,o.d)(s.h,"message",r),t(null)};d=!0,f.push(n),(0,o.b)(s.h,"message",r),s.h.postMessage({method:"exec",value:!0,key:n})}else if("electron"in self)u||(self.electron.setFullscreen(!0),u=!0,self.dispatchEvent(new UIEvent("resize")),s.h.postMessage({method:"electron",value:u})),t(null);else if(S(!(0,i.a)()))t(null);else if(null!==document.body){function c(){s.h.postMessage({method:"browser",value:S()}),t(null)}document.body.requestFullscreen().then(c).catch(c)}else{const h=()=>{(0,o.d)((0,l.f)(),"load",h),e(t)};(0,o.b)((0,l.f)(),"load",h)}};return new Promise(e)}async function k(){(0,i.c)()?await new Promise((e=>{const t=(0,a.a)(),n=i=>{const{data:r}=i;if(r instanceof Object&&r.key===t&&"success"===r.method)f.includes(r.key)&&f.splice(f.indexOf(r.key),1),(0,o.d)(s.h,"message",n),e(null)};d=!1,f.push(t),(0,o.b)(s.h,"message",n),s.h.postMessage({method:"exec",value:!1,key:t})})):S(!(0,i.a)())&&((0,i.a)()?u&&("electron"in self&&self.electron.setFullscreen(!1),u=!1,self.dispatchEvent(new UIEvent("resize")),s.h.postMessage({method:"electron",value:u})):S(!1)&&await document.exitFullscreen())}},(e,t,n)=>{"use strict";n.d(t,{a:()=>c,b:()=>u});n(11),n(1),n(2);var s=n(24),i=n(5),r=n(38),a=n(30);const o=new Array;async function l(){await Promise.all(o.map((e=>e())).filter((e=>e instanceof Promise))),(0,a.a)(o)}function c(e){document.body?setTimeout((()=>o.push(e))):document.addEventListener("DOMContentLoaded",(()=>o.push(e)),!1)}function u(e){if((0,s.c)())o.push(e);else{function t(e){const t=e();t instanceof Promise&&t.catch((e=>{throw e})).then((()=>{r.e.postMessage({method:"ready"}),l()}))}if(document.body)t(e);else{const n=()=>{(0,i.d)(document,"DOMContentLoaded",n),t(e)};(0,i.b)(document,"DOMContentLoaded",n)}}}(0,s.c)()&&(0,i.b)(r.e,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"ready"===t.method)l()}))},(e,t,n)=>{var s=n(114);e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,n)=>{var s=n(67),i=n(3);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&s&&s<41}))},(e,t,n)=>{var s=n(13),i=n(3),r=n(68);e.exports=!s&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var s=n(13),i=n(3);e.exports=s&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,n)=>{var s=n(3),i=n(7),r=n(14),a=n(13),o=n(69).CONFIGURABLE,l=n(70),c=n(28),u=c.enforce,h=c.get,d=Object.defineProperty,f=a&&!s((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){if("Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||o&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),f&&n&&r(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity}),n&&r(n,"constructor")&&n.constructor){if(a)try{d(e,"prototype",{writable:!1})}catch(e){}}else e.prototype=void 0;var s=u(e);return r(s,"source")||(s.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&h(this).source||l(this)}),"toString")},(e,t,n)=>{var s=n(14),i=n(172),r=n(87),a=n(18);e.exports=function(e,t,n){for(var o=i(t),l=a.f,c=r.f,u=0;u<o.length;u++){var h=o[u];s(e,h)||n&&s(n,h)||l(e,h,c(t,h))}}},(e,t,n)=>{var s=n(4),i=n(14),r=n(53),a=n(120).indexOf,o=n(94),l=s([].push);e.exports=function(e,t){var n,s=r(e),c=0,u=[];for(n in s)!i(o,n)&&i(s,n)&&l(u,n);for(;t.length>c;)i(s,n=t[c++])&&(~a(u,n)||l(u,n));return u}},(e,t,n)=>{var s=n(53),i=n(71),r=n(33),a=function(e){return function(t,n,a){var o,l=s(t),c=r(l),u=i(a,c);if(e&&n!=n){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},(e,t,n)=>{var s=n(0),i=n(98),r=n(54),a=s.TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a constructor")}},(e,t,n)=>{var s=n(32);e.exports=s("document","documentElement")},(e,t,n)=>{var s=n(4);e.exports=s([].slice)},(e,t,n)=>{var s=n(41);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},(e,t,n)=>{var s,i,r,a,o,l,c,u,h=n(0),d=n(37),f=n(87).f,p=n(74).set,g=n(124),m=n(176),y=n(177),b=n(55),v=h.MutationObserver||h.WebKitMutationObserver,w=h.document,E=h.process,_=h.Promise,x=f(h,"queueMicrotask"),M=x&&x.value;M||(s=function(){var e,t;for(b&&(e=E.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():r=void 0,e}}r=void 0,e&&e.enter()},g||b||y||!v||!w?!m&&_&&_.resolve?((c=_.resolve(void 0)).constructor=_,u=d(c.then,c),a=function(){u(s)}):b?a=function(){E.nextTick(s)}:(p=d(p,h),a=function(){p(s)}):(o=!0,l=w.createTextNode(""),new v(s).observe(l,{characterData:!0}),a=function(){l.data=o=!o})),e.exports=M||function(e){var t={fn:e,next:void 0};r&&(r.next=t),i||(i=t,a()),r=t}},(e,t,n)=>{var s=n(0),i=n(37),r=n(8),a=n(12),o=n(54),l=n(100),c=n(33),u=n(35),h=n(78),d=n(59),f=n(127),p=s.TypeError,g=function(e,t){this.stopped=e,this.result=t},m=g.prototype;e.exports=function(e,t,n){var s,y,b,v,w,E,_,x=n&&n.that,M=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),S=i(t,x),T=function(e){return s&&f(s,"normal",e),new g(!0,e)},P=function(e){return M?(a(e),A?S(e[0],e[1],T):S(e[0],e[1])):A?S(e,T):S(e)};if(O)s=e;else{if(!(y=d(e)))throw p(o(e)+" is not iterable");if(l(y)){for(b=0,v=c(e);v>b;b++)if((w=P(e[b]))&&u(m,w))return w;return new g(!1)}s=h(e,y)}for(E=s.next;!(_=r(E,s)).done;){try{w=P(_.value)}catch(e){f(s,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new g(!1)}},(e,t,n)=>{var s=n(8),i=n(12),r=n(45);e.exports=function(e,t,n){var a,o;i(e);try{if(!(a=r(e,"return"))){if("throw"===t)throw n;return n}a=s(a,e)}catch(e){o=!0,a=e}if("throw"===t)throw n;if(o)throw a;return i(a),n}},(e,t,n)=>{var s=n(49),i=n(129),r=n(57).CONSTRUCTOR;e.exports=r||!i((function(e){s.all(e).then(void 0,(function(){}))}))},(e,t,n)=>{var s=n(9)("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[s]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[s]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},(e,t,n)=>{var s=n(12),i=n(16),r=n(77);e.exports=function(e,t){if(s(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},(e,t,n)=>{var s=n(9),i=n(50),r=n(18),a=s("unscopables"),o=Array.prototype;null==o[a]&&r.f(o,a,{configurable:!0,value:i(null)}),e.exports=function(e){o[a][e]=!0}},(e,t,n)=>{var s=n(119),i=n(96);e.exports=Object.keys||function(e){return s(e,i)}},(e,t,n)=>{"use strict";var s=n(10),i=n(8),r=n(26),a=n(69),o=n(7),l=n(134),c=n(79),u=n(46),h=n(47),d=n(23),f=n(19),p=n(9),g=n(58),m=n(135),y=a.PROPER,b=a.CONFIGURABLE,v=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),_="keys",x="values",M="entries",O=function(){return this};e.exports=function(e,t,n,a,p,m,A){l(n,t,a);var S,T,P,k=function(e){if(e===p&&F)return F;if(!w&&e in R)return R[e];switch(e){case _:case x:case M:return function(){return new n(this,e)}}return function(){return new n(this)}},L=t+" Iterator",C=!1,R=e.prototype,I=R[E]||R["@@iterator"]||p&&R[p],F=!w&&I||k(p),N="Array"==t&&R.entries||I;if(N&&(S=c(N.call(new e)))!==Object.prototype&&S.next&&(r||c(S)===v||(u?u(S,v):o(S[E])||f(S,E,O)),h(S,L,!0,!0),r&&(g[L]=O)),y&&p==x&&I&&I.name!==x&&(!r&&b?d(R,"name",x):(C=!0,F=function(){return i(I,this)})),p)if(T={values:k(x),keys:m?F:k(_),entries:k(M)},A)for(P in T)(w||C||!(P in R))&&f(R,P,T[P]);else s({target:t,proto:!0,forced:w||C},T);return r&&!A||R[E]===F||f(R,E,F,{name:p}),g[t]=F,T}},(e,t,n)=>{"use strict";var s=n(135).IteratorPrototype,i=n(50),r=n(43),a=n(47),o=n(58),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=i(s,{next:r(+!c,n)}),a(e,u,!1,!0),o[u]=l,e}},(e,t,n)=>{"use strict";var s,i,r,a=n(3),o=n(7),l=n(50),c=n(79),u=n(19),h=n(9),d=n(26),f=h("iterator"),p=!1;[].keys&&("next"in(r=[].keys())?(i=c(c(r)))!==Object.prototype&&(s=i):p=!0),null==s||a((function(){var e={};return s[f].call(e)!==e}))?s={}:d&&(s=l(s)),o(s[f])||u(s,f,(function(){return this})),e.exports={IteratorPrototype:s,BUGGY_SAFARI_ITERATORS:p}},e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(e,t,n)=>{var s=n(68)("span").classList,i=s&&s.constructor&&s.constructor.prototype;e.exports=i===Object.prototype?void 0:i},(e,t,n)=>{var s=n(37),i=n(4),r=n(65),a=n(27),o=n(33),l=n(187),c=i([].push),u=function(e){var t=1==e,n=2==e,i=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,g,m,y){for(var b,v,w=a(p),E=r(w),_=s(g,m),x=o(E),M=0,O=y||l,A=t?O(p,x):n||d?O(p,0):void 0;x>M;M++)if((f||M in E)&&(v=_(b=E[M],M,w),e))if(t)A[M]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return M;case 2:c(A,b)}else switch(e){case 4:return!1;case 7:c(A,b)}return h?-1:i||u?u:A}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},(e,t,n)=>{"use strict";var s=n(3);e.exports=function(e,t){var n=[][e];return!!n&&s((function(){n.call(null,t||function(){return 1},1)}))}},(e,t,n)=>{"use strict";var s=n(12);e.exports=function(){var e=s(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},(e,t,n)=>{var s=n(3),i=n(0).RegExp;e.exports=s((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},(e,t,n)=>{var s=n(3),i=n(0).RegExp;e.exports=s((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,n)=>{var s=n(19);e.exports=function(e,t,n){for(var i in t)s(e,i,t[i],n);return e}},(e,t,n)=>{var s=n(0),i=n(42),r=n(36),a=s.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw a("Wrong length or index");return n}},(e,t,n)=>{"use strict";var s=n(66),i=n(18),r=n(43);e.exports=function(e,t,n){var a=s(t);a in e?i.f(e,a,r(0,n)):e[a]=n}},(e,t,n)=>{n(31)("Uint8",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{var s=n(0),i=n(196),r=s.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw r("Wrong offset");return n}},(e,t,n)=>{var s=n(7),i=n(16),r=n(46);e.exports=function(e,t,n){var a,o;return r&&s(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},(e,t,n)=>{var s=n(82),i=Math.floor,r=function(e,t){var n=e.length,l=i(n/2);return n<8?a(e,t):o(e,r(s(e,0,l),t),r(s(e,l),t),t)},a=function(e,t){for(var n,s,i=e.length,r=1;r<i;){for(s=r,n=e[r];s&&t(e[s-1],n)>0;)e[s]=e[--s];s!==r++&&(e[s]=n)}return e},o=function(e,t,n,s){for(var i=t.length,r=n.length,a=0,o=0;a<i||o<r;)e[a+o]=a<i&&o<r?s(t[a],n[o])<=0?t[a++]:n[o++]:a<i?t[a++]:n[o++];return e};e.exports=r},(e,t,n)=>{"use strict";n.d(t,{a:()=>c,b:()=>o,c:()=>l});n(1),n(2),n(15),n(20),n(21),n(11);var s=n(83);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r=new Map,a=new Array;function o(e){const t=new Array;return e.forEach((e=>t.push(...e.getUrls()))),t}function l(e){document.head.append(...e.filter((e=>!a.includes(e)&&(a.push(e),!0))).map((e=>{const t=document.createElement("link");return t.setAttribute("href",e),t.setAttribute("rel","preload"),t.setAttribute("as","fetch"),t.setAttribute("crossorigin","crossorigin"),t})))}class c{constructor(){i(this,"urls",void 0),i(this,"datas",Array()),i(this,"locations",new Array),i(this,"isTransfer",!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.urls=t}async load(){this.datas.length>0||this.datas.push(...await Promise.all(this.urls.map((async e=>(r.has(e)||r.set(e,(await(0,s.a)(e)).source),r.get(e))))))}getUrls(){return this.urls}getDatas(){return this.datas}getLocations(){return this.locations}hasTransfer(){return this.isTransfer}createTransferData(){const{urls:e,locations:t}=this;return this.isTransfer=!0,{urls:e,locations:t}}}},(e,t,n)=>{n(236)},(e,t,n)=>{var s=n(3),i=n(9),r=n(26),a=i("iterator");e.exports=!s((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,s){t.delete("b"),n+=s+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},(e,t,n)=>{"use strict";n(1);var s=n(10),i=n(0),r=n(8),a=n(4),o=n(13),l=n(153),c=n(19),u=n(144),h=n(47),d=n(134),f=n(28),p=n(56),g=n(7),m=n(14),y=n(37),b=n(48),v=n(12),w=n(16),E=n(17),_=n(50),x=n(43),M=n(78),O=n(59),A=n(76),S=n(9),T=n(150),P=S("iterator"),k="URLSearchParams",L="URLSearchParamsIterator",C=f.set,R=f.getterFor(k),I=f.getterFor(L),F=Object.getOwnPropertyDescriptor,N=function(e){if(!o)return i[e];var t=F(i,e);return t&&t.value},D=N("fetch"),U=N("Request"),B=N("Headers"),z=U&&U.prototype,j=B&&B.prototype,G=i.RegExp,H=i.TypeError,W=i.decodeURIComponent,Y=i.encodeURIComponent,V=a("".charAt),q=a([].join),X=a([].push),K=a("".replace),Z=a([].shift),J=a([].splice),$=a("".split),Q=a("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=G("((?:%[\\da-f]{2}){"+e+"})","gi"))},se=function(e){try{return W(e)}catch(t){return e}},ie=function(e){var t=K(e,ee," "),n=4;try{return W(t)}catch(e){for(;n;)t=K(t,ne(n--),se);return t}},re=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return ae[e]},le=function(e){return K(Y(e),re,oe)},ce=d((function(e,t){C(this,{type:L,iterator:M(R(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,n=e.iterator.next(),s=n.value;return n.done||(n.value="keys"===t?s.key:"values"===t?s.value:[s.key,s.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===V(e,0)?Q(e,1):e:E(e)))};ue.prototype={type:k,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,s,i,a,o,l,c=O(e);if(c)for(n=(t=M(e,c)).next;!(s=r(n,t)).done;){if(a=(i=M(v(s.value))).next,(o=r(a,i)).done||(l=r(a,i)).done||!r(a,i).done)throw H("Expected sequence with length 2");X(this.entries,{key:E(o.value),value:E(l.value)})}else for(var u in e)m(e,u)&&X(this.entries,{key:u,value:E(e[u])})},parseQuery:function(e){if(e)for(var t,n,s=$(e,"&"),i=0;i<s.length;)(t=s[i++]).length&&(n=$(t,"="),X(this.entries,{key:ie(Z(n)),value:ie(q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],s=0;s<t.length;)e=t[s++],X(n,le(e.key)+"="+le(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;C(this,new ue(e))},de=he.prototype;if(u(de,{append:function(e,t){A(arguments.length,2);var n=R(this);X(n.entries,{key:E(e),value:E(t)}),n.updateURL()},delete:function(e){A(arguments.length,1);for(var t=R(this),n=t.entries,s=E(e),i=0;i<n.length;)n[i].key===s?J(n,i,1):i++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=R(this).entries,n=E(e),s=0;s<t.length;s++)if(t[s].key===n)return t[s].value;return null},getAll:function(e){A(arguments.length,1);for(var t=R(this).entries,n=E(e),s=[],i=0;i<t.length;i++)t[i].key===n&&X(s,t[i].value);return s},has:function(e){A(arguments.length,1);for(var t=R(this).entries,n=E(e),s=0;s<t.length;)if(t[s++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,s=R(this),i=s.entries,r=!1,a=E(e),o=E(t),l=0;l<i.length;l++)(n=i[l]).key===a&&(r?J(i,l--,1):(r=!0,n.value=o));r||X(i,{key:a,value:o}),s.updateURL()},sort:function(){var e=R(this);T(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=R(this).entries,s=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)s((t=n[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,P,de.entries,{name:"entries"}),c(de,"toString",(function(){return R(this).serialize()}),{enumerable:!0}),h(he,k),s({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&g(B)){var fe=a(j.has),pe=a(j.set),ge=function(e){if(w(e)){var t,n=e.body;if(b(n)===k)return t=e.headers?new B(e.headers):new B,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:x(0,E(n)),headers:x(0,t)})}return e};if(g(D)&&s({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?ge(arguments[1]):{})}}),g(U)){var me=function(e){return p(this,z),new U(e,arguments.length>1?ge(arguments[1]):{})};z.constructor=me,me.prototype=z,s({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:he,getState:R}},(e,t,n)=>{n(154)},(e,t,n)=>{var s=n(8),i=n(14),r=n(35),a=n(140),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||i(e,"flags")||!r(o,e)?t:s(a,e)}},(e,t,n)=>{"use strict";var s=n(69).PROPER,i=n(19),r=n(12),a=n(17),o=n(3),l=n(156),c="toString",u=RegExp.prototype.toString,h=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=s&&u.name!=c;(h||d)&&i(RegExp.prototype,c,(function(){var e=r(this);return"/"+a(e.source)+"/"+a(l(e))}),{unsafe:!0})},(e,t,n)=>{"use strict";var s=n(8),i=n(104),r=n(12),a=n(36),o=n(17),l=n(34),c=n(45),u=n(105),h=n(107);i("match",(function(e,t,n){return[function(t){var n=l(this),i=null==t?void 0:c(t,e);return i?s(i,t,n):new RegExp(t)[e](o(n))},function(e){var s=r(this),i=o(e),l=n(t,s,i);if(l.done)return l.value;if(!s.global)return h(s,i);var c=s.unicode;s.lastIndex=0;for(var d,f=[],p=0;null!==(d=h(s,i));){var g=o(d[0]);f[p]=g,""===g&&(s.lastIndex=u(i,a(s.lastIndex),c)),p++}return 0===p?null:f}]}))},(e,t,n)=>{"use strict";var s=n(75),i=n(8),r=n(4),a=n(104),o=n(101),l=n(12),c=n(34),u=n(73),h=n(105),d=n(36),f=n(17),p=n(45),g=n(82),m=n(107),y=n(80),b=n(102),v=n(3),w=b.UNSUPPORTED_Y,E=4294967295,_=Math.min,x=[].push,M=r(/./.exec),O=r(x),A=r("".slice);a("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=f(c(this)),a=void 0===n?E:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!o(e))return i(t,r,e,a);for(var l,u,h,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,b=new RegExp(e.source,p+"g");(l=i(y,b,r))&&!((u=b.lastIndex)>m&&(O(d,A(r,m,l.index)),l.length>1&&l.index<r.length&&s(x,d,g(l,1)),h=l[0].length,m=u,d.length>=a));)b.lastIndex===l.index&&b.lastIndex++;return m===r.length?!h&&M(b,"")||O(d,""):O(d,A(r,m)),d.length>a?g(d,0,a):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var s=c(this),a=null==t?void 0:p(t,e);return a?i(a,t,s,n):i(r,f(s),t,n)},function(e,s){var i=l(this),a=f(e),o=n(r,i,a,s,r!==t);if(o.done)return o.value;var c=u(i,RegExp),p=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(w?"g":"y"),y=new c(w?"^(?:"+i.source+")":i,g),b=void 0===s?E:s>>>0;if(0===b)return[];if(0===a.length)return null===m(y,a)?[a]:[];for(var v=0,x=0,M=[];x<a.length;){y.lastIndex=w?0:x;var S,T=m(y,w?A(a,x):a);if(null===T||(S=_(d(y.lastIndex+(w?x:0)),a.length))===v)x=h(a,x,p);else{if(O(M,A(a,v,x)),M.length===b)return M;for(var P=1;P<=T.length-1;P++)if(O(M,T[P]),M.length===b)return M;x=v=S}}return O(M,A(a,v)),M}]}),!!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>o});n(11);var i=n(84),r=n(83),a=e([i]);async function o(e){if("string"==typeof e){if("createImageBitmap"in self){const t=(await(0,r.a)(e,"blob")).source;return await self.createImageBitmap(t)}if("Image"in self){if(Image.prototype.decode){const e=new Image;return await e.decode(),e}return await new Promise((t=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=()=>{throw new Error("Not found image to ".concat(e))},n.src=e}))}}else{if(0===e.width||0===e.height)return null;if("OffscreenCanvas"in self&&e instanceof self.OffscreenCanvas)return e.transferToImageBitmap();if("HTMLCanvasElement"in self&&e instanceof self.HTMLCanvasElement){const t=await new Promise((t=>{e.toBlob((e=>{e instanceof Blob&&t(e)}))}));return await self.createImageBitmap(t)}}return null}const l=(0,(i=(a.then?(await a)():a)[0]).a)(0,0);l.getContext("2d");s()}catch(c){s(c)}}))},(e,t,n)=>{var s=n(10),i=n(213);s({global:!0,forced:parseInt!=i},{parseInt:i})},e=>{e.exports="\t\n\v\f\r  \u2028\u2029\ufeff"},(e,t,n)=>{"use strict";n.d(t,{a:()=>N});var s={};n.r(s),n.d(s,{JsonPatchError:()=>y,_areEquals:()=>S,applyOperation:()=>_,applyPatch:()=>x,applyReducer:()=>M,deepClone:()=>b,getValueByPointer:()=>E,validate:()=>A,validator:()=>O});var i={};n.r(i),n.d(i,{compare:()=>F,generate:()=>R,observe:()=>C,unobserve:()=>L});
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */
var r,a=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=Object.prototype.hasOwnProperty;function l(e,t){return o.call(e,t)}function c(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var s=[];for(var i in e)l(e,i)&&s.push(i);return s}function u(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function h(e){for(var t,n=0,s=e.length;n<s;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function d(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function p(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(p(e[t]))return!0}else if("object"==typeof e)for(var s=c(e),i=s.length,r=0;r<i;r++)if(p(e[s[r]]))return!0;return!1}function g(e,t){var n=[e];for(var s in t){var i="object"==typeof t[s]?JSON.stringify(t[s],null,2):t[s];void 0!==i&&n.push(s+": "+i)}return n.join("\n")}var m=function(e){function t(t,n,s,i,r){var a=this.constructor,o=e.call(this,g(t,{name:n,index:s,operation:i,tree:r}))||this;return o.name=n,o.index=s,o.operation=i,o.tree=r,Object.setPrototypeOf(o,a.prototype),o.message=g(t,{name:n,index:s,operation:i,tree:r}),o}return a(t,e),t}(Error),y=m,b=u,v={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var s=e[t];return delete e[t],{newDocument:n,removed:s}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:function(e,t,n){var s=E(n,this.path);s&&(s=u(s));var i=_(n,{op:"remove",path:this.from}).removed;return _(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:s}},copy:function(e,t,n){var s=E(n,this.from);return _(n,{op:"add",path:this.path,value:u(s)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:S(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},w={add:function(e,t,n){return h(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var s=e[t];return e[t]=this.value,{newDocument:n,removed:s}},move:v.move,copy:v.copy,test:v.test,_get:v._get};function E(e,t){if(""==t)return e;var n={op:"_get",path:t};return _(e,n),n.value}function _(e,t,n,s,i,r){if(void 0===n&&(n=!1),void 0===s&&(s=!0),void 0===i&&(i=!0),void 0===r&&(r=0),n&&("function"==typeof n?n(t,0,e,t.path):O(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=E(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=S(e,t.value),!1===a.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",r,t,e);return a}s||(e=u(e));var o=(t.path||"").split("/"),l=e,c=1,d=o.length,p=void 0,g=void 0,m=void 0;for(m="function"==typeof n?n:O;;){if((g=o[c])&&-1!=g.indexOf("~")&&(g=f(g)),i&&("__proto__"==g||"prototype"==g&&c>0&&"constructor"==o[c-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===p&&(void 0===l[g]?p=o.slice(0,c).join("/"):c==d-1&&(p=t.path),void 0!==p&&m(t,0,e,p)),c++,Array.isArray(l)){if("-"===g)g=l.length;else{if(n&&!h(g))throw new y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",r,t,e);h(g)&&(g=~~g)}if(c>=d){if(n&&"add"===t.op&&g>l.length)throw new y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",r,t,e);if(!1===(a=w[t.op].call(t,l,g,e)).test)throw new y("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return a}}else if(c>=d){if(!1===(a=v[t.op].call(t,l,g,e)).test)throw new y("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return a}if(l=l[g],n&&c<d&&(!l||"object"!=typeof l))throw new y("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",r,t,e)}}function x(e,t,n,s,i){if(void 0===s&&(s=!0),void 0===i&&(i=!0),n&&!Array.isArray(t))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=u(e));for(var r=new Array(t.length),a=0,o=t.length;a<o;a++)r[a]=_(e,t[a],n,!0,i,a),e=r[a].newDocument;return r.newDocument=e,r}function M(e,t,n){var s=_(e,t);if(!1===s.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return s.newDocument}function O(e,t,n,s){if("object"!=typeof e||null===e||Array.isArray(e))throw new y("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!v[e.op])throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new y("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&p(e.value))throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var i=e.path.split("/").length,r=s.split("/").length;if(i!==r+1&&i!==r)throw new y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==s)throw new y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=A([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function A(e,t,n){try{if(!Array.isArray(e))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)x(u(t),u(e),n||!0);else{n=n||O;for(var s=0;s<e.length;s++)n(e[s],s,t,void 0)}}catch(e){if(e instanceof y)return e;throw e}}function S(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,s,i,r=Array.isArray(e),a=Array.isArray(t);if(r&&a){if((s=e.length)!=t.length)return!1;for(n=s;0!=n--;)if(!S(e[n],t[n]))return!1;return!0}if(r!=a)return!1;var o=Object.keys(e);if((s=o.length)!==Object.keys(t).length)return!1;for(n=s;0!=n--;)if(!t.hasOwnProperty(o[n]))return!1;for(n=s;0!=n--;)if(!S(e[i=o[n]],t[i]))return!1;return!0}return e!=e&&t!=t}
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */
var T=new WeakMap,P=function(e){this.observers=new Map,this.obj=e},k=function(e,t){this.callback=e,this.observer=t};function L(e,t){t.unobserve()}function C(e,t){var n,s=function(e){return T.get(e)}(e);if(s){var i=function(e,t){return e.observers.get(t)}(s,t);n=i&&i.observer}else s=new P(e),T.set(e,s);if(n)return n;if(n={},s.value=u(e),t){n.callback=t,n.next=null;var r=function(){R(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(r)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){R(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(s,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},s.observers.set(t,new k(t,n)),n}function R(e,t){void 0===t&&(t=!1);var n=T.get(e.object);I(n.value,e.object,e.patches,"",t),e.patches.length&&x(n.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function I(e,t,n,s,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var r=c(t),a=c(e),o=!1,h=a.length-1;h>=0;h--){var f=e[g=a[h]];if(!l(t,g)||void 0===t[g]&&void 0!==f&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:s+"/"+d(g),value:u(f)}),n.push({op:"remove",path:s+"/"+d(g)}),o=!0):(i&&n.push({op:"test",path:s,value:e}),n.push({op:"replace",path:s,value:t}),!0);else{var p=t[g];"object"==typeof f&&null!=f&&"object"==typeof p&&null!=p&&Array.isArray(f)===Array.isArray(p)?I(f,p,n,s+"/"+d(g),i):f!==p&&(!0,i&&n.push({op:"test",path:s+"/"+d(g),value:u(f)}),n.push({op:"replace",path:s+"/"+d(g),value:u(p)}))}}if(o||r.length!=a.length)for(h=0;h<r.length;h++){var g;l(e,g=r[h])||void 0===t[g]||n.push({op:"add",path:s+"/"+d(g),value:u(t[g])})}}}function F(e,t,n){void 0===n&&(n=!1);var s=[];return I(e,t,s,"",n),s}Object.assign({},s,i,{JsonPatchError:m,deepClone:u,escapePathComponent:d,unescapePathComponent:f});function N(e,t){x(e,t)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>f,b:()=>p});var s=n(112),i=n(38),r=n(5),a=n(24),o=n(22),l=(n(1),n(2),n(11),n(210)),c=n(39);let u=(e,t)=>{(0,o.h)(t)};if(!(0,a.c)()){let e=!1;const t=new Array;u=(n,s)=>{if(e){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","data:text/css;base64,".concat((0,l.a)(n))),document.getElementsByTagName("head")[0].appendChild(e),s()}else t.push([n,s])};const n=()=>{for((0,r.d)((0,o.f)(),"DOMContentLoaded",n),e=!0;t.length>0;){const[e,n]=t[0];u(e,n),t.shift()}};(0,r.b)((0,o.f)(),"DOMContentLoaded",n),(0,r.b)(i.i,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"add"===t.method)u(t.value,(()=>i.i.postMessage({method:"success",key:t.key})))}))}let h=!1,d=!1;function f(){return h}function p(){return d}(0,a.c)()?(0,r.b)(i.a,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"change-mouse":h=t.value;break;case"change-touch":d=t.value}})):(0,s.a)((()=>{(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=t.join("\n");return new Promise((e=>{if((0,a.c)()){const t=(0,c.a)(),n=s=>{const{data:a}=s;a instanceof Object&&a.key===t&&"success"===a.method&&((0,r.d)(i.i,"message",n),e())};(0,r.b)(i.i,"message",n),i.i.postMessage({method:"add",value:s,key:t})}else u(s,(()=>e()))}))})("\n            @media (pointer: fine) {\n                /* Rules for devices with mouse here */\n            }\n        ").then((()=>{const e=()=>{(0,o.g)(e);const t=self.matchMedia("(pointer:fine)").matches;t!==h&&i.a.postMessage({method:"change-mouse",value:t}),h=t;const n="ontouchstart"in window||"DocuentTouch"in self&&self.DocumentTouch&&document instanceof self.DocumentTouch||navigator.maxTouchPoints>0||"msMaxTouchPoints"in self.navigator&&self.navigator.msMaxTouchPoints>0;n!==d&&i.a.postMessage({method:"change-touch",value:n}),d=n};(0,o.g)(e)}))}))},function(e,t,n){e.exports=function(){"use strict";var e=Function.prototype.toString,t=Object.create,s=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.getPrototypeOf,l=Object.prototype,c=l.hasOwnProperty,u=l.propertyIsEnumerable,h="function"==typeof a,d="function"==typeof WeakMap,f=function(){if(d)return function(){return new WeakMap};var e=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}();return function(){return new e}}(),p=function(n,s){var i=n.__proto__||o(n);if(!i)return t(null);var r=i.constructor;if(r===s.Object)return i===s.Object.prototype?{}:t(i);if(~e.call(r).indexOf("[native code]"))try{return new r}catch(e){}return t(i)},g=function(e,t,n,s){var i=p(e,t);for(var r in s.set(e,i),e)c.call(e,r)&&(i[r]=n(e[r],s));if(h)for(var o=a(e),l=0,d=o.length,f=void 0;l<d;++l)f=o[l],u.call(e,f)&&(i[f]=n(e[f],s));return i},m=function(e,t,n,o){var l=p(e,t);o.set(e,l);for(var c=h?r(e).concat(a(e)):r(e),u=0,d=c.length,f=void 0,g=void 0;u<d;++u)if("callee"!==(f=c[u])&&"caller"!==f)if(g=i(e,f)){g.get||g.set||(g.value=n(e[f],o));try{s(l,f,g)}catch(e){l[f]=g.value}}else l[f]=n(e[f],o);return l},y=function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},b=Array.isArray,v=Object.getPrototypeOf,w=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function E(e,t){var n=!(!t||!t.isStrict),s=t&&t.realm||w,i=n?m:g,r=function(e,t){if(!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var a,o=e.__proto__||v(e),l=o&&o.constructor;if(!l||l===s.Object)return i(e,s,r,t);if(b(e)){if(n)return m(e,s,r,t);a=new l,t.set(e,a);for(var c=0,u=e.length;c<u;++c)a[c]=r(e[c],t);return a}if(e instanceof s.Date)return new l(e.getTime());if(e instanceof s.RegExp)return(a=new l(e.source,e.flags||y(e))).lastIndex=e.lastIndex,a;if(s.Map&&e instanceof s.Map)return a=new l,t.set(e,a),e.forEach((function(e,n){a.set(n,r(e,t))})),a;if(s.Set&&e instanceof s.Set)return a=new l,t.set(e,a),e.forEach((function(e){a.add(r(e,t))})),a;if(s.Blob&&e instanceof s.Blob)return e.slice(0,e.size,e.type);if(s.Buffer&&s.Buffer.isBuffer(e))return a=s.Buffer.allocUnsafe?s.Buffer.allocUnsafe(e.length):new l(e.length),t.set(e,a),e.copy(a),a;if(s.ArrayBuffer){if(s.ArrayBuffer.isView(e))return a=new l(e.buffer.slice(0)),t.set(e,a),a;if(e instanceof s.ArrayBuffer)return a=e.slice(0),t.set(e,a),a}return"function"==typeof e.then||e instanceof Error||s.WeakMap&&e instanceof s.WeakMap||s.WeakSet&&e instanceof s.WeakSet?e:i(e,s,r,t)};return r(e,f())}return E.default=E,E.strict=function(e,t){return E(e,{isStrict:!0,realm:t?t.realm:void 0})},E}()},function(e){e.exports=function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,s){void 0===s&&(s=!1);var i=e.getVersionPrecision(t),r=e.getVersionPrecision(n),a=Math.max(i,r),o=0,l=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),s=t+new Array(n+1).join(".0");return e.map(s.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(s&&(o=a-Math.min(i,r)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}},e.map=function(e,t){var n,s=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)s.push(t(e[n]));return s},e.find=function(e,t){var n,s;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,s=e.length;n<s;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,s=e,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(r));var o=function(){var e=r[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){s[t]=e[t]}))};for(t=0,n=r.length;t<n;t+=1)o();return e},e.getBrowserAlias=function(e){return s.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return s.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s,i=(s=n(91))&&s.__esModule?s:{default:s},r=n(18);function a(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=function(){function e(){}var t,n,s;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,s=[{key:"BROWSER_MAP",get:function(){return r.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return r.ENGINE_MAP}},{key:"OS_MAP",get:function(){return r.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return r.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),s&&a(t,s),e}();t.default=o,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s=l(n(92)),i=l(n(93)),r=l(n(94)),a=l(n(95)),o=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},s=0,i={},r=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,r+=1):"object"==typeof a&&(n[t]=a,s+=1)})),s>0){var a=Object.keys(n),l=o.default.find(a,(function(e){return t.isOS(e)}));if(l){var c=this.satisfies(n[l]);if(void 0!==c)return c}var u=o.default.find(a,(function(e){return t.isPlatform(e)}));if(u){var h=this.satisfies(n[u]);if(void 0!==h)return h}}if(r>0){var d=Object.keys(i),f=o.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),s=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(s);return t&&i&&(s=i.toLowerCase()),s===n},t.compareVersion=function(e){var t=[0],n=e,s=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(s=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(s=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,s))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s,i=(s=n(17))&&s.__esModule?s:{default:s},r=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(r,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(r,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s,i=(s=n(17))&&s.__esModule?s:{default:s},r=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:r.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:r.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:r.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:r.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),s={name:r.OS_MAP.MacOS,version:t};return n&&(s.versionName=n),s}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:r.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),s={name:r.OS_MAP.Android,version:t};return n&&(s.versionName=n),s}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:r.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:r.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:r.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:r.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:r.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:r.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:r.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s,i=(s=n(17))&&s.__esModule?s:{default:s},r=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:r.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:r.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var s,i=(s=n(17))&&s.__esModule?s:{default:s},r=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:r.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:r.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:r.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:r.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:r.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:r.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:r.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},(e,t,n)=>{"use strict";n.d(t,{a:()=>h,b:()=>o,c:()=>a,d:()=>r});n(1),n(2);var s=n(52),i=n(6);function r(e,t,n,s,r,a,o,l){if(e|=0,n|=0,r+l>(t|=0)&&r<t+1){const t=o/2;if((s+t>e||s-t<e+1)&&(a+t>n||a-t<n+1)){const r=e,o=n,l=e+1,c=n,u=e,h=n+1,d=e+1,f=n+1;return s<r&&a<o?(0,i.j)(s,a,r,o)<t:s>l&&a<c?(0,i.j)(s,a,l,c)<t:s<u&&a>h?(0,i.j)(s,a,u,h)<t:!(s>d&&a>f)||(0,i.j)(s,a,d,f)<t}}return!1}function a(e,t,n,s,r,a,o,l,c,u){const[h,d,f,p,g,m]=function(e,t,n,s,r,a,o,l,c,u){if(t<o+u&&t+r>o||o<t+r&&o+u>t){const[h,d,f,p]=function(e,t,n,s,r,a){let[o,l]=(0,i.o)(e,t,s,r),c=Math.sqrt(o*o+l*l);let u=n/2+a/2-c;if(u<=0)return[0,0,0,0];c>0&&(c=1/c);return o*=c,l*=c,u/=2,[o*u,l*u,-o*u,-l*u]}(e,n,s,a,l,c),g=0!==h||0!==d||0!==f||0!==p?o-t>u/.5?t-(o+u):o-(t+r):0;return[h,g/2,d,f,-g/2,p]}return[0,0,0,0,0,0]}(e,t,n,s,r,a,o,l,c,u);return 0!==h||0!==d||0!==f||0!==p||0!==g||0!==m}function o(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>!1;const o=(0,s.c)(e,t,n,i,r);for(let e=0,t=0|o.length;e<t;e=e+3|0){if(a("type",o[e],o[e+1],o[e+2]))return!0}return!1}function l(e,t,n,s,i,r,a,o,l){return(e-s)*(a-s)+(t-i)*(o-i)+(n-r)*(l-r)}function c(e,t,n,s,r,a,o,l,c,u){let h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:new i.c(0,0,0),d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:new i.c(0,0,0);const f=s*s+r*r+a*a,p=s*(o-=e)+r*(l-=t)+a*(c-=n),g=o*o+l*l+c*c-u*u;if(0===f)return!1;let m=p*p-f*g;if(m<0)return!1;m=Math.sqrt(m);const y=(p-m)/f,b=(p+m)/f;return!(y<0||b<0)&&(h.x=e+y*s,h.y=t+y*r,h.z=n+y*a,d.x=e+b*s,d.y=t+b*r,d.z=n+b*a,!0)}function u(e,t,n,s,r,a,o,l,c,u,h,d,f){let p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:new i.c(0,0,0),g=arguments.length>14&&void 0!==arguments[14]?arguments[14]:new i.c(0,0,0);const m=o-e,y=l-t,b=c-n,v=(u-=e)-m,w=(h-=t)-y,E=(d-=n)-b,_=s*s+r*r+a*a,x=v*s+w*r+E*a,M=m*s+y*r+b*a,O=v*v+w*w+E*E,A=m*v+y*w+b*E,S=m*m+y*y+b*b,T=f*f;if(0===O)return!1;const P=_-x*x/O,k=M-A*x/O,L=S-A*A/O-T;if(0===P)return!1;let C=k*k-P*L;if(C<0)return!1;C=Math.sqrt(C);const R=(k-C)/P,I=(k+C)/P;return p.x=e+R*s,p.y=t+R*r,p.z=n+R*a,g.x=e+I*s,g.y=t+I*r,g.z=n+I*a,!0}function h(e,t,n,s,r,a,o,h,d,f,p,g){const[m,y,b]=(0,i.m)(s,r),v=new i.c(-1,-1,-1),w=new i.c(-1,-1,-1);f-=g/=2;let E=!1,_=!1,x=!1;if(!0===c(e,t,n,m,y,b,a,o+=g,h,g,v,w)&&l(d,f,p,a,o,h,v.x,v.y,v.z)<=0)E=!0;else if(!0===c(e,t,n,m,y,b,d,f,p,g,v,w)&&l(a,o,h,d,f,p,v.x,v.y,v.z)<=0)_=!0;else{if(!(!0===u(e,t,n,m,y,b,a,o,h,d,f,p,g,v,w)&&l(a,o,h,d,f,p,v.x,v.y,v.z)>0&&l(d,f,p,a,o,h,v.x,v.y,v.z)>0))return[-1,-1,-1,-1,-1,-1];x=!0}const M=new i.c(0,0,0);return E&&l(d,f,p,a,o,h,w.x,w.y,w.z)<=0||_&&l(a,o,h,d,f,p,w.x,w.y,w.z)<=0||x&&l(a,o,h,d,f,p,w.x,w.y,w.z)>0&&l(d,f,p,a,o,h,w.x,w.y,w.z)>0||!0===c(e,t,n,m,y,b,a,o,h,g,M,w)&&l(d,f,p,a,o,h,w.x,w.y,w.z)<=0||!0===c(e,t,n,m,y,b,d,f,p,g,M,w)&&l(a,o,h,d,f,p,w.x,w.y,w.z)<=0||u(e,t,n,m,y,b,a,o,h,d,f,p,g,M,w),[v.x,v.y,v.z,w.x,w.y,w.z]}},(e,t)=>{"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,i=s&&!n.call({1:2},1);t.f=i?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},(e,t,n)=>{var s=n(0),i=n(8),r=n(16),a=n(88),o=n(45),l=n(170),c=n(9),u=s.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,s=o(e,h);if(s){if(void 0===t&&(t="default"),n=i(s,e,t),!r(n)||a(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},(e,t,n)=>{var s=n(0),i=n(8),r=n(7),a=n(16),o=s.TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!a(s=i(n,e)))return s;if(r(n=e.valueOf)&&!a(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!a(s=i(n,e)))return s;throw o("Can't convert object to primitive value")}},(e,t,n)=>{var s=n(0),i=n(7),r=n(70),a=s.WeakMap;e.exports=i(a)&&/native code/.test(r(a))},(e,t,n)=>{var s=n(32),i=n(4),r=n(95),a=n(173),o=n(12),l=i([].concat);e.exports=s("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?l(t,n(e)):t}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var s=n(0),i=n(7),r=s.String,a=s.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},(e,t,n)=>{var s={};s[n(9)("toStringTag")]="z",e.exports="[object z]"===String(s)},(e,t,n)=>{var s=n(41),i=n(0);e.exports=/ipad|iphone|ipod/i.test(s)&&void 0!==i.Pebble},(e,t,n)=>{var s=n(41);e.exports=/web0s(?!.*chrome)/i.test(s)},(e,t,n)=>{var s=n(0);e.exports=function(e,t){var n=s.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},(e,t,n)=>{var s=n(3);e.exports=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},e=>{"use strict";e.exports=i,e.exports.isMobile=i,e.exports.default=i;const t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,s=/android|ipad|playbook|silk/i;function i(e){e||(e={});let i=e.ua;if(i||"undefined"==typeof navigator||(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),"string"!=typeof i)return!1;let r=t.test(i)&&!n.test(i)||!!e.tablet&&s.test(i);return!r&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==i.indexOf("Macintosh")&&-1!==i.indexOf("Safari")&&(r=!0),r}},(e,t,n)=>{var s=n(0),i=n(101),r=s.TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},(e,t,n)=>{var s=n(9)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[s]=!1,"/./"[e](t)}catch(e){}}return!1}},(e,t,n)=>{"use strict";var s=n(138).forEach,i=n(139)("forEach");e.exports=i?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}},(e,t,n)=>{var s=n(188);e.exports=function(e,t){return new(s(e))(0===t?0:t)}},(e,t,n)=>{var s=n(0),i=n(189),r=n(98),a=n(16),o=n(9)("species"),l=s.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===l||i(t.prototype))||a(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?l:t}},(e,t,n)=>{var s=n(44);e.exports=Array.isArray||function(e){return"Array"==s(e)}},(e,t,n)=>{var s=n(4),i=n(27),r=Math.floor,a=s("".charAt),o=s("".replace),l=s("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,s,h,d){var f=n+e.length,p=s.length,g=u;return void 0!==h&&(h=i(h),g=c),o(d,g,(function(i,o){var c;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":c=h[l(o,1,-1)];break;default:var u=+o;if(0===u)return i;if(u>p){var d=r(u/10);return 0===d?i:d<=p?void 0===s[d-1]?a(o,1):s[d-1]+a(o,1):i}c=s[u-1]}return void 0===c?"":c}))}},e=>{e.exports=!1},(e,t,n)=>{var s=n(0).Array,i=Math.abs,r=Math.pow,a=Math.floor,o=Math.log,l=Math.LN2;e.exports={pack:function(e,t,n){var c,u,h,d=s(n),f=8*n-t-1,p=(1<<f)-1,g=p>>1,m=23===t?r(2,-24)-r(2,-77):0,y=e<0||0===e&&1/e<0?1:0,b=0;for((e=i(e))!=e||e===1/0?(u=e!=e?1:0,c=p):(c=a(o(e)/l),e*(h=r(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?m/h:m*r(2,1-g))*h>=2&&(c++,h/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*h-1)*r(2,t),c+=g):(u=e*r(2,g-1)*r(2,t),c=0));t>=8;)d[b++]=255&u,u/=256,t-=8;for(c=c<<t|u,f+=t;f>0;)d[b++]=255&c,c/=256,f-=8;return d[--b]|=128*y,d},unpack:function(e,t){var n,s=e.length,i=8*s-t-1,a=(1<<i)-1,o=a>>1,l=i-7,c=s-1,u=e[c--],h=127&u;for(u>>=7;l>0;)h=256*h+e[c--],l-=8;for(n=h&(1<<-l)-1,h>>=-l,l+=t;l>0;)n=256*n+e[c--],l-=8;if(0===h)h=1-o;else{if(h===a)return n?NaN:u?-1/0:1/0;n+=r(2,t),h-=o}return(u?-1:1)*n*r(2,h-t)}}},(e,t,n)=>{"use strict";var s=n(27),i=n(71),r=n(33);e.exports=function(e){for(var t=s(this),n=r(t),a=arguments.length,o=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>o;)t[o++]=e;return t}},(e,t,n)=>{var s=n(0),i=n(3),r=n(129),a=n(51).NATIVE_ARRAY_BUFFER_VIEWS,o=s.ArrayBuffer,l=s.Int8Array;e.exports=!a||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!r((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new o(2),1,void 0).length}))},(e,t,n)=>{var s=n(16),i=Math.floor;e.exports=Number.isInteger||function(e){return!s(e)&&isFinite(e)&&i(e)===e}},(e,t,n)=>{var s=n(0),i=n(42),r=s.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw r("The argument can't be less than 0");return t}},(e,t,n)=>{var s=n(37),i=n(8),r=n(121),a=n(27),o=n(33),l=n(78),c=n(59),u=n(100),h=n(51).aTypedArrayConstructor;e.exports=function(e){var t,n,d,f,p,g,m=r(this),y=a(e),b=arguments.length,v=b>1?arguments[1]:void 0,w=void 0!==v,E=c(y);if(E&&!u(E))for(g=(p=l(y,E)).next,y=[];!(f=i(g,p)).done;)y.push(f.value);for(w&&b>2&&(v=s(v,arguments[2])),n=o(y),d=new(h(m))(n),t=0;n>t;t++)d[t]=w?v(y[t],t):y[t];return d}},(e,t,n)=>{var s=n(41).match(/firefox\/(\d+)/i);e.exports=!!s&&+s[1]},(e,t,n)=>{var s=n(41);e.exports=/MSIE|Trident/.test(s)},(e,t,n)=>{var s=n(41).match(/AppleWebKit\/(\d+)\./);e.exports=!!s&&+s[1]},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>a});var i=n(202),r=e([i]);i=(r.then?(await r)():r)[0];class a extends i.a{}s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>o});n(11),n(1),n(2);var i=n(151),r=n(160),a=e([r]);r=(a.then?(await a)():a)[0];class o extends i.a{async load(){const e=this.getDatas();0===e.length&&e.push(...await Promise.all(this.getUrls().map((async e=>await(0,r.a)(e)))))}}s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";var s=n(10),i=n(13),r=n(0),a=n(4),o=n(14),l=n(7),c=n(35),u=n(17),h=n(18).f,d=n(118),f=r.Symbol,p=f&&f.prototype;if(i&&l(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};d(m,f),m.prototype=p,p.constructor=m;var y="Symbol(test)"==String(f("test")),b=a(p.toString),v=a(p.valueOf),w=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),_=a("".slice);h(p,"description",{configurable:!0,get:function(){var e=v(this),t=b(e);if(o(g,e))return"";var n=y?_(t,7,-1):E(t,w,"$1");return""===n?void 0:n}}),s({global:!0,constructor:!0,forced:!0},{Symbol:m})}},(e,t,n)=>{var s=n(117),i=n(18);e.exports=function(e,t,n){return n.get&&s(n.get,t,{getter:!0}),n.set&&s(n.set,t,{setter:!0}),i.f(e,t,n)}},(e,t,n)=>{"use strict";var s=n(13),i=n(4),r=n(8),a=n(3),o=n(132),l=n(173),c=n(168),u=n(27),h=n(65),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||a((function(){if(s&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||o(d({},t)).join("")!=i}))?function(e,t){for(var n=u(e),i=arguments.length,a=1,d=l.f,f=c.f;i>a;)for(var g,m=h(arguments[a++]),y=d?p(o(m),d(m)):o(m),b=y.length,v=0;b>v;)g=y[v++],s&&!r(f,m,g)||(n[g]=m[g]);return n}:d},(e,t,n)=>{"use strict";var s=n(0),i=n(37),r=n(8),a=n(27),o=n(207),l=n(100),c=n(98),u=n(33),h=n(146),d=n(78),f=n(59),p=s.Array;e.exports=function(e){var t=a(e),n=c(this),s=arguments.length,g=s>1?arguments[1]:void 0,m=void 0!==g;m&&(g=i(g,s>2?arguments[2]:void 0));var y,b,v,w,E,_,x=f(t),M=0;if(!x||this==p&&l(x))for(y=u(t),b=n?new this(y):p(y);y>M;M++)_=m?g(t[M],M):t[M],h(b,M,_);else for(E=(w=d(t,x)).next,b=n?new this:[];!(v=r(E,w)).done;M++)_=m?o(w,g,[v.value,M],!0):v.value,h(b,M,_);return b.length=M,b}},(e,t,n)=>{var s=n(12),i=n(127);e.exports=function(e,t,n,r){try{return r?t(s(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},(e,t,n)=>{"use strict";var s=n(0),i=n(4),r=2147483647,a=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",c=s.RangeError,u=i(o.exec),h=Math.floor,d=String.fromCharCode,f=i("".charCodeAt),p=i([].join),g=i([].push),m=i("".replace),y=i("".split),b=i("".toLowerCase),v=function(e){return e+22+75*(e<26)},w=function(e,t,n){var s=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),s+=36;return h(s+36*e/(e+38))},E=function(e){var t=[];e=function(e){for(var t=[],n=0,s=e.length;n<s;){var i=f(e,n++);if(i>=55296&&i<=56319&&n<s){var r=f(e,n++);56320==(64512&r)?g(t,((1023&i)<<10)+(1023&r)+65536):(g(t,i),n--)}else g(t,i)}return t}(e);var n,s,i=e.length,a=128,o=0,u=72;for(n=0;n<e.length;n++)(s=e[n])<128&&g(t,d(s));var m=t.length,y=m;for(m&&g(t,"-");y<i;){var b=r;for(n=0;n<e.length;n++)(s=e[n])>=a&&s<b&&(b=s);var E=y+1;if(b-a>h((r-o)/E))throw c(l);for(o+=(b-a)*E,a=b,n=0;n<e.length;n++){if((s=e[n])<a&&++o>r)throw c(l);if(s==a){for(var _=o,x=36;;){var M=x<=u?1:x>=u+26?26:x-u;if(_<M)break;var O=_-M,A=36-M;g(t,d(v(M+O%A))),_=h(O/A),x+=36}g(t,d(v(_))),u=w(o,E,y==m),o=0,y++}}o++,a++}return p(t,"")};e.exports=function(e){var t,n,s=[],i=y(m(b(e),o,"."),".");for(t=0;t<i.length;t++)n=i[t],g(s,u(a,n)?"xn--"+E(n):n);return p(s,".")}},(e,t,n)=>{var s=n(18).f;e.exports=function(e,t,n){n in e||s(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});n(29),n(158),n(103);function s(e){return btoa(unescape(encodeURIComponent(e)))}},(e,t,n)=>{"use strict";n.d(t,{a:()=>u,b:()=>h});n(11),n(1),n(2),n(152),n(155);var s=n(221),i=n(39),r=n(24),a=n(38),o=n(83),l=n(5);let c=self.fetch;function u(e,t){let n=c;return(0,r.c)()||!(0,r.a)()||(0,s.a)()||(n=async function(e,t){const n="electron"in self?await("GET"===t.method?self.electron.requestHTTP(e):self.electron.existsHTTP(e)):null;return new Response(n,{status:n?200:404})}),n(e,t)}function h(e,t){return URL.createObjectURL(new Blob([t],{type:e}))}(0,r.c)()?c=async function(e,t){return new Promise(((n,s)=>{const r=(0,i.a)(),o=e=>{const{data:t}=e;if(t instanceof Object&&r===t.key&&"return"===t.method)(0,l.d)(a.c,"message",o),t.error?s():n(new Response(t.value,{status:200}))};(0,l.b)(a.c,"message",o),a.c.postMessage({method:"fetch",type:"arraybuffer",options:t,url:e,key:r})}))}:(0,l.b)(a.c,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"fetch"===t.method)(0,o.a)(t.url,t.type,t.options).then((e=>a.c.postMessage({method:"return",error:!1,value:e.source,key:t.key}))).catch((()=>a.c.postMessage({method:"return",error:!0,value:null,key:t.key})))}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>l});n(20),n(21),n(161),n(1),n(2);var i=n(84),r=(n(163),e([i]));i=(r.then?(await r)():r)[0];const a=(0,i.a)(0,0).getContext("webgl2"),o=null===a?null:a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");null===a||a.MAX_TEXTURE_SIZE;const l=null===a?0:a.MAX_3D_TEXTURE_SIZE;null===a||a.MAX_COLOR_ATTACHMENTS,null!==a&&null!==o&&a.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT);s()}catch(e){s(e)}}))},(e,t,n)=>{var s=n(0),i=n(3),r=n(4),a=n(17),o=n(214).trim,l=n(162),c=s.parseInt,u=s.Symbol,h=u&&u.iterator,d=/^[+-]?0x/i,f=r(d.exec),p=8!==c(l+"08")||22!==c(l+"0x16")||h&&!i((function(){c(Object(h))}));e.exports=p?function(e,t){var n=o(a(e));return c(n,t>>>0||(f(d,n)?16:10))}:c},(e,t,n)=>{var s=n(4),i=n(34),r=n(17),a=n(162),o=s("".replace),l="["+a+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),h=function(e){return function(t){var n=r(i(t));return 1&e&&(n=o(n,c,"")),2&e&&(n=o(n,u,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(1),n(2);var s=n(5);const i=["touchstart","touchend","mousedown","keydown"],r=new WeakMap;function a(e){if(r.get(e)||"suspended"!==e.state)return e;const t=self.document.body;function n(){i.forEach((e=>(0,s.d)(t,e,a))),r.delete(e)}function a(){e.resume().then(n)}return i.forEach((e=>(0,s.b)(t,e,a))),r.set(e,!0),e}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(1),n(2),n(15);var s=n(6);const i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"alt",19:"pause_break",20:"caps_lock",27:"escape",32:"space",33:"page_up",34:"page_down",35:"end",36:"home",37:"left_arrow",38:"up_arrow",39:"right_arrow",40:"down_arrow",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"left_window_key",92:"right_window_key",93:"select_key",96:"numpad_0",97:"numpad_1",98:"numpad_2",99:"numpad_3",100:"numpad_4",101:"numpad_5",102:"numpad_6",103:"numpad_7",104:"numpad_8",105:"numpad_9",106:"multiply",107:"add",109:"subtract",110:"decimal_point",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"num_lock",145:"scroll_lock",186:"semi_colon",187:"equal_sign",188:"comma",189:"dash",190:"period",191:"forward_slash",192:"grave_accent",219:"open_bracket",220:"back_slash",221:"close_braket",222:"single_quote"},r={0:"none",1:"left",2:"middle",3:"right",4:"wheel_down",5:"wheel_up"};var a=n(246),o=n(40),l=n(247),c=n(5);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.a{constructor(e,t,n){super("keyboard",e,n),u(this,"isPointerLockPoint",!1),u(this,"pointer",new s.b(0,0)),u(this,"curs",new s.b(0,0)),u(this,"cursors",new Array),(0,c.b)(document.body,"keydown",(e=>{e.preventDefault(),e.stopPropagation();const t="keyboard_".concat(i[e.keyCode]);return this.keys[t]||(this.keys[t]=!0,this.firePress(t,!0)),!1})),(0,c.b)(document.body,"keyup",(e=>{e.preventDefault(),e.stopPropagation();const t="keyboard_".concat(i[e.keyCode]);return this.keys[t]&&(this.keys[t]=!1,this.firePress(t,!1)),!1})),t.forEach(((e,t)=>{if(!(e instanceof HTMLElement))return;0===t&&(0,l.e)(e);let n=-1,s=-1,i=-1,a=-1;(0,c.b)(e,"mousedown",(e=>{if(e.preventDefault(),e.stopPropagation(),-1!==a)return;const t="mouse_".concat(r[e.which]);return this.keys[t]=!0,this.firePress(t,!0),this.keys[r[4]]&&(clearTimeout(n),n=setTimeout((()=>{this.keys[r[4]]&&this.firePress(r[4],!1)}),10)),this.keys[r[5]]&&(clearTimeout(s),s=setTimeout((()=>{this.keys[r[5]]&&this.firePress(r[5],!1)}),10)),!1})),(0,c.b)(e,"mouseup",(e=>{e.preventDefault(),e.stopPropagation();const t="mouse_".concat(r[e.which]);return this.keys[t]=!1,this.firePress(t,!1),!1})),(0,c.b)(e,"mousemove",(t=>{if(t.preventDefault(),t.stopPropagation(),(0,l.c)()){const e=t.movementX/1920,n=t.movementY/1080;this.isPointerLockPoint?(this.pointer.x+=e,this.pointer.y+=n):(this.pointer.x=e,this.pointer.y=n),this.fireAxes("y",this.pointer.x,this.pointer.y),clearTimeout(i),this.isPointerLockPoint||(i=setTimeout((()=>{this.pointer.x=0,this.pointer.y=0,this.fireAxes("y",this.pointer.x,this.pointer.y)}),10))}else performance.now()-(0,l.b)()>100&&(this.curs.x=t.offsetX/e.clientWidth,this.curs.y=t.offsetY/e.clientHeight,this.fireCursor(this.curs.x,this.curs.y));return!1})),(0,c.b)(e,"wheel",(e=>{e.preventDefault(),e.stopPropagation();const t="mouse_".concat(r[e.deltaY>0?4:5]);return this.keys[t]=!0,this.firePress(t,!0),!1}),{passive:!1}),(0,c.b)(e,"touchstart",(e=>{-1===a&&(a=setTimeout((()=>{a=-1}),100))}))})),(0,c.b)(n,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"stick"===t.method)this.setPointerLookPoint(t.value)}))}cursor(e){-1===this.cursors.indexOf(e)&&this.cursors.push(e)}fireCursor(e,t){e=(0,o.b)(e,0),t=(0,o.b)(t,0),this.cursors.forEach((n=>n(e,t))),this.channel.postMessage({method:"cursor",x:e,y:t})}setPointerLookPoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.isPointerLockPoint;e!==this.isPointerLockPoint&&(!this.isPointerLockPoint||0===this.pointer.x&&0===this.pointer.y||(this.pointer.x=0,this.pointer.y=0,this.fireAxes("y",this.pointer.x,this.pointer.y)),this.isPointerLockPoint=e)}hasPointerLookPoint(){return this.isPointerLockPoint}update(){}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>d,b:()=>f});n(203),n(11);var s=n(39),i=n(24),r=n(38),a=n(5);const o={};(0,i.c)()?(0,a.b)(r.d,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"save"===t.method){const e=o[t.name]||{};for(const t in e)delete e[t];for(const n in t.value)e[n]=t.value[n];o[t.name]=e}})):(0,a.b)(r.d,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"load":d(t.name,t.forceLocalStorage).then((e=>{r.d.postMessage({method:"load",name:t.name,value:e,key:t.key})}));break;case"save":d(t.name).then((e=>{for(const n in t.value)e[n]=t.value[n];f(t.name,t.forceLocalStorage).then((e=>{r.d.postMessage({method:"save",name:t.name,value:t.value,key:t.key})}))}));break;case"delete":(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,i.c)()){if(!o.hasOwnProperty(e))return;let n=(0,s.a)();return await new Promise((s=>{function i(t){const{data:l}=t;if(l instanceof Object&&l.key===n&&"delete"===l.method)(0,a.d)(r.d,"message",i),delete o[e],n=null,s(l.value)}(0,a.b)(r.d,"message",i),r.d.postMessage({method:"delete",name:e,forceLocalStorage:t,key:n})}))}delete(await d(e))[e],await f(e,t)})(t.name,t.forceLocalStorage).then((()=>{r.d.postMessage({method:"delete",name:t.name,key:t.key})}))}}));const l=function(e,t){switch(!0){case void 0===t:return{__extendData__:!0,type:"undefined",value:""};case null===t:return{__extendData__:!0,type:"null",value:""};case Number.isNaN(t):return{__extendData__:!0,type:"number",value:"NaN"};case Number.POSITIVE_INFINITY===t:return{__extendData__:!0,type:"number",value:"Infinity"};case Number.NEGATIVE_INFINITY===t:return{__extendData__:!0,type:"number",value:"-Infinity"};case t instanceof Date:return{__extendData__:!0,type:"date",value:t.toISOString()};case"symbol"==typeof t:return{__extendData__:!0,type:"symbol",value:Symbol.keyFor(t)}}return t},c=function(e,t){if("object"!=typeof t||!t.__extendData__)return t;switch(t.type){case"undefined":return;case"null":return null;case"number":switch(t.value){case"NaN":return Number.NaN;case"Infinity":case"+Infinity":return Number.POSITIVE_INFINITY;case"-Infinity":return Number.NEGATIVE_INFINITY}case"date":return new Date(t.value);case"symbol":return Symbol.for(t.value)}};async function u(e,t){let n={};try{if(!t&&"electron"in self)n=JSON.parse(JSON.stringify(await self.electron.loadStorage(e),c));else{const t=localStorage.getItem(e)||"";t&&t.length>0&&(n=JSON.parse(t,c))}}catch(n){await async function(e,t){!t&&"electron"in self?await self.electron.deleteStorage(e):localStorage.removeItem(e)}(e,t)}return n}async function h(e,t,n){try{!n&&"electron"in self?await self.electron.saveStorage(e,JSON.parse(JSON.stringify(t,l))):localStorage.setItem(e,JSON.stringify(t,l))}catch(t){console.error('"'.concat(e,'" is define local storage.'))}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};if((0,i.c)()){if(o.hasOwnProperty(e))return o[e];let i=(0,s.a)();n=await new Promise((n=>{const s=e=>{const{data:t}=e;if(t instanceof Object&&t.key===i&&"load"===t.method)(0,a.d)(r.d,"message",s),o[t.name]=t.value,n(t.value)};(0,a.b)(r.d,"message",s),r.d.postMessage({method:"load",name:e,forceLocalStorage:t,key:i})}))}else o.hasOwnProperty(e)||(o[e]=await u(e,t)),n=o[e];return n}async function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,i.c)()){if(!o.hasOwnProperty(e))return;let n=(0,s.a)();await new Promise((s=>{const i=e=>{const{data:t}=e;if(t instanceof Object&&t.key===n&&"save"===t.method)(0,a.d)(r.d,"message",i),n=null,s(null)};(0,a.b)(r.d,"message",i),r.d.postMessage({method:"save",name:e,value:o[e],forceLocalStorage:t,key:n})}))}else o.hasOwnProperty(e)&&await h(e,o[e],t)}},(e,t,n)=>{"use strict";n.d(t,{a:()=>l,b:()=>u,c:()=>c});var s=n(22),i=n(5),r=n(24),a=n(221);const o=new s.a("window"),l=new s.a("display-log"),c=new s.a("worker-tick"),u=new s.a("worker-paint");(0,r.c)()||(0,i.b)(o,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"shutdown":self.close();break;case"reload":!(0,a.a)()&&"electron"in self?self.electron.reboot():self.location.reload()}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>u,b:()=>d});n(1),n(2),n(29),n(159),n(20),n(21),n(15);var s=n(39),i=n(5),r=n(40),a=n(22);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new WeakMap;class u{constructor(e){l(this,"id",(0,s.a)()),l(this,"names",void 0),l(this,"components",new WeakMap),l(this,"live",!0),l(this,"isUpdate",!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.setComponents(...n),this.names="".concat(e.length>0?"".concat(e," "):"").concat(this.id).split(" ")}getID(){return this.id}getNames(){return[...this.names]}addNames(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.names.includes(t)||(this.names.push(t),this.isUpdate=!0)}}removeNames(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.names.includes(t)&&(this.names.splice(this.names.indexOf(t),1),this.isUpdate=!0)}}setComponents(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{if(!e)return;let t=e;do{this.components.set(t.constructor,e)}while(null!==(t=t.constructor.prototype.__proto__));this.isUpdate=!0}))}getComponent(e){return this.components.get(e)}hasComponent(e){return this.components.has(e)}removeComponent(e){this.components.has(e)&&(this.components.delete(e),this.isUpdate=!0)}checkUpdate(){const{isUpdate:e}=this;return this.isUpdate=!1,e}hasUpdate(){return this.isUpdate}hasLive(){return this.live}remove(){this.live=!1}destroy(){}}class h{constructor(e){l(this,"id",(0,s.a)()),l(this,"entity",void 0),l(this,"components",new Array),this.entity=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.components.push(...n)}hasEntity(e){return e instanceof this.entity&&!this.components.some((t=>!e.hasComponent(t)))}additional(e,t,n){}movable(e,t,n){}physical(e,t,n){}offset(e,t,n){}preadditional(e,t){}premovable(e,t){}prephysical(e,t){}preoffset(e,t){}ended(e,t){}preended(e){}rendering(e,t){}destructor(e,t){}}class d extends class{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o(this,"maxFrameSkipCount",20),o(this,"speed",1),o(this,"framerate",60),o(this,"updateCount",0),o(this,"tickFps",60),o(this,"paintFps",60),o(this,"reqAnim",-1),o(this,"timeout",-1),o(this,"updateTime",-1),o(this,"nextGameTick",-1),o(this,"paintTime",-1),o(this,"skipFrameCount",-1),o(this,"oldTime",-1),o(this,"stackTick",0),o(this,"isSleep",!1),o(this,"isError",!1),o(this,"isUpdateDefault",!1),o(this,"isPaintDefault",!1),o(this,"useAnimationFrame",void 0),(0,i.b)((0,a.f)(),"error",(()=>{this.error()})),this.useAnimationFrame=e}reset(){let e=!1;return-1!==this.reqAnim&&((0,a.d)(this.reqAnim),e=!0),this.updateTime=-1,this.nextGameTick=-1,this.paintTime=-1,this.reqAnim=-1,this.oldTime=-1,e}error(){this.isError=!0,this.stop(),new i.a(this,"error").trigger()}sleep(){this.isSleep=!0,new i.a(this,"sleep").trigger({})}unsleep(){this.isSleep=!1,new i.a(this,"unsleep").trigger()}updateDefault(){this.isUpdateDefault=!0}paintDefault(){this.isPaintDefault=!0}getFramerate(){return this.framerate}getTickFramerate(){return this.tickFps}getPaintFramerate(){return this.paintFps}setTickFramerate(e){this.tickFps=e}setPaintFramerate(e){this.paintFps=e}tickFunc(e){this.requestTick();const t=Math.min(240,this.getTickFramerate()),n=Math.min(240,this.getPaintFramerate()),s=1e3/n;if(-1===this.updateTime&&(this.updateTime=e),-1===this.nextGameTick&&(this.nextGameTick=e),-1===this.paintTime&&(this.paintTime=e),-1===this.oldTime&&(this.oldTime=e),this.isSleep)return this.updateTime=e,this.paintTime=e,this.nextGameTick=e,void(this.oldTime=e);const o=Math.max(0,e-this.updateTime);this.updateTime=e;const l=(0,r.b)(1e3/o,t);let c=0;if(this.isPaintDefault||0===c&&this.updateCount>0){if(Math.max(0,e-this.paintTime)>=s){const t=(0,r.b)(s,n);if(this.framerate=Math.min(t,n),this.useAnimationFrame){if(-1===this.reqAnim){const r=()=>{this.isPaintDefault?this.reqAnim=(0,a.g)(r):this.reqAnim=-1,new i.a(this,"paint").trigger({now:e,framerate:t,fps:n})};this.reqAnim=(0,a.g)(r),this.isPaintDefault=!1,this.paintTime+=s}}else new i.a(this,"paint").trigger({now:e,framerate:t,fps:n}),this.isPaintDefault=!1,this.paintTime+=s}else this.isPaintDefault=!0}let u=this.oldTime;do{const t=c<=0?e:performance.now(),n=t-u+this.stackTick,s=60/(1e3/n/(1e3/60)),r=n/(1e3/60)*this.speed;if(0===c&&new i.a(this,"updatebegin").trigger({now:e,framerate:l,fps:this.getTickFramerate(),updateCount:this.updateCount}),new i.a(this,"update").trigger({time:r,now:e,framerate:s,fps:this.getTickFramerate(),updateIndex:c}),this.nextGameTick+=n,this.stackTick=0,u=t,c++,this.nextGameTick>e){this.skipFrameCount=Math.min(this.maxFrameSkipCount,this.skipFrameCount+.5);break}if(c>=this.skipFrameCount){this.skipFrameCount=Math.max(1,this.skipFrameCount-1|0),this.stackTick=e-this.nextGameTick;break}}while(this.nextGameTick<=e);this.oldTime=u;const h=Math.max(0,o-(performance.now()-e));(c>0||this.isUpdateDefault)&&(this.isUpdateDefault=!1,new i.a(this,"updateend").trigger({time:h/(1e3/60),now:e,framerate:l,fps:this.getTickFramerate(),updateCount:c})),this.updateCount=c}requestTick(){-1===this.timeout&&(this.timeout=(0,a.h)((()=>{const e=performance.now();this.timeout=-1,this.tickFunc(e)})))}cancelTick(){return-1!==this.timeout&&((0,a.e)(this.timeout),this.timeout=-1,!0)}run(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(this.isError||this.hasRun()||this.isSleep&&!e)&&(this.reset(),this.isSleep=!1,this.requestTick(),!0)}stop(){return!this.hasRun()||(this.reset(),this.cancelTick())}getNowFramerate(){return this.framerate}hasRun(){return-1!==this.timeout}hasSleep(){return this.isSleep}getSpeed(){return this.speed}setSpeed(e){this.speed=e}clear(){this.setSpeed(1)}}{constructor(){super(...arguments),l(this,"id",(0,s.a)()),l(this,"additionals",new Array),l(this,"movables",new Array),l(this,"physicals",new Array),l(this,"offsets",new Array),l(this,"preadditionals",new Array),l(this,"premovables",new Array),l(this,"prephysicals",new Array),l(this,"preoffsets",new Array),l(this,"preendeds",new Array),l(this,"endeds",new Array),l(this,"renderings",new Array),l(this,"destructors",new Array),l(this,"heapSystem",new WeakMap),l(this,"entitys",new Array),l(this,"stands",new Array),l(this,"entitysID",{}),l(this,"entitysName",{})}getID(){return this.id}addSystems(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{e.additional!==h.prototype.additional&&this.additionals.push(e),e.movable!==h.prototype.movable&&this.movables.push(e),e.physical!==h.prototype.physical&&this.physicals.push(e),e.offset!==h.prototype.offset&&this.offsets.push(e),e.preadditional!==h.prototype.preadditional&&this.preadditionals.push(e),e.premovable!==h.prototype.premovable&&this.premovables.push(e),e.prephysical!==h.prototype.prephysical&&this.prephysicals.push(e),e.preoffset!==h.prototype.preoffset&&this.preoffsets.push(e),e.ended!==h.prototype.ended&&this.endeds.push(e),e.preended!==h.prototype.preended&&this.preendeds.push(e),e.rendering!==h.prototype.rendering&&this.renderings.push(e),e.destructor!==h.prototype.destructor&&this.destructors.push(e)}))}checkEntitys(){for(;this.stands.length>0;){const e=this.stands.shift()||null;null!==e&&(this.entitys.push(e),this.entitysID[e.getID()]=e)}}syncEntitys(){const e=[...this.additionals,...this.movables,...this.physicals,...this.offsets,...this.renderings,...this.destructors];for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(let t=0,s=0|n.length;t<s;t=t+1|0){const s=n[t],i=s.getNames();for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=i[e];this.entitysName.hasOwnProperty(t)||(this.entitysName[t]=new Array);const n=this.entitysName[t]||null;null===n||n.includes(s)||n.push(s)}const r=c.get(s)||[];for(let e=0,t=0|r.length;e<t;e=e+1|0){const t=r[e],n=this.entitysName[t]||null;null!==n&&n.includes(s)&&(n.splice(n.indexOf(s),1),0===n.length&&delete this.entitysName[t])}c.set(s,i);for(let t=0,n=0|e.length;t<n;t=t+1|0){const n=e[t];this.heapSystem.has(n)||this.heapSystem.set(n,new Array);const i=this.heapSystem.get(n)||[];n.hasEntity(s)?i.includes(s)||i.push(s):i.includes(s)&&i.splice(i.indexOf(s),1)}}new i.a(this,"syncentity").trigger({entitys:n})}addEntitys(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];this.entitys.includes(t)||this.stands.includes(t)||this.stands.push(t)}}removeEntitys(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=[...this.additionals,...this.movables,...this.physicals,...this.offsets];for(let e=0,n=0|this.destructors.length;e<n;e=e+1|0){const n=this.destructors[e],s=(this.heapSystem.get(n)||[]).slice().filter((e=>t.includes(e)));for(let e=0,t=0|s.length;e<t;e=e+1|0){const t=s[e];(!t.hasUpdate()||n.hasEntity(t))&&n.destructor(t,this)}}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];this.entitys.splice(this.entitys.indexOf(n),1),delete this.entitysID[n.getID()];const i=n.getNames();for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=i[e],s=this.entitysName[t]||null;null!==s&&s.includes(n)&&(s.splice(s.indexOf(n),1),0===s.length&&delete this.entitysName[t])}n.destroy();for(let e=0,t=0|s.length;e<t;e=e+1|0){const t=s[e],i=this.heapSystem.get(t)||[];i.includes(n)&&i.splice(i.indexOf(n),1)}}new i.a(this,"removeentity").trigger({entitys:t})}hasEntity(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e.hasLive()&&-1!==Object.keys(this.entitys).indexOf(e.getID())))}getEntitys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>!0;return this.entitys.filter((t=>t.hasLive()&&e(t)))}getEntityOfID(e){if(!this.entitysID.hasOwnProperty(e))return null;const t=this.entitysID[e];return t.hasLive()?t:null}getEntitysOfName(){const e=new Array;for(let t=0,n=0|arguments.length;t<n;t=t+1|0){const n=t<0||arguments.length<=t?void 0:arguments[t];this.entitysName.hasOwnProperty(n)&&e.push(...this.entitysName[n].filter((t=>t.hasLive()&&!e.includes(t))))}return e}clear(){for(let e=0,t=0|this.stands.length;e<t;e=e+1|0)this.stands[e].remove();for(let e=0,t=0|this.entitys.length;e<t;e=e+1|0)this.entitys[e].remove();super.clear()}onupdate(e){const{time:t,now:n,framerate:s,fps:r}=e;new i.a(this,"ecsbegin").trigger({time:t,now:n,framerate:s,fps:r});const a=new Array,o=new Array;for(let e=0,t=0|this.entitys.length;e<t;e=e+1|0){const t=this.entitys[e];if(t.hasLive()){if(!t.checkUpdate())continue;a.push(t)}else o.push(t)}a.length>0&&this.syncEntitys(...a),o.length>0&&this.removeEntitys(...o);for(let e=0,n=0|this.preadditionals.length;e<n;e=e+1|0){this.preadditionals[e].preadditional(t,this)}for(let e=0,n=0|this.additionals.length;e<n;e=e+1|0){const n=this.additionals[e],s=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|s.length;e<i;e=e+1|0){const i=s[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.additional(t,i,this)}}for(let e=0,n=0|this.premovables.length;e<n;e=e+1|0){this.premovables[e].premovable(t,this)}for(let e=0,n=0|this.movables.length;e<n;e=e+1|0){const n=this.movables[e],s=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|s.length;e<i;e=e+1|0){const i=s[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.movable(t,i,this)}}for(let e=0,n=0|this.prephysicals.length;e<n;e=e+1|0){this.prephysicals[e].prephysical(t,this)}for(let e=0,n=0|this.physicals.length;e<n;e=e+1|0){const n=this.physicals[e],s=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|s.length;e<i;e=e+1|0){const i=s[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.physical(t,i,this)}}for(let e=0,n=0|this.preoffsets.length;e<n;e=e+1|0){this.preoffsets[e].preoffset(t,this)}for(let e=0,n=0|this.offsets.length;e<n;e=e+1|0){const n=this.offsets[e],s=(this.heapSystem.get(n)||[]).slice();for(let e=0,i=0|s.length;e<i;e=e+1|0){const i=s[e];i.hasLive()&&(!i.hasUpdate()||n.hasEntity(i))&&n.offset(t,i,this)}}for(let e=0,t=0|this.preendeds.length;e<t;e=e+1|0){this.preendeds[e].preended(this)}for(let e=0,t=0|this.endeds.length;e<t;e=e+1|0){const t=this.endeds[e],n=(this.heapSystem.get(t)||[]).slice();for(let e=0,s=0|n.length;e<s;e=e+1|0){const s=n[e];s.hasLive()&&(!s.hasUpdate()||t.hasEntity(s))&&t.ended(s,this)}}this.checkEntitys(),new i.a(this,"ecsend").trigger({time:t,now:n,framerate:s,fps:r})}onpaint(e){for(let e=0,t=0|this.renderings.length;e<t;e=e+1|0){const t=this.renderings[e],n=(this.heapSystem.get(t)||[]).slice();for(let e=0,s=0|n.length;e<s;e=e+1|0){const s=n[e];s.hasLive()&&(!s.hasUpdate()||t.hasEntity(s))&&t.rendering(s,this)}}}}},(e,t,n)=>{var s=n(0),i=n(25),r=n(27),a=n(65),o=n(33),l=s.TypeError,c=function(e){return function(t,n,s,c){i(n);var u=r(t),h=a(u),d=o(u),f=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(f in h){c=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw l("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in h&&(c=n(c,h[f],f,u));return c}};e.exports={left:c(!1),right:c(!0)}},(e,t,n)=>{"use strict";function s(){return"localhost"===location.hostname}n.d(t,{a:()=>s})},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>h,b:()=>d,c:()=>f});n(20),n(21),n(15);var i=n(217),r=n(24),a=n(6),o=n(255),l=n(290),c=n(109),u=e([o,c]);[o,c]=u.then?(await u)():u;const h=!0,d=!0;class f{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var n,s,i;i=void 0,(s="setting")in(n=this)?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,this.setting=e,this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setFramerate(this.setting.hasOwnProperty("framerateIndex")?this.setting.framerateIndex:1),this.setFOV(this.setting.hasOwnProperty("fov")?this.setting.fov:90,e),this.setStickInnerDeadzoneX(this.setting.hasOwnProperty("stickInnerDeadzoneX")?this.setting.stickInnerDeadzoneX:.1),this.setStickOuterDeadzoneX(this.setting.hasOwnProperty("stickOuterDeadzoneX")?this.setting.stickOuterDeadzoneX:0),this.setStickInnerDeadzoneY(this.setting.hasOwnProperty("stickInnerDeadzoneY")?this.setting.stickInnerDeadzoneY:.1),this.setStickOuterDeadzoneY(this.setting.hasOwnProperty("stickOuterDeadzoneY")?this.setting.stickOuterDeadzoneY:0),this.setWheelInnerDeadzone(this.setting.hasOwnProperty("wheelInnerDeadzone")?this.setting.wheelInnerDeadzone:.1),this.setWheelOuterDeadzone(this.setting.hasOwnProperty("wheelOuterDeadzone")?this.setting.wheelOuterDeadzone:0),this.setSoundVolume(this.setting.hasOwnProperty("soundVolume")?this.setting.soundVolume:1),this.setClusterResolution(this.setting.hasOwnProperty("clusterResolution")?this.setting.clusterResolution:16),this.setFullscreen(this.setting.hasOwnProperty("isFullscreen")?this.setting.isFullscreen:!!(0,r.a)()),this.setBrowserFullscreen(!!this.setting.hasOwnProperty("isBrowserFullscreen")&&this.setting.isBrowserFullscreen),this.setAutomaticResolution(!this.setting.hasOwnProperty("isAutomaticResolution")||this.setting.isAutomaticResolution),this.setResolutionIndex(this.setting.hasOwnProperty("resolutionIndex")?this.setting.resolutionIndex:0),this.setHighPixelRatio(!!this.setting.hasOwnProperty("isHighPixelRatio")&&this.setting.isHighPixelRatio),this.setReflectionCount(this.setting.hasOwnProperty("reflectionCount")?this.setting.reflectionCount:2),this.setShadow(!this.setting.hasOwnProperty("isShadow")||this.setting.isShadow),this.setSoftShadow(!this.setting.hasOwnProperty("isSoftShadow")||this.setting.isSoftShadow),this.setRoughness(!this.setting.hasOwnProperty("isRoughness")||this.setting.isRoughness),this.setDithering(!!this.setting.hasOwnProperty("isDithering")&&this.setting.isDithering),this.setBloom(this.setting.hasOwnProperty("bloom")?this.setting.bloom:1),this.setMuzzleFlash(!this.setting.hasOwnProperty("isMuzzleFlash")||this.setting.isMuzzleFlash),this.setBlurDotScale(this.setting.hasOwnProperty("blurDotScale")?this.setting.blurDotScale:4),this.setContrast(this.setting.hasOwnProperty("contrast")?this.setting.contrast:1),this.setBrightness(this.setting.hasOwnProperty("brightness")?this.setting.brightness:1),this.setCRTEnable(!!this.setting.hasOwnProperty("isCRT")&&this.setting.isCRT),this.setCRTSubPixel(this.setting.hasOwnProperty("crtSubPixel")?this.setting.crtSubPixel:3),this.setCRTLens(this.setting.hasOwnProperty("crtLens")?this.setting.crtLens:.075),this.setCRTDeep(this.setting.hasOwnProperty("crtDeep")?this.setting.crtDeep:.075),this.setCRTEdge(this.setting.hasOwnProperty("crtEdge")?this.setting.crtEdge:.025),this.setCRTVig(this.setting.hasOwnProperty("crtVig")?this.setting.crtVig:.175),this.setCRTShadowMask(!!this.setting.hasOwnProperty("isCRTShadowMask")&&this.setting.isCRTShadowMask),this.setCRTCenterFadeOut(this.setting.hasOwnProperty("crtCenterFadeOut")?this.setting.crtCenterFadeOut:1),this.setSensibility(this.setting.hasOwnProperty("sensibility")?this.setting.sensibility:50),this.setInvertX(!!this.setting.hasOwnProperty("invertX")&&this.setting.invertX),this.setInvertY(!!this.setting.hasOwnProperty("invertY")&&this.setting.invertY),this.setBob(!this.setting.hasOwnProperty("bob")||this.setting.bob),this.setToggleSprint(!this.setting.hasOwnProperty("toggleSprint")||this.setting.toggleSprint),this.setToggleCluch(!this.setting.hasOwnProperty("toggleCluch")||this.setting.toggleCluch),this.setWeaponChargeStandTime(this.setting.hasOwnProperty("weaponChargeStandTime")?this.setting.weaponChargeStandTime:180),this.setWeaponWheelStandTime(this.setting.hasOwnProperty("weaponWheelStandTime")?this.setting.weaponWheelStandTime:180),this.setEatSound(!this.setting.hasOwnProperty("eatSound")||this.setting.eatSound),this.setEnemyVoice(!this.setting.hasOwnProperty("enemyVoice")||this.setting.enemyVoice),this.setCheckPoint(!this.setting.hasOwnProperty("isCheckPoint")||this.setting.isCheckPoint),this.setPistolStart(!!this.setting.hasOwnProperty("isPistolStart")&&this.setting.isPistolStart),this.setPermaDeath(!!this.setting.hasOwnProperty("isPermaDeath")&&this.setting.isPermaDeath),this.setSSSSlowMo(!this.setting.hasOwnProperty("isSSSSlowMo")||this.setting.isSSSSlowMo),this.setDisplayPlayTime(!!this.setting.hasOwnProperty("isDisplayPlayTime")&&this.setting.isDisplayPlayTime),this.setHUD(!this.setting.hasOwnProperty("isHUD")||this.setting.isHUD),this.setTheme(this.setting.hasOwnProperty("theme")?Object.keys(c.e).includes(this.setting.theme)?this.setting.theme:Object.keys(c.e)[0]:"RED"),this.setDebugLog(!!this.setting.hasOwnProperty("isDebugLog")&&this.setting.isDebugLog)}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;for(const e in this.setting)delete this.setting[e];this.init(e)}saveSetting(){(0,i.b)("setting")}setSensibility(e){this.setting.sensibility=e,this.saveSetting()}setInvertX(e){this.setting.invertX=e,this.saveSetting()}setInvertY(e){this.setting.invertY=e,this.saveSetting()}setBob(e){this.setting.bob=e,this.saveSetting()}setToggleSprint(e){this.setting.toggleSprint=e,this.saveSetting()}setToggleCluch(e){this.setting.toggleCluch=e,this.saveSetting()}setWeaponChargeStandTime(e){this.setting.weaponChargeStandTime=e,this.saveSetting()}setWeaponWheelStandTime(e){this.setting.weaponWheelStandTime=e,this.saveSetting()}setEatSound(e){this.setting.eatSound=e,this.saveSetting()}setEnemyVoice(e){this.setting.enemyVoice=e,this.saveSetting()}setCheckPoint(e){this.setting.isCheckPoint=e,this.saveSetting()}setPistolStart(e){this.setting.isPistolStart=e,this.saveSetting()}setPermaDeath(e){this.setting.isPermaDeath=e,this.saveSetting()}setSSSSlowMo(e){this.setting.isSSSSlowMo=e,this.saveSetting()}setFOV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==t&&t.getScenes().forEach((t=>{if(!(t instanceof o.a))return;t.getCamera().fov=(0,a.d)(e)})),this.setting.fov=e,this.saveSetting()}setFramerate(e){e>=l.a.length&&(e=1),this.setting.framerateIndex=e,this.saveSetting()}setSoundVolume(e){this.setting.soundVolume=e,this.saveSetting()}setClusterResolution(e){this.setting.clusterResolution=e,this.saveSetting()}setFullscreen(e){this.setting.isFullscreen=e,this.saveSetting()}setBrowserFullscreen(e){this.setting.isBrowserFullscreen=e,this.saveSetting()}setAutomaticResolution(e){this.setting.isAutomaticResolution=e,this.saveSetting()}setResolutionIndex(e){this.setting.resolutionIndex=e,this.saveSetting()}setHighPixelRatio(e){this.setting.isHighPixelRatio=e,this.saveSetting()}setReflectionCount(e){this.setting.reflectionCount=e,this.saveSetting()}setShadow(e){this.setting.isShadow=e,this.saveSetting()}setSoftShadow(e){this.setting.isSoftShadow=e,this.saveSetting()}setRoughness(e){this.setting.isRoughness=e,this.saveSetting()}setDithering(e){this.setting.isDithering=e,this.saveSetting()}setBloom(e){this.setting.bloom=e,this.saveSetting()}setMuzzleFlash(e){this.setting.isMuzzleFlash=e,this.saveSetting()}setBlurDotScale(e){this.setting.blurDotScale=e,this.saveSetting()}setContrast(e){this.setting.contrast=e,this.saveSetting()}setBrightness(e){this.setting.brightness=e,this.saveSetting()}setCRTEnable(e){this.setting.isCRT=e,this.saveSetting()}setCRTDeep(e){this.setting.crtDeep=e,this.saveSetting()}setCRTSubPixel(e){this.setting.crtSubPixel=e,this.saveSetting()}setCRTLens(e){this.setting.crtLens=e,this.saveSetting()}setCRTEdge(e){this.setting.crtEdge=e,this.saveSetting()}setCRTVig(e){this.setting.crtVig=e,this.saveSetting()}setCRTShadowMask(e){this.setting.isCRTShadowMask=e,this.saveSetting()}setCRTCenterFadeOut(e){this.setting.crtCenterFadeOut=e,this.saveSetting()}setStickInnerDeadzoneX(e){this.setting.stickInnerDeadzoneX=e,this.saveSetting()}setStickOuterDeadzoneX(e){this.setting.stickOuterDeadzoneX=e,this.saveSetting()}setStickInnerDeadzoneY(e){this.setting.stickInnerDeadzoneY=e,this.saveSetting()}setStickOuterDeadzoneY(e){this.setting.stickOuterDeadzoneY=e,this.saveSetting()}setWheelInnerDeadzone(e){this.setting.wheelInnerDeadzone=e,this.saveSetting()}setWheelOuterDeadzone(e){this.setting.wheelOuterDeadzone=e,this.saveSetting()}setDisplayPlayTime(e){this.setting.isDisplayPlayTime=e,this.saveSetting()}setHUD(e){this.setting.isHUD=e,this.saveSetting()}setTheme(e){this.setting.theme=e,this.saveSetting()}setDebugLog(e){this.setting.isDebugLog=e,this.saveSetting()}hasBob(){return this.setting.bob}hasToggleSprint(){return this.setting.toggleSprint}hasToggleCluch(){return this.setting.toggleCluch}getWeaponChargeStandTime(){return this.setting.weaponChargeStandTime}getWeaponWheelStandTime(){return this.setting.weaponWheelStandTime}hasEatSound(){return this.setting.eatSound}hasEnemyVoice(){return this.setting.enemyVoice}hasCheckPoint(){return this.setting.isCheckPoint}hasPistolStart(){return this.setting.isPistolStart}hasPermaDeath(){return this.setting.isPermaDeath}hasSSSSlowMo(){return this.setting.isSSSSlowMo}hasDebugLog(){return this.setting.isDebugLog}getSoundVolume(){return this.setting.soundVolume}getReflectionCount(){return this.setting.reflectionCount}getBlurDotScale(){return this.hasCRT()?1:this.setting.blurDotScale}hasShadow(){return this.setting.isShadow}hasSoftShadow(){return this.setting.isSoftShadow}hasRoughness(){return this.setting.isRoughness}getBloom(){return this.setting.bloom}hasMuzzleFlash(){return this.setting.isMuzzleFlash}getContrast(){return this.setting.contrast}getBrightness(){return this.setting.brightness}hasCRT(){return this.setting.isCRT}getResolutionIndex(){return this.setting.resolutionIndex}hasHighPixelRatio(){return this.setting.isHighPixelRatio}hasFullscreen(){return this.setting.isFullscreen}hasBrowserFullscreen(){return this.setting.isBrowserFullscreen}hasAutomaticResolution(){return this.setting.isAutomaticResolution}getCRTSubPixel(){return this.setting.crtSubPixel}getCRTLens(){return this.setting.crtLens}getCRTDeep(){return this.setting.crtDeep}getCRTEdge(){return this.setting.crtEdge}getCRTVig(){return this.setting.crtVig}hasCRTShadowMask(){return this.setting.isCRTShadowMask}getCRTCenterFadeOut(){return this.setting.crtCenterFadeOut}getSensibility(){return this.setting.sensibility}hasInvertX(){return this.setting.invertX}hasInvertY(){return this.setting.invertY}getStickInnerDeadzoneX(){return this.setting.stickInnerDeadzoneX}getStickOuterDeadzoneX(){return this.setting.stickOuterDeadzoneX}getStickInnerDeadzoneY(){return this.setting.stickInnerDeadzoneY}getStickOuterDeadzoneY(){return this.setting.stickOuterDeadzoneY}getWheelInnerDeadzone(){return this.setting.wheelInnerDeadzone}getWheelOuterDeadzone(){return this.setting.wheelOuterDeadzone}getFramerate(){return(0,r.a)()?l.a[this.setting.framerateIndex]:1/0}getFramerateIndex(){return this.setting.framerateIndex}hasDisplayPlayTime(){return this.setting.isDisplayPlayTime}hasHUD(){return this.setting.isHUD}getTheme(){return this.setting.theme}getFOV(){return this.setting.fov}}s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{n(112);var s=n(109),i=n(243),r=n(291),a=n(280),o=e([s,i,a]);[s,i,a]=o.then?(await o)():o,(0,i.a)(s.b,r.a,a.a,a.b,a.c),t()}catch(e){t(e)}}))},(e,t,n)=>{"use strict";var s,i,r,a=n(10),o=n(26),l=n(55),c=n(0),u=n(8),h=n(19),d=n(46),f=n(47),p=n(72),g=n(25),m=n(7),y=n(16),b=n(56),v=n(73),w=n(74).set,E=n(125),_=n(178),x=n(99),M=n(179),O=n(28),A=n(49),S=n(57),T=n(77),P="Promise",k=S.CONSTRUCTOR,L=S.REJECTION_EVENT,C=S.SUBCLASSING,R=O.getterFor(P),I=O.set,F=A&&A.prototype,N=A,D=F,U=c.TypeError,B=c.document,z=c.process,j=T.f,G=j,H=!!(B&&B.createEvent&&c.dispatchEvent),W="unhandledrejection",Y=function(e){var t;return!(!y(e)||!m(t=e.then))&&t},V=function(e,t){var n,s,i,r=t.value,a=1==t.state,o=a?e.ok:e.fail,l=e.resolve,c=e.reject,h=e.domain;try{o?(a||(2===t.rejection&&J(t),t.rejection=1),!0===o?n=r:(h&&h.enter(),n=o(r),h&&(h.exit(),i=!0)),n===e.promise?c(U("Promise-chain cycle")):(s=Y(n))?u(s,n,l,c):l(n)):c(r)}catch(e){h&&!i&&h.exit(),c(e)}},q=function(e,t){e.notified||(e.notified=!0,E((function(){for(var n,s=e.reactions;n=s.get();)V(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},X=function(e,t,n){var s,i;H?((s=B.createEvent("Event")).promise=t,s.reason=n,s.initEvent(e,!1,!0),c.dispatchEvent(s)):s={promise:t,reason:n},!L&&(i=c["on"+e])?i(s):e===W&&_("Unhandled promise rejection",n)},K=function(e){u(w,c,(function(){var t,n=e.facade,s=e.value;if(Z(e)&&(t=x((function(){l?z.emit("unhandledRejection",s,n):X(W,n,s)})),e.rejection=l||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(w,c,(function(){var t=e.facade;l?z.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},$=function(e,t,n){return function(s){e(t,s,n)}},Q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var s=Y(t);s?E((function(){var n={done:!1};try{u(s,t,$(ee,n,e),$(Q,n,e))}catch(t){Q(n,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){Q({done:!1},t,e)}}};if(k&&(D=(N=function(e){b(this,D),g(e),u(s,this);var t=R(this);try{e($(ee,t),$(Q,t))}catch(e){Q(t,e)}}).prototype,(s=function(e){I(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new M,rejection:!1,state:0,value:void 0})}).prototype=h(D,"then",(function(e,t){var n=R(this),s=j(v(this,N));return n.parent=!0,s.ok=!m(e)||e,s.fail=m(t)&&t,s.domain=l?z.domain:void 0,0==n.state?n.reactions.add(s):E((function(){V(s,n)})),s.promise})),i=function(){var e=new s,t=R(e);this.promise=e,this.resolve=$(ee,t),this.reject=$(Q,t)},T.f=j=function(e){return e===N||undefined===e?new i(e):G(e)},!o&&m(A)&&F!==Object.prototype)){r=F.then,C||h(F,"then",(function(e,t){var n=this;return new N((function(e,t){u(r,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete F.constructor}catch(e){}d&&d(F,D)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:N}),f(N,P,!1,!0),p(P)},(e,t,n)=>{"use strict";var s=n(10),i=n(8),r=n(25),a=n(77),o=n(99),l=n(126);s({target:"Promise",stat:!0,forced:n(128)},{all:function(e){var t=this,n=a.f(t),s=n.resolve,c=n.reject,u=o((function(){var n=r(t.resolve),a=[],o=0,u=1;l(e,(function(e){var r=o++,l=!1;u++,i(n,t,e).then((function(e){l||(l=!0,a[r]=e,--u||s(a))}),c)})),--u||s(a)}));return u.error&&c(u.value),n.promise}})},(e,t,n)=>{"use strict";var s=n(10),i=n(26),r=n(57).CONSTRUCTOR,a=n(49),o=n(32),l=n(7),c=n(19),u=a&&a.prototype;if(s({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(a)){var h=o("Promise").prototype.catch;u.catch!==h&&c(u,"catch",h,{unsafe:!0})}},(e,t,n)=>{"use strict";var s=n(10),i=n(8),r=n(25),a=n(77),o=n(99),l=n(126);s({target:"Promise",stat:!0,forced:n(128)},{race:function(e){var t=this,n=a.f(t),s=n.reject,c=o((function(){var a=r(t.resolve);l(e,(function(e){i(a,t,e).then(n.resolve,s)}))}));return c.error&&s(c.value),n.promise}})},(e,t,n)=>{"use strict";var s=n(10),i=n(8),r=n(77);s({target:"Promise",stat:!0,forced:n(57).CONSTRUCTOR},{reject:function(e){var t=r.f(this);return i(t.reject,void 0,e),t.promise}})},(e,t,n)=>{"use strict";var s=n(10),i=n(32),r=n(26),a=n(49),o=n(57).CONSTRUCTOR,l=n(130),c=i("Promise"),u=r&&!o;s({target:"Promise",stat:!0,forced:r||o},{resolve:function(e){return l(u&&this===c?a:this,e)}})},(e,t,n)=>{var s=n(13),i=n(116),r=n(18),a=n(12),o=n(53),l=n(132);t.f=s&&!i?Object.defineProperties:function(e,t){a(e);for(var n,s=o(t),i=l(t),c=i.length,u=0;c>u;)r.f(e,n=i[u++],s[n]);return e}},(e,t,n)=>{var s=n(10),i=n(0),r=n(125),a=n(25),o=n(76),l=n(55),c=i.process;s({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){o(arguments.length,1),a(e);var t=l&&c.domain;r(t?t.bind(e):e)}})},(e,t,n)=>{n(233),n(234)},(e,t,n)=>{var s=n(10),i=n(0),r=n(74).clear;s({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==r},{clearImmediate:r})},(e,t,n)=>{var s=n(10),i=n(0),r=n(74).set;s({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==r},{setImmediate:r})},()=>{},(e,t,n)=>{"use strict";n(237);var s,i=n(10),r=n(13),a=n(153),o=n(0),l=n(37),c=n(4),u=n(19),h=n(204),d=n(56),f=n(14),p=n(205),g=n(206),m=n(82),y=n(106).codeAt,b=n(208),v=n(17),w=n(47),E=n(76),_=n(154),x=n(28),M=x.set,O=x.getterFor("URL"),A=_.URLSearchParams,S=_.getState,T=o.URL,P=o.TypeError,k=o.parseInt,L=Math.floor,C=Math.pow,R=c("".charAt),I=c(/./.exec),F=c([].join),N=c(1..toString),D=c([].pop),U=c([].push),B=c("".replace),z=c([].shift),j=c("".split),G=c("".slice),H=c("".toLowerCase),W=c([].unshift),Y="Invalid scheme",V="Invalid host",q="Invalid port",X=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,J=/^0x/i,$=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,se=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,re=function(e){var t,n,s,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=L(e/256);return F(t,".")}if("object"==typeof e){for(t="",s=function(e){for(var t=null,n=1,s=null,i=0,r=0;r<8;r++)0!==e[r]?(i>n&&(t=s,n=i),s=null,i=0):(null===s&&(s=r),++i);return i>n&&(t=s,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),s===n?(t+=n?":":"::",i=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ae={},oe=p({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},oe,{"#":1,"?":1,"{":1,"}":1}),ce=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=y(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&I(X,R(e,0))&&(":"==(n=R(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&de(G(e,0,2))&&(2==e.length||"/"===(t=R(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===H(e)},ge={},me={},ye={},be={},ve={},we={},Ee={},_e={},xe={},Me={},Oe={},Ae={},Se={},Te={},Pe={},ke={},Le={},Ce={},Re={},Ie={},Fe={},Ne=function(e,t,n){var s,i,r,a=v(e);if(t){if(i=this.parse(a))throw P(i);this.searchParams=null}else{if(void 0!==n&&(s=new Ne(n,!0)),i=this.parse(a,null,s))throw P(i);(r=S(new A)).bindURL(this),this.searchParams=r}};Ne.prototype={type:"URL",parse:function(e,t,n){var i,r,a,o,l,c=this,u=t||ge,h=0,d="",p=!1,y=!1,b=!1;for(e=v(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=B(e,se,"")),e=B(e,ie,""),i=g(e);h<=i.length;){switch(r=i[h],u){case ge:if(!r||!I(X,r)){if(t)return Y;u=ye;continue}d+=H(r),u=me;break;case me:if(r&&(I(K,r)||"+"==r||"-"==r||"."==r))d+=H(r);else{if(":"!=r){if(t)return Y;d="",u=ye,h=0;continue}if(t&&(c.isSpecial()!=f(he,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=Te:c.isSpecial()&&n&&n.scheme==c.scheme?u=be:c.isSpecial()?u=_e:"/"==i[h+1]?(u=ve,h++):(c.cannotBeABaseURL=!0,U(c.path,""),u=Re)}break;case ye:if(!n||n.cannotBeABaseURL&&"#"!=r)return Y;if(n.cannotBeABaseURL&&"#"==r){c.scheme=n.scheme,c.path=m(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Fe;break}u="file"==n.scheme?Te:we;continue;case be:if("/"!=r||"/"!=i[h+1]){u=we;continue}u=xe,h++;break;case ve:if("/"==r){u=Me;break}u=Ce;continue;case we:if(c.scheme=n.scheme,r==s)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query;else if("/"==r||"\\"==r&&c.isSpecial())u=Ee;else if("?"==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query="",u=Ie;else{if("#"!=r){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.path.length--,u=Ce;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=m(n.path),c.query=n.query,c.fragment="",u=Fe}break;case Ee:if(!c.isSpecial()||"/"!=r&&"\\"!=r){if("/"!=r){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Ce;continue}u=Me}else u=xe;break;case _e:if(u=xe,"/"!=r||"/"!=R(d,h+1))continue;h++;break;case xe:if("/"!=r&&"\\"!=r){u=Me;continue}break;case Me:if("@"==r){p&&(d="%40"+d),p=!0,a=g(d);for(var w=0;w<a.length;w++){var E=a[w];if(":"!=E||b){var _=ue(E,ce);b?c.password+=_:c.username+=_}else b=!0}d=""}else if(r==s||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()){if(p&&""==d)return"Invalid authority";h-=g(d).length+1,d="",u=Oe}else d+=r;break;case Oe:case Ae:if(t&&"file"==c.scheme){u=ke;continue}if(":"!=r||y){if(r==s||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()){if(c.isSpecial()&&""==d)return V;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(o=c.parseHost(d))return o;if(d="",u=Le,t)return;continue}"["==r?y=!0:"]"==r&&(y=!1),d+=r}else{if(""==d)return V;if(o=c.parseHost(d))return o;if(d="",u=Se,t==Ae)return}break;case Se:if(!I(Z,r)){if(r==s||"/"==r||"?"==r||"#"==r||"\\"==r&&c.isSpecial()||t){if(""!=d){var x=k(d,10);if(x>65535)return q;c.port=c.isSpecial()&&x===he[c.scheme]?null:x,d=""}if(t)return;u=Le;continue}return q}d+=r;break;case Te:if(c.scheme="file","/"==r||"\\"==r)u=Pe;else{if(!n||"file"!=n.scheme){u=Ce;continue}if(r==s)c.host=n.host,c.path=m(n.path),c.query=n.query;else if("?"==r)c.host=n.host,c.path=m(n.path),c.query="",u=Ie;else{if("#"!=r){fe(F(m(i,h),""))||(c.host=n.host,c.path=m(n.path),c.shortenPath()),u=Ce;continue}c.host=n.host,c.path=m(n.path),c.query=n.query,c.fragment="",u=Fe}}break;case Pe:if("/"==r||"\\"==r){u=ke;break}n&&"file"==n.scheme&&!fe(F(m(i,h),""))&&(de(n.path[0],!0)?U(c.path,n.path[0]):c.host=n.host),u=Ce;continue;case ke:if(r==s||"/"==r||"\\"==r||"?"==r||"#"==r){if(!t&&de(d))u=Ce;else if(""==d){if(c.host="",t)return;u=Le}else{if(o=c.parseHost(d))return o;if("localhost"==c.host&&(c.host=""),t)return;d="",u=Le}continue}d+=r;break;case Le:if(c.isSpecial()){if(u=Ce,"/"!=r&&"\\"!=r)continue}else if(t||"?"!=r)if(t||"#"!=r){if(r!=s&&(u=Ce,"/"!=r))continue}else c.fragment="",u=Fe;else c.query="",u=Ie;break;case Ce:if(r==s||"/"==r||"\\"==r&&c.isSpecial()||!t&&("?"==r||"#"==r)){if(".."===(l=H(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==r||"\\"==r&&c.isSpecial()||U(c.path,"")):pe(d)?"/"==r||"\\"==r&&c.isSpecial()||U(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=R(d,0)+":"),U(c.path,d)),d="","file"==c.scheme&&(r==s||"?"==r||"#"==r))for(;c.path.length>1&&""===c.path[0];)z(c.path);"?"==r?(c.query="",u=Ie):"#"==r&&(c.fragment="",u=Fe)}else d+=ue(r,le);break;case Re:"?"==r?(c.query="",u=Ie):"#"==r?(c.fragment="",u=Fe):r!=s&&(c.path[0]+=ue(r,ae));break;case Ie:t||"#"!=r?r!=s&&("'"==r&&c.isSpecial()?c.query+="%27":c.query+="#"==r?"%23":ue(r,ae)):(c.fragment="",u=Fe);break;case Fe:r!=s&&(c.fragment+=ue(r,oe))}h++}},parseHost:function(e){var t,n,s;if("["==R(e,0)){if("]"!=R(e,e.length-1))return V;if(t=function(e){var t,n,s,i,r,a,o,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return R(e,h)};if(":"==d()){if(":"!=R(e,1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&I(ee,d());)t=16*t+k(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(s=0;d();){if(i=null,s>0){if(!("."==d()&&s<4))return;h++}if(!I(Z,d()))return;for(;I(Z,d());){if(r=k(d(),10),null===i)i=r;else{if(0==i)return;i=10*i+r}if(i>255)return;h++}l[c]=256*l[c]+i,2!=++s&&4!=s||c++}if(4!=s)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)o=l[c],l[c--]=l[u+a-1],l[u+--a]=o;else if(8!=c)return;return l}(G(e,1,-1)),!t)return V;this.host=t}else if(this.isSpecial()){if(e=b(e),I(te,e))return V;if(t=function(e){var t,n,s,i,r,a,o,l=j(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],s=0;s<t;s++){if(""==(i=l[s]))return e;if(r=10,i.length>1&&"0"==R(i,0)&&(r=I(J,i)?16:8,i=G(i,8==r?1:2)),""===i)a=0;else{if(!I(10==r?Q:8==r?$:ee,i))return e;a=k(i,r)}U(n,a)}for(s=0;s<t;s++)if(a=n[s],s==t-1){if(a>=C(256,5-t))return null}else if(a>255)return null;for(o=D(n),s=0;s<n.length;s++)o+=n[s]*C(256,3-s);return o}(e),null===t)return V;this.host=t}else{if(I(ne,e))return V;for(t="",n=g(e),s=0;s<n.length;s++)t+=ue(n[s],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,s=e.password,i=e.host,r=e.port,a=e.path,o=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=n+(s?":"+s:"")+"@"),c+=re(i),null!==r&&(c+=":"+r)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+F(a,"/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw P(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+re(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?re(e):re(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getHostname:function(){var e=this.host;return null===e?"":re(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=v(e))?this.port=null:this.parse(e,Se))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+F(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Le))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=v(e))?this.query=null:("?"==R(e,0)&&(e=G(e,1)),this.query="",this.parse(e,Ie)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=v(e))?("#"==R(e,0)&&(e=G(e,1)),this.fragment="",this.parse(e,Fe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function(e){var t=d(this,Ue),n=E(arguments.length,1)>1?arguments[1]:void 0,s=M(t,new Ne(e,!1,n));r||(t.href=s.serialize(),t.origin=s.getOrigin(),t.protocol=s.getProtocol(),t.username=s.getUsername(),t.password=s.getPassword(),t.host=s.getHost(),t.hostname=s.getHostname(),t.port=s.getPort(),t.pathname=s.getPathname(),t.search=s.getSearch(),t.searchParams=s.getSearchParams(),t.hash=s.getHash())},Ue=De.prototype,Be=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:!0,enumerable:!0}};if(r&&(h(Ue,"href",Be("serialize","setHref")),h(Ue,"origin",Be("getOrigin")),h(Ue,"protocol",Be("getProtocol","setProtocol")),h(Ue,"username",Be("getUsername","setUsername")),h(Ue,"password",Be("getPassword","setPassword")),h(Ue,"host",Be("getHost","setHost")),h(Ue,"hostname",Be("getHostname","setHostname")),h(Ue,"port",Be("getPort","setPort")),h(Ue,"pathname",Be("getPathname","setPathname")),h(Ue,"search",Be("getSearch","setSearch")),h(Ue,"searchParams",Be("getSearchParams")),h(Ue,"hash",Be("getHash","setHash"))),u(Ue,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),u(Ue,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),T){var ze=T.createObjectURL,je=T.revokeObjectURL;ze&&u(De,"createObjectURL",l(ze,T)),je&&u(De,"revokeObjectURL",l(je,T))}w(De,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!r},{URL:De})},(e,t,n)=>{"use strict";var s=n(106).charAt,i=n(17),r=n(28),a=n(133),o="String Iterator",l=r.set,c=r.getterFor(o);a(String,"String",(function(e){l(this,{type:o,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=s(n,i),t.index+=e.length,{value:e,done:!1})}))},(e,t,n)=>{var s=n(13),i=n(0),r=n(4),a=n(97),o=n(149),l=n(23),c=n(95).f,u=n(35),h=n(101),d=n(17),f=n(156),p=n(102),g=n(209),m=n(19),y=n(3),b=n(14),v=n(28).enforce,w=n(72),E=n(9),_=n(141),x=n(142),M=E("match"),O=i.RegExp,A=O.prototype,S=i.SyntaxError,T=r(A.exec),P=r("".charAt),k=r("".replace),L=r("".indexOf),C=r("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,F=/a/g,N=new O(I)!==I,D=p.MISSED_STICKY,U=p.UNSUPPORTED_Y,B=s&&(!N||D||_||x||y((function(){return F[M]=!1,O(I)!=I||O(F)==F||"/a/i"!=O(I,"i")})));if(a("RegExp",B)){for(var z=function(e,t){var n,s,i,r,a,c,p=u(A,this),g=h(e),m=void 0===t,y=[],w=e;if(!p&&g&&m&&e.constructor===z)return e;if((g||u(A,e))&&(e=e.source,m&&(t=f(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,_&&"dotAll"in I&&(s=!!t&&L(t,"s")>-1)&&(t=k(t,/s/g,"")),n=t,D&&"sticky"in I&&(i=!!t&&L(t,"y")>-1)&&U&&(t=k(t,/y/g,"")),x&&(r=function(e){for(var t,n=e.length,s=0,i="",r=[],a={},o=!1,l=!1,c=0,u="";s<=n;s++){if("\\"===(t=P(e,s)))t+=P(e,++s);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:T(R,C(e,s+1))&&(s+=2,l=!0),i+=t,c++;continue;case">"===t&&l:if(""===u||b(a,u))throw new S("Invalid capture group name");a[u]=!0,r[r.length]=[u,c],l=!1,u="";continue}l?u+=t:i+=t}return[i,r]}(e),e=r[0],y=r[1]),a=o(O(e,t),p?this:A,z),(s||i||y.length)&&(c=v(a),s&&(c.dotAll=!0,c.raw=z(function(e){for(var t,n=e.length,s=0,i="",r=!1;s<=n;s++)"\\"!==(t=P(e,s))?r||"."!==t?("["===t?r=!0:"]"===t&&(r=!1),i+=t):i+="[\\s\\S]":i+=t+P(e,++s);return i}(e),n)),i&&(c.sticky=!0),y.length&&(c.groups=y)),e!==w)try{l(a,"source",""===w?"(?:)":w)}catch(e){}return a},j=c(O),G=0;j.length>G;)g(z,O,j[G++]);A.constructor=z,z.prototype=A,m(i,"RegExp",z,{constructor:!0})}w("RegExp")},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(29),n(158),n(157),n(11),n(1),n(2),n(152),n(155);var s=n(5),i=n(211);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t){r(this,"worker",void 0),r(this,"source",void 0);const n=t.toString().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/),s=(0,i.b)("text/javascript",null!==n?n.length>2?"\n\t\t\tonmessage = (".concat(n[1],") => {\n\t\t\t\t").concat(n[2],"\n\t\t\t};\n\t\t"):"\n\t\t\tonmessage = () => {\n\t\t\t\t".concat(n[1],"\n\t\t\t};\n\t\t"):"");this.source=s,this.worker=new e(s)}exec(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(((t,n)=>{const i=e=>{(0,s.d)(this.worker,"message",i),(0,s.d)(this.worker,"error",r),t(e.data)},r=e=>{(0,s.d)(this.worker,"message",i),(0,s.d)(this.worker,"error",r),n(e)};(0,s.b)(this.worker,"message",i),(0,s.b)(this.worker,"error",r),this.worker.postMessage(e)}))}terminate(){URL.revokeObjectURL(this.source),this.worker.terminate()}}},(e,t,n)=>{"use strict";n(1),n(60),n(85),n(61),n(62),n(63);Float32Array},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t,n,r,a,o,l,c,u){let h=arguments.length>9&&void 0!==arguments[9]&&arguments[9],d=arguments.length>10&&void 0!==arguments[10]&&arguments[10],f=arguments.length>11&&void 0!==arguments[11]&&arguments[11],p=arguments.length>12&&void 0!==arguments[12]&&arguments[12],g=arguments.length>13&&void 0!==arguments[13]&&arguments[13],m=arguments.length>14&&void 0!==arguments[14]&&arguments[14],y=arguments.length>15&&void 0!==arguments[15]&&arguments[15],b=arguments.length>16&&void 0!==arguments[16]&&arguments[16],v=arguments.length>17&&void 0!==arguments[17]&&arguments[17],w=arguments.length>18&&void 0!==arguments[18]&&arguments[18],E=arguments.length>19&&void 0!==arguments[19]&&arguments[19],_=arguments.length>20&&void 0!==arguments[20]&&arguments[20];i(this,"position",void 0),i(this,"front",void 0),i(this,"back",void 0),i(this,"right",void 0),i(this,"left",void 0),i(this,"top",void 0),i(this,"bottom",void 0),i(this,"flipXFront",!1),i(this,"flipYFront",!1),i(this,"flipXBack",!1),i(this,"flipYBack",!1),i(this,"flipXRight",!1),i(this,"flipYRight",!1),i(this,"flipXLeft",!1),i(this,"flipYLeft",!1),i(this,"flipXTop",!1),i(this,"flipYTop",!1),i(this,"flipXBottom",!1),i(this,"flipYBottom",!1),this.position=new s.c(e,t,n),this.front=r,this.back=a,this.right=o,this.left=l,this.top=c,this.bottom=u,this.flipXFront=h,this.flipYFront=d,this.flipXBack=f,this.flipYBack=p,this.flipXRight=g,this.flipYRight=m,this.flipXLeft=y,this.flipYLeft=b,this.flipXTop=v,this.flipYTop=w,this.flipXBottom=E,this.flipYBottom=_}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>c});n(11),n(1),n(2);var s=n(151),i=n(215),r=n(83),a=n(22),o=n(5);let l=null;if("AudioContext"in self){l=new AudioContext;try{(0,i.a)(l)}catch(e){const t=()=>{(0,o.d)((0,a.f)(),"DOMContentLoaded",t),l&&(0,i.a)(l)};(0,o.b)((0,a.f)(),"DOMContentLoaded",t)}}class c extends s.a{async load(){const e=this.getDatas();0===e.length&&e.push(...await Promise.all(this.getUrls().map((async e=>l?l.decodeAudioData((await(0,r.a)(e,"arraybuffer")).source):null))))}}},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>I});n(1),n(2),n(11),n(15);var i=n(112),r=n(244),a=n(245),o=n(216),l=n(248),c=n(84),u=n(160),h=n(83),d=n(249),f=n(251),p=n(5),g=n(252),m=n(253),y=n(217),b=n(212),v=n(111),w=n(110),E=n(254),_=n(24),x=n(247),M=n(218),O=n(222),A=n(279),S=n(22),T=n(164),P=n(151),k=n(109),L=n(30),C=n(163),R=e([c,u,d,b,O,k]);function I(e,t,n,s,R){if(!c.e)return alert("Not support is this ".concat((0,_.a)()?"hardware":"browser"));(0,P.c)([...e,...(0,P.b)(k.d),...(0,P.b)(k.a),...(0,P.b)(k.c)]),(0,i.b)((async()=>{const i=document.querySelector(".buffer")||null,P=document.getElementById("touchpad")||null,I=document.getElementById("composite")||null,F=document.getElementById("raycast")||null,N=document.getElementById("ui")||null;if(null===i||null===I||null===F||null===N||null===P)return;(0,p.b)((0,S.f)(),"error",(()=>{M.c.postMessage({method:"error"}),M.b.postMessage({method:"error"}),Oe()}));let D=!1,U=!1,B=null,z=!1,j=!1,G=!1,H=!1,W=!1,Y=!1,V=!1,q=!1,X=!1,K=!1,Z=!1,J=!1,$=!1,Q=!1,ee=!1,te=!1,ne=!1,se=!0,ie=!1,re=!1,ae=!1;const oe=new Array,le=new MessageChannel,ce=new MessageChannel,ue=new MessageChannel,he=c.c?new MessageChannel:new S.b,de=c.c?new MessageChannel:new S.b,fe=await(0,y.a)("setting"),pe=new O.c(fe),ge=new m.a,me=new d.a(k.d),ye=new f.a(me),be=new g.a(ue.port1),ve=new r.a(".resizer",P);let we=!pe.hasFullscreen(),Ee=(0,v.f)(),_e=!pe.hasCRT(),xe=-1,Me=-1;function Oe(){D=!0,(0,S.d)(xe),(0,S.e)(Me),(0,x.a)()}new p.a(ge,"active").on((e=>{const{activeSceneName:t}=e;B=t}));let Ae=!1,Se=!1,Te=!1,Pe=!1;try{console.log("[load start worker script]");const ke=new t,Le={activeSceneName:null},Ce={sounds:{center:{direction:{x:-1,y:-1},position:{x:-1,y:-1,z:-1}},speed:0,volume:0,sounds:{}},sceneName:""};(0,p.b)(ke,"message",(async e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"standby":console.log("-tick"),z=!0;break;case"portready":console.log("-tick"),W=!0;break;case"portstart":console.log("-tick"),X=!0;break;case"ready":console.log("-tick"),$=!0;break;case"error":Oe();break;case"transfer-update":if(O.b){ke.postMessage({method:"apply-update-data"});const e=JSON.parse((0,L.d)(t.value));(0,C.a)(Le,e),ge.applyData(Le)}else ge.applyData(t.value);break;case"transfer-sound":if(O.a){const e=JSON.parse((0,L.d)(t.value));(0,C.a)(Ce,e),ye.applyData(Ce.sounds,Ce.sceneName,pe.getSoundVolume()),ke.postMessage({method:"apply-sound-data",value:ye.createTransferData(Ce.sceneName)})}else{const e=t.value;ye.applyData(e.sounds,e.sceneName,pe.getSoundVolume()),ke.postMessage({method:"apply-sound-data",value:ye.createTransferData(e.sceneName)})}break;case"toggle-vulkan":"electron"in self&&await self.electron.setSetting("graphics.isUseVulkan",t.value);break;case"reboot":"electron"in self&&await self.electron.reboot();break;case"terminate":Ae=!0,ke.terminate()}}));let Re=0;function Ie(){0===Re&&document.querySelectorAll("#loading").forEach((e=>{e.className="visible"})),Re++}function Fe(){Re--,0===Re&&document.querySelectorAll("#loading").forEach((e=>{e.className="hide"}))}const Ne=new n;(0,p.b)(Ne,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"standby":console.log("-render composite"),j=!0;break;case"portready":console.log("-render composite"),Y=!0;break;case"portstart":console.log("-render composite"),K=!0;break;case"ready":console.log("-render composite"),Q=!0;break;case"error":Oe();break;case"lostcontext":pe.setCRTEnable(!1),(0,y.b)("setting").then((()=>{throw new Error("sorry lost context of WebGL")}));break;case"paintwait":ie||Ie(),ie=!0;break;case"unlockpaintwait":ie&&Fe(),ie=!1;break;case"post-asset-data":break;case"terminate":Se=!0,Ne.terminate()}}));const De=new s;(0,p.b)(De,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"standby":console.log("-render raycast"),G=!0;break;case"portready":console.log("-render raycast"),V=!0;break;case"portstart":console.log("-render raycast"),Z=!0;break;case"ready":console.log("-render raycast"),ee=!0;break;case"error":Oe();break;case"lostcontext":pe.setCRTEnable(!1),(0,y.b)("setting").then((()=>{throw new Error("sorry lost context of WebGL")}));break;case"recompile":(0,S.g)((()=>De.postMessage({method:"recompile"}))),re||Ie(),re=!0;break;case"paintwait":re||Ie(),re=!0;break;case"unlockpaintwait":re&&Fe(),re=!1,se=!1;break;case"terminate":Te=!0,De.terminate()}}));const Ue=new R;function Be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe.hasVisible()&&"touchpad"===be.getInputType();const[t,n]=(0,A.c)(pe,A.a,e),[s,r]=(0,A.b)(pe,A.a,e);(0,v.a)(),ve.setSize(t,n),ve.resize(!0,e),i instanceof Element&&(0,w.b)(i,{width:"".concat(t,"px"),height:"".concat(n,"px")}),I instanceof Element&&(0,w.b)(I,{width:"".concat(t,"px"),height:"".concat(n,"px"),left:"0px"}),F instanceof Element&&(0,w.b)(F,{width:"".concat(s,"px"),height:"".concat(r,"px"),left:"0px"}),N instanceof Element&&(0,w.b)(N,{width:"".concat(s,"px"),height:"".concat(r,"px"),left:"0px"})}function ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;U||(M.c.postMessage({method:"sleep",scene:e}),M.b.postMessage({method:"sleep"}),ye.pause(),U=!0)}function je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;U&&(M.c.postMessage({method:"unsleep",scene:e}),M.b.postMessage({method:"unsleep"}),ye.play(),U=!1)}function Ge(){Me=(0,S.h)(Ge);ie||re||ae||(0,v.e)()||(0,h.b)()||(0,_.b)()?ze():je(),oe.forEach((e=>e.update()))}function He(e){xe=(0,S.g)(He),Be(),(0,E.a)(),oe.forEach((e=>e.rendering()))}(0,p.b)(Ue,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"standby":console.log("-render ui"),H=!0;break;case"portready":console.log("-render ui"),q=!0;break;case"portstart":console.log("-render ui"),J=!0;break;case"ready":console.log("-render ui"),te=!0;break;case"error":Oe();break;case"paintwait":ae||Ie(),ae=!0;break;case"unlockpaintwait":ae&&Fe(),ae=!1;break;case"lostcontext":pe.setCRTEnable(!1),(0,y.b)("setting").then((()=>{throw new Error("sorry lost context of WebGL")}));break;case"terminate":Pe=!0,Ue.terminate()}})),await Promise.all([new Promise((e=>{const t=()=>{z?e(null):(0,S.h)(t)};(0,S.h)(t)})),new Promise((e=>{const t=()=>{j?e(null):(0,S.h)(t)};(0,S.h)(t)})),new Promise((e=>{const t=()=>{G?e(null):(0,S.h)(t)};(0,S.h)(t)})),new Promise((e=>{const t=()=>{H?e(null):(0,S.h)(t)};(0,S.h)(t)}))]),(0,p.b)(M.b,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"requestresize":Be();break;case"loadstart":me.load((()=>M.b.postMessage({method:"loadcount"})));break;case"loaded":ne=!0}}));const We=(await(0,h.a)("./asset/touchpad.html","text")).source,Ye=new o.a(1,[i,P],ue.port1),Ve=new l.a(1,fe,ue.port1),qe=new a.a(1,P,ue.port1,We);let Xe=qe.hasVisible(),Ke=-1;function Ze(e){let t="none";if(e.ctrlKey){switch(e.key.toLocaleLowerCase()){case"o":t="open";break;case"s":t="save";break;case"n":t="new";break;case"b":t="build";break;case"p":t="preview";break;default:t="none"}ue.port1.postMessage({method:"editor",name:t})}}function Je(){-1===Ke&&"keyboard"!==be.getInputType()&&(self.focus(),Ye.changeDevice(),qe.hide(),(0,v.b)(),D||U||!ne||null===B||"title"===B||(0,x.d)())}function $e(){-1===Ke&&"gamepad"!==be.getInputType()&&(self.focus(),Ve.changeDevice(),qe.hide(),(0,v.b)(),(0,x.a)())}function Qe(){-1!==Ke||qe.hasVisible()&&"touchpad"===be.getInputType()||(Ke=setTimeout((()=>{Ke=-1,qe.hasVisible()&&"touchpad"===be.getInputType()||(self.focus(),qe.changeDevice(),(0,v.b)())}),100),(0,x.a)())}function et(){M.c.postMessage({method:"changescene",value:"title"})}function tt(){(0,S.g)(tt);const e=pe.hasCRT();e!==_e&&(I instanceof HTMLCanvasElement&&F instanceof HTMLCanvasElement&&N instanceof HTMLCanvasElement&&(e?((0,w.c)(I,"display","block"),(0,w.c)(F,"display","none"),(0,w.c)(N,"display","none")):((0,w.c)(I,"display","none"),(0,w.c)(F,"display","block"),(0,w.c)(N,"display","block"))),_e=e);const t=pe.hasFullscreen();t!==we&&(t?(0,v.i)():(0,v.c)(),we=t);const n=(0,v.f)();Ee!==n&&(Ee=n);const s=qe.hasVisible();s&&s!==Xe&&(Qe(),Xe=s),(0,T.a)()||(0,x.a)(),(0,T.b)()||qe.hide()}function nt(){"gamepad"===be.getInputType()&&M.c.postMessage({method:"pause"})}(0,p.b)(document.body,"keydown",Ze),(0,p.b)(document.body,"touchend",Qe),(0,p.b)((0,S.f)(),"contextmenu",(e=>{e.stopPropagation(),e.preventDefault()})),(0,v.h)((e=>{e&&ze("title")})),(0,p.b)((0,S.f)(),"beforeunload",(()=>{ke.terminate(),Ne.terminate(),De.terminate(),Ue.terminate()})),(0,p.b)((0,S.f)(),"pagehide",(()=>{ge.destroy(),me.destroy(),ye.destroy(),be.destroy(),ve.destroy()})),(0,p.b)((0,S.f)(),"unload",(()=>{(0,p.c)()})),be.addControls(Ye,Ve,qe),oe.push(ve,ye,be),Ye.press(Je),Ye.axes(Je),Ye.cursor(Je),Ve.press($e),Ve.axes($e),qe.press(Qe),qe.axes(Qe),qe.exit(et),new p.a(Ve,"changeconnect").on((e=>{let{value:t}=e;t||nt()})),(0,p.b)((0,S.f)(),"gamepaddisconnected",(()=>{nt()})),console.log("[transfer message port]"),await Promise.all([new Promise((e=>{const t=()=>{W?e(null):(0,S.h)(t)};ke.postMessage({method:"portready",RaycastChannel:ce.port1,UIChannel:le.port1,ControlChannel:ue.port2},[ce.port1,le.port1,ue.port2]),(0,S.h)(t)})),new Promise((e=>{const t=()=>{Y?e(null):(0,S.h)(t)};Ne.postMessage({method:"portready",RaycastScreenChannel:he.port2,UIScreenChannel:de.port2},[he.port2,de.port2]),(0,S.h)(t)})),new Promise((e=>{const t=()=>{V?e(null):(0,S.h)(t)};De.postMessage({method:"portready",RaycastChannel:ce.port2,RaycastScreenChannel:he.port1},[ce.port2,he.port1]),(0,S.h)(t)})),new Promise((e=>{const t=()=>{q?e(null):(0,S.h)(t)};Ue.postMessage({method:"portready",UIChannel:le.port2,UIScreenChannel:de.port1},[le.port2,de.port1]),(0,S.h)(t)}))]),console.log("[starting message port]"),await Promise.all([new Promise((e=>{const t=()=>{X?(ue.port1.start(),e(null)):(0,S.h)(t)};ke.postMessage({method:"portstart"}),(0,S.h)(t)})),new Promise((e=>{const t=()=>{K?e(null):(0,S.h)(t)};Ne.postMessage({method:"portstart"}),(0,S.h)(t)})),new Promise((e=>{const t=()=>{Z?e(null):(0,S.h)(t)};De.postMessage({method:"portstart"}),(0,S.h)(t)})),new Promise((e=>{const t=()=>{J?e(null):(0,S.h)(t)};Ue.postMessage({method:"portstart"}),(0,S.h)(t)}))]),console.log("[initialize worker]");const st=new Array;await Promise.all(e.map((e=>(0,u.a)(e)))).then((e=>{e.forEach((e=>{null!==e&&st.push(e)}))}));const it={maxTextureSize:b.a,isUseVulkan:"electron"in self&&await self.electron.getSetting("graphics.isUseVulkan"),initScene:"title"},rt={maxTextureSize:b.a,screen:(0,c.b)(I)},at={maxTextureSize:b.a,screen:(0,c.b)(F)},ot={logos:st,maxTextureSize:b.a,screen:(0,c.b)(N)},lt=new Array,ct=new Array,ut=new Array,ht=new Array;"OffscreenCanvas"in self&&rt.screen instanceof self.OffscreenCanvas&&ct.push(rt.screen),"OffscreenCanvas"in self&&at.screen instanceof self.OffscreenCanvas&&ut.push(at.screen),"OffscreenCanvas"in self&&ot.screen instanceof self.OffscreenCanvas&&ht.push(ot.screen),st.forEach((e=>{"ImageBitmap"in self&&e instanceof self.ImageBitmap&&ht.push(e)})),await Promise.all([new Promise((e=>{const t=()=>{$?e(null):(0,S.h)(t)};ke.postMessage({method:"init",value:it},lt),(0,S.h)(t)})),new Promise((e=>{const t=()=>{Q?e(null):(0,S.h)(t)};Ne.postMessage({method:"init",value:rt},ct),(0,S.h)(t)})),new Promise((e=>{const t=()=>{ee?e(null):(0,S.h)(t)};De.postMessage({method:"init",value:at},ut),(0,S.h)(t)})),new Promise((e=>{const t=()=>{te?e(null):(0,S.h)(t)};Ue.postMessage({method:"init",value:ot},ht),(0,S.h)(t)}))]).then((()=>{console.log("[ready runtime]")})),"electron"in self&&await self.electron.ready(),(0,S.g)((async()=>{console.log("[start workers]"),Ne.postMessage({method:"start"}),Ue.postMessage({method:"start"}),De.postMessage({method:"start"}),await new Promise((e=>{const t=async()=>{if(se)(0,S.h)(t);else{const t=()=>{ne?e(null):(0,S.h)(t)};console.log("[complete start workers]"),"electron"in self&&await self.electron.init(),console.log("[start asset loading]"),M.b.postMessage({method:"loading"}),Me=(0,S.h)(Ge),xe=(0,S.g)(He),(0,S.g)(tt),self.focus(),(0,S.h)(t)}};(0,S.h)(t)})).then((()=>{console.log("[complete asset loading]")})),console.log("[start engine runtime]"),ke.postMessage({method:"start"}),self.focus()}))}catch(dt){throw dt}}))}[c,u,d,b,O,k]=R.then?(await R)():R,s()}catch(F){s(F)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>c});n(1),n(2),n(15);var s=n(5),i=n(6),r=n(110),a=n(111),o=n(22);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e){l(this,"id",void 0),l(this,"childs",void 0),l(this,"size",new i.b(0,0)),l(this,"oldSize",new i.b(0,0)),this.id=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.childs=n,(0,s.b)((0,o.f)(),"resize",(()=>{this.resize()}))}fix(e,t,n,s){let i=0,a=0;t>e?s.clientHeight/s.clientWidth>t/e?(i=Math.max(e,t)*(this.size.x/this.size.y),a=Math.max(e,t)):(i=Math.min(t,e),a=Math.min(t,e)*(this.size.y/this.size.x)):s.clientWidth/s.clientHeight>e/t?(i=Math.max(t,e),a=Math.max(t,e)*(this.size.y/this.size.x)):(i=Math.min(e,t)*(this.size.x/this.size.y),a=Math.min(e,t)),(0,r.b)(n,{transformOrigin:"top left",transform:"translate(calc(".concat(e,"px / 2.0 - ").concat(i,"px / 2.0), calc(").concat(t,"px / 2.0 - ").concat(a,"px / 2.0)) scale(").concat(i/this.size.x,", ").concat(a/this.size.y,")"),position:"relative"})}setSize(e,t){this.size.x=e,this.size.y=t}resize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.querySelector(this.id),[i,o]=(0,a.d)(!1,t);if(null!==n&&null!==n.parentElement&&n instanceof Element&&(e||i!==this.oldSize.x||o!==this.oldSize.y)){const e=n.parentElement||n;this.oldSize.x=i,this.oldSize.y=o,this.fix(i,o,n,n),t&&e.clientHeight>e.offsetWidth?this.childs.forEach((e=>{(0,r.b)(e,{left:"".concat(0,"px"),top:"".concat(o,"px"),width:"".concat(i,"px"),height:"".concat(o,"px")})})):this.childs.forEach((e=>{(0,r.b)(e,{left:"".concat(0,"px"),top:"".concat(0,"px"),width:"".concat(i,"px"),height:"".concat(o,"px")})})),new s.a(this,"resize").trigger({widht:this.oldSize.x,height:this.oldSize.y})}}update(){}rendering(){}destroy(){new s.a(this,"destroy").trigger()}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(29),n(159),n(1),n(2),n(15),n(161),n(158);var s=n(6),i=n(246),r=n(110),a=n(111),o=n(164),l=n(5);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(e||"").length>0?(e||"").split(" "):[]}class h extends i.a{constructor(e,t,n,i){super("touchpad",e,n),c(this,"html",""),c(this,"pointer",new s.b(0,0)),c(this,"init",!1),c(this,"actions",new Map),c(this,"visible",!1),c(this,"controlElement",void 0),this.controlElement=t,this.html=i,(0,l.b)(n,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"stick"===t.method)this.changeStick(t.name,t.value)}))}query(e){return[].slice.call(this.controlElement.querySelectorAll(e))}pressAction(e){this.actions.get(e)||(this.actions.set(e,!0),this.firePress("touchpad_".concat(e),!0))}releaseAction(e){this.actions.get(e)&&(this.actions.set(e,!1),this.firePress("touchpad_".concat(e),!1))}hasAction(e){return this.actions.get(e)||!1}initialize(){this.init||(this.init=!0,this.controlElement.innerHTML=this.html,this.query(".touch-cross").forEach((e=>{const t="calc(".concat(e.getAttribute("size")," / 3.0)"),n=e.hasAttribute("capture"),s=u(e.getAttribute("secondary")),i=parseInt(e.getAttribute("interval")||"0")||300,a=e.getAttribute("press-up")||"",o=e.getAttribute("press-down")||"",c=e.getAttribute("press-right")||"",h=e.getAttribute("press-left")||"";let d,f=null;e.innerHTML='\n\t\t\t\t<div class="touch-layer" size="'.concat(t,'" bottom="50%" left="50%" color="').concat(e.getAttribute("color"),'" font="').concat(e.getAttribute("font"),'"></div>\n\t\t\t\t<div class="touch-layer" button-name="').concat(a,'" size="').concat(t,'" bottom="50% + ').concat(t,'" left="50%" color="').concat(e.getAttribute("color"),'" font="').concat(e.getAttribute("font"),'" style="border-top-right-radius:5px; border-top-left-radius:5px;"></div>\n\t\t\t\t<div class="touch-layer" button-name="').concat(o,'" size="').concat(t,'" bottom="50% - ').concat(t,'" left="50%" color="').concat(e.getAttribute("color"),'" font="').concat(e.getAttribute("font"),'" style="border-bottom-right-radius:5px; border-bottom-left-radius:5px;"></div>\n\t\t\t\t<div class="touch-layer" button-name="').concat(c,'" size="').concat(t,'" bottom="50%" left="50% + ').concat(t,'" color="').concat(e.getAttribute("color"),'" font="').concat(e.getAttribute("font"),'" style="border-top-right-radius:5px; border-bottom-right-radius:5px;"></div>\n\t\t\t\t<div class="touch-layer" button-name="').concat(h,'" size="').concat(t,'" bottom="50%" left="50% - ').concat(t,'" color="').concat(e.getAttribute("color"),'" font="').concat(e.getAttribute("font"),'" style="border-top-left-radius:5px; border-bottom-left-radius:5px;"></div>\n\t\t\t');let p="none";const g=e=>{const t=performance.now();m(e),clearTimeout(d),null!==f&&t-f<i?s.forEach((e=>this.pressAction(e))):(f=t,d=setTimeout((()=>{f=null}),i))},m=t=>{if(n||(t.preventDefault(),t.stopPropagation()),null===t.target)return;const s=e.getBoundingClientRect(),i=s.left,l=s.top;let u="none";const d=t.target.clientWidth/3;if(t instanceof TouchEvent&&Array.prototype.slice.call(t.changedTouches).forEach((t=>{if(t.target!==e)return;const n=t.pageX-i,s=t.pageY-l;if(n<d||n>2*d||s<d||s>2*d)switch(!0){case n<d&&s<d:u="".concat(a," ").concat(h);break;case n>2*d&&s<d:u="".concat(a," ").concat(c);break;case s>2*d&&n<d:u="".concat(o," ").concat(h);break;case n>2*d&&s>2*d:u="".concat(o," ").concat(c);break;case n>d&&n<2*d&&s<d:u=a;break;case n>d&&s>2*d&&n<2*d:u=o;break;case s>d&&n<d&&s<2*d:u=h;break;case n>2*d&&s>d&&s<2*d:u=c}})),p!==u){const t=[].slice.call(e.children);p.split(" ").forEach((e=>this.releaseAction(e))),u.split(" ").forEach((e=>this.pressAction(e))),t.forEach((t=>{if(t.hasAttribute("button-name")){const n=t.getAttribute("button-name");if(null===n)return;-1!==u.indexOf(n)?(0,r.c)(t,"backgroundColor",e.getAttribute("hover")||""):-1!==p.indexOf(n)&&(0,r.c)(t,"backgroundColor",e.getAttribute("color")||"")}}))}p=u},y=t=>{n||(t.preventDefault(),t.stopPropagation()),s.forEach((e=>this.releaseAction(e))),p.split(" ").forEach((e=>this.releaseAction(e))),[].slice.call(e.children).forEach((t=>{const n=t.getAttribute("button-name");null!==n&&-1!==p.indexOf(n)&&(0,r.c)(t,"backgroundColor",e.getAttribute("color")||"")})),p="none"};e instanceof HTMLElement&&((0,l.b)(e,"touchstart",g,{passive:!1,capture:n}),(0,l.b)(e,"touchmove",m,{passive:!1,capture:n}),(0,l.b)(e,"touchend",y,n),(0,l.b)(e,"touchcancel",y,n))})),this.query(".touch-axes").forEach((e=>{let t,n=-1,s=-1,i=-1;const r=e=>{e.preventDefault(),[...e.changedTouches].forEach((e=>{let{identifier:t,clientX:r,clientY:a}=e;-1===n&&-1===s&&-1===i&&(n=t,s=r,i=a)}))},o=r=>{r.preventDefault();let o=0,l=0;[...r.changedTouches].forEach((r=>{let{identifier:c,clientX:u,clientY:h}=r;if(n!==c)return;-1!==s&&-1!==i&&(o=u-s,l=h-i),e.hasAttribute("stick")||(s=u,i=h);const[d,f]=(0,a.d)(),p=Math.min(d,f)/3;"y"===e.getAttribute("name")?(this.pointer.x=o/p,this.pointer.y=l/p,e.hasAttribute("stick")?(this.pointer.x+=o/p,this.pointer.y+=l/p):(clearTimeout(t),t=setTimeout((()=>{this.pointer.x=0,this.pointer.y=0,this.fireAxes("y",this.pointer.x,this.pointer.y)}),10)),this.fireAxes("y",this.pointer.x,this.pointer.y)):this.fireAxes(e.getAttribute("name")||"",o/p,l/p)}))},c=t=>{t.preventDefault(),[...t.changedTouches].forEach((t=>{let{identifier:r,clientX:a,clientY:o}=t;n===r&&(n=-1,s=-1,i=-1,"y"===e.getAttribute("name")&&(this.pointer.x=0,this.pointer.y=0),this.fireAxes(e.getAttribute("name")||"",0,0))}))};e instanceof HTMLElement&&((0,l.b)(e,"touchstart",r,{passive:!1}),(0,l.b)(e,"touchmove",o,{passive:!1}),(0,l.b)(e,"touchend",c),(0,l.b)(e,"touchcancel",c))})),this.query("[primary]").forEach((e=>{const t=u(e.getAttribute("primary")),n=u(e.getAttribute("secondary")),s=e.hasAttribute("capture"),i=e.hasAttribute("exit");let r,a,o,c=parseInt(e.getAttribute("interval")||"0"),h=null,d=!1;if(isNaN(c))switch(!0){case e.hasAttribute("hold"):c=150;break;case e.hasAttribute("double"):c=225;break;case e.hasAttribute("quick"):c=275;break;default:c=0}switch(!0){case e.hasAttribute("hold"):a=e=>{s||(e.preventDefault(),e.stopPropagation()),clearTimeout(r),r=setTimeout((()=>{d=!0,n.forEach((e=>this.pressAction(e)))}),c),t.forEach((e=>this.releaseAction(e)))};break;case e.hasAttribute("double"):a=e=>{s||(e.preventDefault(),e.stopPropagation()),null!==h&&performance.now()-h<c?(h=null,clearTimeout(r),n.forEach((e=>this.pressAction(e)))):(h=performance.now(),clearTimeout(r),r=setTimeout((()=>{d=!0,h=null,t.forEach((e=>this.pressAction(e)))}),c))};break;case e.hasAttribute("quick"):a=e=>{s||(e.preventDefault(),e.stopPropagation()),null!==h&&performance.now()-h<c?(h=null,n.forEach((e=>this.pressAction(e)))):(h=performance.now(),t.forEach((e=>this.pressAction(e))))};break;default:a=e=>{s||(e.preventDefault(),e.stopPropagation()),t.forEach((e=>this.pressAction(e)))}}switch(!0){case e.hasAttribute("hold"):o=e=>{s||(e.preventDefault(),e.stopPropagation()),clearTimeout(r),d?(d=!1,n.forEach((e=>this.releaseAction(e)))):(t.forEach((e=>this.pressAction(e))),r=setTimeout((()=>{t.forEach((e=>this.releaseAction(e)))}),c))};break;case e.hasAttribute("double"):o=e=>{s||(e.preventDefault(),e.stopPropagation()),d?(d=!1,t.forEach((e=>this.releaseAction(e)))):clearTimeout(r),n.forEach((e=>this.releaseAction(e)))};break;case e.hasAttribute("quick"):default:o=e=>{s||(e.preventDefault(),e.stopPropagation()),t.forEach((e=>this.releaseAction(e))),n.forEach((e=>this.releaseAction(e)))}}e instanceof HTMLElement&&((0,l.b)(e,"touchstart",a,{passive:!1,capture:s}),(0,l.b)(e,"touchend",o,s),(0,l.b)(e,"touchcancel",o,s),i&&(0,l.b)(e,"touchend",(()=>{this.visible&&new l.a(this,"exit").trigger(),this.hide()})))})),this.query(".touch-button, .touch-layout, .touch-layer").forEach((e=>{let t,n;e.hasAttribute("size")?t=n=e.getAttribute("size"):(t=e.getAttribute("width"),n=e.getAttribute("height")),(0,r.b)(e,{width:t||"",height:n||"",top:"calc(".concat(e.getAttribute("top")," - ").concat(n," / 2)"),bottom:"calc(".concat(e.getAttribute("bottom")," - ").concat(n," / 2)"),left:"calc(".concat(e.getAttribute("left")," - ").concat(t," / 2)"),right:"calc(".concat(e.getAttribute("right")," - ").concat(t," / 2)")})})),this.query(".touch-button, .touch-layer").forEach((e=>{let t="",n="";e.hasAttribute("size")?t=n=e.getAttribute("size")||"":(t=e.getAttribute("width")||"",n=e.getAttribute("height")||""),e.hasAttribute("radius")&&(0,r.c)(e,"borderRadius","".concat((e.getAttribute("radius")||"").length>0?e.getAttribute("radius"):"".concat(/\%$/.test(t)||/\%$/.test(n)?"50vw":Number((t.match(/^[0-9\.]+/)||[])[0])<Number((n.match(/^[0-9\.]+/)||[])[0])?t:n))),(0,r.b)(e,{backgroundColor:"".concat(e.getAttribute("color")),color:"".concat(e.getAttribute("font"))})})),this.updateVisible())}exit(e){new l.a(this,"exit").on(e)}changeDevice(){this.visible||super.changeDevice(),this.visible=!0}hide(){this.visible=!1}hasVisible(){return this.visible}updateVisible(){this.controlElement&&(0,r.c)(this.controlElement,"display",(0,o.b)()&&this.visible?"block":"none")}changeStick(e,t){[...document.querySelectorAll('.touch-axes[name="'.concat(e,'"]'))].forEach((e=>{null!==e&&(t?e.setAttribute("stick","stick"):e.removeAttribute("stick"))}))}update(){this.initialize()}rendering(){null!==this.controlElement&&(this.updateVisible(),this.query(".touch-hover").forEach((e=>{if(e.hasAttribute("hover")){(0,r.c)(e,"backgroundColor",e.getAttribute("color")||"");u(e.getAttribute("primary")).concat(u(e.getAttribute("secondary"))).forEach((t=>{this.hasAction(t)&&(0,r.c)(e,"backgroundColor",e.getAttribute("hover")||"")}))}})))}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>o});n(20),n(21),n(1),n(2),n(15);var s=n(40),i=n(5),r=n(22);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;a(this,"name",void 0),a(this,"channel",void 0),a(this,"presss",new Array),a(this,"axess",new Array),a(this,"axesNames",new Array),a(this,"keys",{}),a(this,"sensibility",void 0),this.name=e,this.sensibility=t,this.channel=n,(0,i.b)((0,r.f)(),"blur",(()=>this.clear()))}getName(){return this.name}firePress(e,t){if("string"==typeof e){for(let n=0,s=0|this.presss.length;n<s;n=n+1|0)this.presss[n](e,t);this.channel.postMessage({method:"press",name:e,press:t})}}fireAxes(e,t,n){if("string"==typeof e){this.axesNames.includes(e)||this.axesNames.push(e),"y"===e&&(t*=this.sensibility,n*=this.sensibility),t=(0,s.b)(t,0),n=(0,s.b)(n,0);for(let s=0,i=0|this.axess.length;s<i;s=s+1|0){(0,this.axess[s])(e,t,n)}this.channel.postMessage({method:"axes",name:e,x:t,y:n})}}press(e){-1===this.presss.indexOf(e)&&this.presss.push(e)}axes(e){-1===this.axess.indexOf(e)&&this.axess.push(e)}changeDevice(){this.channel.postMessage({method:"changedevice",inputType:this.getName()})}clear(){for(const e in this.keys)this.keys[e]&&(this.firePress(e,!1),this.keys[e]=!1);this.axesNames.forEach((e=>{this.channel.postMessage({method:"axes",name:e,x:0,y:0})}))}update(){}rendering(){}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>b,b:()=>p,c:()=>m,d:()=>y,e:()=>g});n(11),n(20),n(21);var s=n(39),i=n(24),r=n(164),a=n(38),o=n(5),l=n(22);const c=new Array;let u=!1,h=!1,d=null,f=-1;function p(){return f}function g(e){d=e}function m(){return(0,i.c)()?c.length>0?h:u:null!==document.pointerLockElement}async function y(){return new Promise(((e,t)=>{if((0,i.c)()){const n=(0,s.a)();function u(e){c.includes(e.key)&&c.splice(c.indexOf(e.key),1),(0,o.d)(a.g,"message",f)}function f(s){const{data:i}=s;if(i instanceof Object&&i.key===n)switch(i.method){case"success":u(i),e();break;case"error":u(i),t()}}h=!0,(0,o.b)(a.g,"message",f),a.g.postMessage({method:"exec",value:!0,key:n})}else!m()&&(0,r.a)()?new Promise((async e=>{function t(){return new Promise(((e,n)=>{function s(){(0,o.d)(document,"pointerlockchange",s),(0,o.d)(document,"pointerlockerror",s),e()}(0,o.b)(document,"pointerlockchange",s),(0,o.b)(document,"pointerlockerror",s);let i=!0;if(null!==document.body&&null!==d){i=!1;try{d.requestPointerLock()}catch(r){i=!1}}if(i){function a(){(0,o.d)((0,l.f)(),"DOMContentLoaded",a),t().then(e).catch(n)}(0,o.b)((0,l.f)(),"DOMContentLoaded",a)}}))}!function n(){t().then((()=>{a.g.postMessage({method:"exec",value:!0}),e(null)})).catch((()=>{setTimeout(n,1e3)}))}()})).then((()=>e())):e()}))}function b(){return f=performance.now(),new Promise((e=>{if((0,i.c)()){const t=(0,s.a)();function n(s){const{data:i}=s;if(i instanceof Object&&i.key===t&&"success"===i.method)c.includes(i.key)&&c.splice(c.indexOf(i.key),1),(0,o.d)(a.g,"message",n),e()}h=!1,c.push(t),(0,o.b)(a.g,"message",n),a.g.postMessage({method:"exec",value:!1,key:t})}else m()&&(document.exitPointerLock(),a.g.postMessage({method:"exec",value:!1})),e()}))}(0,i.c)()?(0,o.b)(a.g,"message",(e=>{const{data:t}=e;if(t instanceof Object&&"exec"===t.method)u=t.value})):((0,o.b)(a.g,"message",(async e=>{const{data:t}=e;if(t instanceof Object&&"exec"===t.method)await(t.value?y():b()).then((()=>{a.g.postMessage({method:"success",key:t.key})})).catch((()=>{a.g.postMessage({method:"error",key:t.key})}))})),(0,o.b)(document,"pointerlockchange",(()=>{a.g.postMessage({method:"exec",value:null!==document.pointerLockElement})})),(0,o.b)(document,"pointerlockerror",(()=>{a.g.postMessage({method:"exec",value:!1})})))},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(1),n(2),n(15);var s=n(6),i=n(30);function r(){return"getGamepads"in self.navigator?[...self.navigator.getGamepads()]:[]}var a=n(246),o=n(5),l=n(81);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={axes:{left:[0,1],right:[2,3]},buttons:{a:0,b:1,x:2,y:3,lb:4,rb:5,lt:6,rt:7,select:8,start:9,ls:10,rs:11,up:12,down:13,left:14,right:15,home:16}};class h extends a.a{constructor(e,t,n){super("gamepad",e,n),c(this,"setting",void 0),c(this,"isConnectGamepad",!1),c(this,"addx",0),c(this,"addy",0),c(this,"addd",0),c(this,"addl",0),c(this,"buttons",new Array),c(this,"pushs",{}),c(this,"haptics",new Array),this.setting=t}getInnerDeadzoneX(){return this.setting.stickInnerDeadzoneX||0}getOuterDeadzoneX(){return this.setting.stickOuterDeadzoneX||0}getInnerDeadzoneY(){return this.setting.stickInnerDeadzoneY||0}getOuterDeadzoneY(){return this.setting.stickOuterDeadzoneY}addHaptics(){this.haptics.push(...arguments)}update(){const e=r(),t=[...e].some((e=>null!==e));this.isConnectGamepad!==t&&new o.a(this,"changeconnect").trigger({value:t}),this.isConnectGamepad=t;let n=!1;for(let t=0,r=0|e.length;t<r;t=t+1|0){const r=e[t];if(r&&"standard"===r.mapping){const{axes:e}=u,t=(0,s.h)(r.axes[e.left[0]],-r.axes[e.left[1]],0,0),a=(0,s.h)(r.axes[e.right[0]],r.axes[e.right[1]],0,0),o=new s.b(Math.max(Math.abs(Math.cos(t)),Math.abs(Math.sin(t))),Math.max(Math.abs(Math.cos(a)),Math.abs(Math.sin(a)))),c=o.x*this.getInnerDeadzoneX(),h=o.y*this.getInnerDeadzoneY(),d=o.x*this.getOuterDeadzoneX(),f=o.y*this.getOuterDeadzoneY(),p=Math.min(1,Math.max(-1,(r.axes[e.left[0]]>0?Math.max(r.axes[e.left[0]]-c,0):Math.min(r.axes[e.left[0]]+c,0))/Math.max(0,1-c-d))),g=Math.min(1,Math.max(-1,(-r.axes[e.left[1]]>0?Math.max(-r.axes[e.left[1]]-c,0):Math.min(-r.axes[e.left[1]]+c,0))/Math.max(0,1-c-d))),m=Math.min(1,Math.max(-1,(r.axes[e.right[0]]>0?Math.max(r.axes[e.right[0]]-h,0):Math.min(r.axes[e.right[0]]+h,0))/Math.max(0,1-h-f))),y=Math.min(1,Math.max(-1,(r.axes[e.right[1]]>0?Math.max(r.axes[e.right[1]]-h,0):Math.min(r.axes[e.right[1]]+h,0))/Math.max(0,1-h-f)));this.addx===p&&this.addy===g||(this.fireAxes("x",p,g),this.addx=p,this.addy=g),this.addd===m&&this.addl===y||(this.fireAxes("y",m,y),this.addd=m,this.addl=y);const b=(0,l.a)(this.buttons);(0,i.a)(this.buttons),r.buttons.forEach(((e,t)=>{const{buttons:n}=u;for(const s in n){const i="gamepad_".concat(s);n[s]===t&&e.pressed&&(this.pushs[i]||(this.firePress(i,!0),this.pushs[i]=!0),this.buttons.push(i))}})),b.forEach((e=>{-1===this.buttons.indexOf(e)&&this.pushs[e]&&(this.firePress(e,!1),this.pushs[e]=!1)})),n=!0;break}}if(!n){const e=0,t=0,n=0,s=0;this.addx===e&&this.addy===t||(this.fireAxes("x",e,t),this.addx=e,this.addy=t),this.addd===n&&this.addl===s||(this.fireAxes("y",n,s),this.addd=n,this.addl=s),this.buttons.forEach((e=>{this.pushs[e]&&(this.firePress(e,!1),this.pushs[e]=!1)}))}}}},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>u});n(15),n(11),n(1),n(2);var i=n(5),r=n(250),a=n(30),o=n(201),l=e([r,o]);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}[r,o]=l.then?(await l)():l;class u{constructor(e,t){c(this,"texture",void 0),c(this,"assets",{}),c(this,"isUpdate",!0),this.texture=t?new r.a(t):null,e.forEach((e=>e.getUrls().forEach((t=>this.assets[t.toLowerCase()]=e))))}getTexture(){return this.texture}getBufferLocation(e,t){const n=this.getAssetSource(e);if(null===n)return 0;const s=n.locations[t]||null,i=null!==s&&s[0]||null;return null===i?0:i.id}getAssetSource(e){return this.assets.hasOwnProperty(e)&&this.assets[e].getDatas()[0]||null}hasAsset(e){return this.assets.hasOwnProperty(e)}getAssetLenght(){return Object.keys(this.assets).length}async load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=Object.keys(this.assets);await Promise.all(t.map((t=>this.assets[t].load().then(e))));for(const e in this.assets){const t=this.assets[e];if(null!==this.texture&&t instanceof o.a){const e=t.getLocations(),n=t.getDatas();e.push(...this.texture.load(n[0],n[1],n[2]))}}this.isUpdate=!0}unload(){for(const e in this.assets){const t=this.assets[e],n=t.getLocations();null!==this.texture&&t instanceof o.a&&this.texture.unload(...n),(0,a.a)(n)}this.isUpdate=!0}checkUpdate(){const{isUpdate:e}=this;return this.isUpdate=!1,e}createTransferData(){const e={};for(const t in this.assets){const n=this.assets[t];n.hasTransfer()||(e[t]=n.createTransferData())}return{assets:e,isUpdate:this.checkUpdate()}}destroy(){this.unload(),new i.a(this,"destroy").trigger(this)}}s()}catch(h){s(h)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>f});n(11),n(15),n(1),n(2);var i=n(287),r=n(6),a=n(84),o=n(160),l=n(30),c=e([a,o]);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}[a,o]=c.then?(await c)():c;class h{constructor(e,t){u(this,"buffer",void 0),this.buffer=(0,a.a)(e,t)}get width(){return this.buffer.width}set width(e){this.buffer.width=0|e}get height(){return this.buffer.height}set height(e){this.buffer.height=0|e}getContext(){return this.buffer.getContext("2d")}async toDataURL(){const e=this.buffer;let t;return 0===e.width||0===e.height?"data:,":(a.f&&e instanceof OffscreenCanvas?t=await e.convertToBlob():e instanceof HTMLCanvasElement&&(t=await new Promise((t=>e.toBlob((e=>{e instanceof Blob&&t(e)}))))),await new Promise((e=>{const n=new FileReader;n.onload=()=>{const t=n.result;"string"==typeof t&&e(t)},n.readAsDataURL(t)})))}async transferToImageBitmap(){const e=this.buffer;return a.f&&e instanceof OffscreenCanvas?e.transferToImageBitmap():await(0,o.a)(await this.toDataURL())}getBuffer(){return this.buffer}}class d{constructor(e,t,n){u(this,"id",void 0),u(this,"position",void 0),this.id=e,this.position=new r.b(t,n)}}class f{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;u(this,"bufferIDCount",0),u(this,"isUpdate",!0),u(this,"albedoBuffer",new h(0,0)),u(this,"pbrBuffer",new h(0,0)),u(this,"normalBuffer",new h(0,0)),u(this,"unloadBufferIDCache",new Array),u(this,"tile_size",64),this.tile_size=e}getID(){(0,l.c)(this.unloadBufferIDCache).asc();let e=this.unloadBufferIDCache.shift();return void 0===e&&(e=this.bufferIDCount++),e}unloadID(e){this.unloadBufferIDCache.push(e)}getSize(){return[this.albedoBuffer.width,this.albedoBuffer.height]}getTileSize(){return this.tile_size}getBuffer(){return{albedo:this.albedoBuffer.getBuffer(),pbr:this.pbrBuffer.getBuffer(),normal:this.normalBuffer.getBuffer()}}checkUpdate(){const e=this.isUpdate;return this.isUpdate=!1,e}load(e,t,n){const s=new Array,r=new Array,a=new Array;[...new Array(e.width/this.tile_size*e.height/this.tile_size).fill(null)].forEach((()=>{const e=this.getID(),[t,n]=(0,i.a)(e);s.push(e),r.push(t*this.tile_size),a.push(n*this.tile_size)}));const o=s.map(((s,i)=>[{source:e,buffer:this.albedoBuffer},{source:t,buffer:this.pbrBuffer},{source:n,buffer:this.normalBuffer}].map((e=>{let{source:t,buffer:n}=e;const o=r[i],l=a[i],c=Math.max(...r),u=Math.max(...a),f=Math.max(t.width,c+this.tile_size,t.height,u+this.tile_size);if(0===n.width||0===n.height)n.width=f,n.height=f;else if(f>n.width||f>n.height){const e=new h(f,f),t=e.getContext();null!==t&&(t.imageSmoothingEnabled=!1,t.drawImage(n.getBuffer(),0,0)),n.width=0|f,n.height=0|f;const s=n.getContext();null!==s&&(s.imageSmoothingEnabled=!0,s.clearRect(0,0,n.width,n.height),s.drawImage(e.getBuffer(),0,0))}let p,g;t.width<=i*this.tile_size?(p=this.tile_size*i%t.width,g=Math.floor(this.tile_size*i/t.width)*this.tile_size):(p=i*this.tile_size,g=0);const m=n.getContext();return null!==m&&(m.imageSmoothingEnabled=!1,m.drawImage(t,p,g,this.tile_size,this.tile_size,o,l,this.tile_size,this.tile_size)),new d(s,o,l)}))));return this.isUpdate=!0,o}unload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];[this.albedoBuffer,this.pbrBuffer,this.normalBuffer].forEach((e=>{t.forEach((t=>{const n=new Array,s=new Array;t.forEach((e=>{n.push(e.position.x),s.push(e.position.y),this.unloadID(e.id)}));const i=0===n.length?0:Math.min(...n),r=0===s.length?0:Math.min(...s),a=Math.max(Math.min(e.width,i),Math.min(e.height,r));if(0===a||0===a)e.width=0,e.height=0;else if(a<e.width||a<e.height){const t=new h(a,a),n=t.getContext();null!==n&&(n.imageSmoothingEnabled=!1,n.drawImage(e.getBuffer(),0,0)),e.width=0|t.width,e.height=0|t.height;const s=e.getContext();null!==s&&(s.imageSmoothingEnabled=!0,s.clearRect(0,0,e.width,e.height),s.drawImage(t.getBuffer(),0,0))}this.isUpdate=!0,0!==e.width&&0!==e.height&&t.forEach((t=>{const n=t.position.x,s=t.position.y;if(n<e.width&&s<e.height){const t=e.getContext();null!==t&&(t.imageSmoothingEnabled=!1,t.clearRect(n,s,this.tile_size,this.tile_size))}}))}))}))}}s()}catch(p){s(p)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>f});n(15);var s=n(5),i=(n(1),n(2),n(6)),r=n(40),a=n(215),o=n(39);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;l(this,"id",void 0),l(this,"src",void 0),l(this,"context",void 0),l(this,"source",void 0),l(this,"volume",void 0),l(this,"buffer",null),l(this,"panner",void 0),l(this,"sounds",void 0),l(this,"lfo",null),l(this,"depth",null),l(this,"oscillator",null),l(this,"target",void 0),l(this,"isStop",!1),this.id=e,this.src=n,this.context=i,this.source=i.createBufferSource(),this.volume=i.createGain(),this.target=a,this.sounds=t,this.volume.connect(r),null!==this.target?(this.panner=i.createPanner(),this.source.connect(this.panner).connect(this.volume)):(this.panner=null,this.source.connect(this.volume));const o=()=>{this.source.start(i.currentTime)},c=()=>{this.source.onended=null,new s.a(this,"play").off(o),new s.a(this,"stop").off(c)};this.source.onended=()=>{this.stop()},new s.a(this,"play").on(o),new s.a(this,"stop").on(c)}initVibrato(){null!==this.lfo&&null!==this.depth&&null!==this.oscillator||(this.lfo=this.context.createOscillator(),this.depth=this.context.createGain(),this.oscillator=this.context.createOscillator(),this.oscillator.connect(this.volume).connect(this.context.destination),this.lfo.connect(this.depth).connect(this.oscillator.frequency),this.lfo.start())}getID(){return this.id}play(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.buffer=e,this.sounds.hasPlay()?this.hasPlay()?this.isStop&&(this.isStop=!1,new s.a(this,"play").trigger({})):(this.source.buffer=this.buffer,this.source.loop=t,new s.a(this,"play").trigger({})):this.stop()}pause(){this.hasPlay()&&(this.source.stop(),this.isStop=!0,new s.a(this,"pause").trigger({}))}stop(){new s.a(this,"stop").trigger({})}hasPlay(){return null!==this.source.buffer}getSrc(){return this.src}setVolume(e){return this.volume.gain.value=(0,r.b)(e,0),this}setSpeed(e){return this.source.playbackRate.value=(0,r.b)(e,0),this}setTarget(e){return this.target=e,this}setOscillatorType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sine";return null!==e&&(this.initVibrato(),null!==this.oscillator&&(this.oscillator.type=e)),this}setVibratoSpeed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0!==e&&(this.initVibrato(),null!==this.lfo&&(this.lfo.frequency.value=0|(0,r.b)(e,0))),this}setVibratoDepth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0!==e&&(this.initVibrato(),null!==this.depth&&(this.depth.gain.value=0|(0,r.b)(e,0))),this}update(){if(null!==this.target&&null!==this.panner)try{this.panner.positionX.setValueAtTime((0,r.b)(this.target.x,0),this.context.currentTime),this.panner.positionY.setValueAtTime((0,r.b)(this.target.y,0),this.context.currentTime),this.panner.positionZ.setValueAtTime((0,r.b)(this.target.z,0),this.context.currentTime)}catch(e){this.panner.setPosition((0,r.b)(this.target.x,0),(0,r.b)(this.target.y,0),(0,r.b)(this.target.z,0))}}destroy(){var e;this.source.disconnect(),this.source.buffer=null,null===(e=this.panner)||void 0===e||e.disconnect(),this.volume.disconnect(),new s.a(this,"destroy").trigger(this)}onstop(){this.destroy()}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{constructor(e){u(this,"id",void 0),u(this,"context",(0,a.a)(new AudioContext)),u(this,"volume",void 0),u(this,"sounds",{}),u(this,"center",null),u(this,"isPlay",!0),this.id=e,this.volume=this.context.createGain(),this.volume.connect(this.context.destination)}getID(){return this.id}getSound(e){return this.hasSound(e)?this.sounds[e]:null}getSounds(){return Object.values(this.sounds)}createSound(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.a)();this.hasSound(n)&&this.sounds[n].stop();const i=this.sounds[n]=new c(n,this,e,this.context,this.volume,t),r=()=>{new s.a(i,"stop").off(r),delete this.sounds[n]};return new s.a(i,"stop").on(r),i}hasSound(e){return Object.keys(this.sounds).some((t=>t===e&&this.sounds[t].hasPlay()))}play(){this.isPlay||(this.context.resume(),this.isPlay=!0)}pause(){this.isPlay&&(this.context.suspend(),this.isPlay=!1)}stop(){Object.keys(this.sounds).forEach((e=>this.sounds[e].stop())),this.isPlay=!1}setVolume(e){return this.volume.gain.value=(0,r.b)(e,0),this}setSpeed(e){for(const t in this.sounds)this.sounds[t].setSpeed(e);return this}setCenter(e){this.center=e}getVolume(){return this.volume.gain.value}getContext(){return this.context}hasPlay(){return this.isPlay}updateSounds(){if(null!==this.center){const{position:e,direction:t}=this.center,[n,s,a]=(0,i.g)(t.x,t.y),[o,l,c]=(0,i.f)(t.x,t.y),u=this.context.listener;try{u.positionX.setValueAtTime((0,r.b)(e.x,0),this.context.currentTime),u.positionY.setValueAtTime((0,r.b)(e.y,0),this.context.currentTime),u.positionZ.setValueAtTime((0,r.b)(e.z,0),this.context.currentTime),u.forwardX.setValueAtTime((0,r.b)(n,0),this.context.currentTime),u.forwardY.setValueAtTime((0,r.b)(s,0),this.context.currentTime),u.forwardZ.setValueAtTime((0,r.b)(a,0),this.context.currentTime),u.upX.setValueAtTime((0,r.b)(o,0),this.context.currentTime),u.upY.setValueAtTime((0,r.b)(l,0),this.context.currentTime),u.upZ.setValueAtTime((0,r.b)(c,0),this.context.currentTime)}catch(t){u.setPosition((0,r.b)(e.x,0),(0,r.b)(e.y,0),(0,r.b)(e.z,0)),u.setOrientation((0,r.b)(n,0),(0,r.b)(s,0),(0,r.b)(a,0),(0,r.b)(o,0),(0,r.b)(l,0),(0,r.b)(c,0))}}for(const e in this.sounds)this.sounds[e].update()}destroy(){for(const e in this.sounds){this.sounds[e].destroy()}this.volume.disconnect(),this.context.close(),new s.a(this,"destroy").trigger(this)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f{constructor(e){d(this,"contexts",{}),d(this,"assets",void 0),d(this,"nowSceneName",null),this.assets=e}createContext(e){if(this.contexts.hasOwnProperty(e))throw new Error('Not redefine audio context is "'.concat(e,'"'));return this.contexts[e]=new h(e)}getContext(e){return null!==e&&this.contexts[e]||null}hasContext(e){return this.contexts.hasOwnProperty(e)}play(){const e=this.getNowSceneName();if(null===e)return;const t=this.getContext(e);null!==t&&t.play()}pause(){for(const e in this.contexts){this.contexts[e].pause()}}getNowSceneName(){return this.nowSceneName}createTransferData(e){const t=new Array,n=this.contexts[e]||null;return null!==n&&n.getSounds().forEach((e=>{e.hasPlay()&&t.push(e.getID())})),{lives:t,sceneName:e}}applyData(e,t,n){let s=null;if(s=this.hasContext(t)?this.getContext(t):this.createContext(t),null!==s){if(this.nowSceneName!==t){for(const e in this.contexts){const t=this.contexts[e];t!==s&&t.pause()}s.play(),this.nowSceneName=t}s.setCenter(e.center),s.setVolume(n*e.volume);for(const t in e.sounds){const n=e.sounds[t];let i=null;if(i=n.init?s.getSound(n.id):s.createSound(n.src,n.target,n.id),null!==i){if(n.isPlay){if(!i.hasPlay()){const e=this.assets.getAssetSource(i.getSrc())||null;null!==e&&i.play(e)}}else i.pause();i.setVolume(n.volume),i.setSpeed(n.speed*e.speed),i.setTarget(n.target),i.setOscillatorType(n.oscillatorType),i.setVibratoSpeed(n.vibratoSpeed),i.setVibratoDepth(n.vibratoDepth)}}s.getSounds().forEach((t=>{e.sounds.hasOwnProperty(t.getID())||t.stop()}))}}update(){const e=this.getContext(this.nowSceneName);null!==e&&e.updateSounds()}rendering(){}destroy(){for(const e in this.contexts){this.contexts[e].destroy()}new s.a(this,"destroy").trigger(this)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>o});n(15),n(20),n(21);var s=n(5),i=n(6),r=n(216);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e){a(this,"controls",[]),a(this,"buttons",{}),a(this,"axes",{x:new i.b(0,0),y:new i.b(0,0),z:new i.b(0,0)}),a(this,"pointer",new i.b(0,0)),a(this,"channel",void 0),a(this,"inputType",null),this.channel=e,(0,s.b)(this.channel,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"clear":this.controls.forEach((e=>e.clear()));break;case"changedevice":this.inputType=t.inputType}}))}getInputType(){return this.inputType}addControls(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{this.controls.includes(e)||(this.controls.push(e),e.press(((e,t)=>{this.buttons[e]=t})),e.axes(((e,t,n)=>{switch(e){case"x":this.axes.x.x=t,this.axes.x.y=n;break;case"y":this.axes.y.x=t,this.axes.y.y=n;break;case"z":this.axes.z.x=t,this.axes.z.y=n}})),e instanceof r.a&&e.cursor(((e,t)=>{this.pointer.x=e,this.pointer.y=t})))}))}update(){this.controls.forEach((e=>e.update()))}rendering(){this.controls.forEach((e=>e.rendering()))}destroy(){new s.a(this,"destroy").trigger()}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>i});n(11);var s=n(5);class i{constructor(){var e,t,n;n=null,(t="activeSceneName")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}getActiveSceneName(){return this.activeSceneName}async applyData(e){const t=this.activeSceneName;e.activeSceneName!==t&&(this.activeSceneName=e.activeSceneName,await new s.a(this,"inactive").triggerAsync({activeSceneName:t}),await new s.a(this,"active").triggerAsync({activeSceneName:e.activeSceneName}))}destroy(){new s.a(this,"destroy").trigger(this)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>d});n(29),n(103);var s=n(218),i=n(110),r=(n(30),n(5)),a=n(24),o=n(163);const l={};new Array;let c=new Array,u=!1,h=!1;function d(){const e=document.querySelector("#log");if(null===e)return;const t=Object.keys(l);if(u&&!h&&t.length>0){e.classList.add("log");for(let n=0,s=0|t.length;n<s;n=n+1|0){const s=t[n]||null,r=l[s||""]||null;if(null===r)break;let a=e.children[n]||null;null===a&&(a=document.createElement("div"),e.appendChild(a)),a instanceof HTMLElement&&(0,i.a)(a,"".concat(r.replace(/\s/g,"&nbsp;"),"[").concat(s,"]"))}for(;e.children.length>t.length;){var n;null===(n=e.children[0].parentNode)||void 0===n||n.removeChild(e.children[0])}}else for(e.classList.remove("log");e.children.length>0;){var s;null===(s=e.children[0].parentNode)||void 0===s||s.removeChild(e.children[0])}}(0,a.c)()||(0,r.b)(s.a,"message",(e=>{const{data:t}=e;if(t instanceof Object)switch(t.method){case"enable":u=!0;break;case"disable":u=!1;break;case"log":h=!1;const e=t.value;(0,o.a)(c,e);for(const e in c){const{id:t,message:n}=c[e];l[t]=n}const n=Object.values(c);for(const e in l)n.some((t=>t.id===e))||delete l[e];break;case"stop":h=!0}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>k});n(1),n(2),n(20),n(21);var i=n(256),r=n(265),a=n(266),o=n(267),l=n(167),c=n(52),u=n(6),h=n(268),d=n(269),f=n(270),p=n(109),g=n(272),m=n(273),y=n(40),b=n(30),v=n(274),w=n(288),E=n(289),_=n(276),x=n(277),M=n(278),O=n(81),A=e([p]);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p=(A.then?(await A)():A)[0];const T=[[1,0],[0,1],[-1,0],[0,-1]];function P(e,t){return e.top===t.top&&e.bottom===t.bottom&&e.right===t.right&&e.left===t.left&&e.front===t.front&&e.back===t.back}class k extends m.a{constructor(e,t,n,s,l,c,p,m,y,b,w,E,_,x,M,O,A){super(e,m,y,b,w,E),S(this,"margin",void 0),S(this,"isForceUpdate",!1),S(this,"materials",void 0),S(this,"voxels",void 0),S(this,"tileSet",null),S(this,"background",null),S(this,"mats",{}),S(this,"camera",void 0),S(this,"sun",void 0),S(this,"lateTime",0),S(this,"starttime",0),S(this,"map",void 0),S(this,"offset",void 0),S(this,"trees",{range:new r.a((e=>e instanceof a.a&&e.hasComponent(o.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(o.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new u.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]})),hitbox:new r.a((e=>e instanceof a.a&&e.hasComponent(d.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(d.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new u.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]})),collision:new r.a((e=>e instanceof a.a&&e.hasComponent(h.a)),(e=>{if(!(e instanceof a.a))return[-1,-1,-1,-1,-1];const t=e.getComponent(h.a),n=t.treeFix&&e.hasComponent(g.a)?e.getComponent(g.a).position:new u.c(0,0,0);return[e.position.x+n.x,e.position.y+n.y,e.position.z+n.z,t.size.x,t.size.y]}))}),S(this,"maxFramerate",void 0),S(this,"finder",new f.a),S(this,"transferDataBuilder",void 0),S(this,"renderEntitys",new Array),this.margin=l,this.materials=_,this.voxels=x,this.camera=O,this.sun=A,this.addEntitys(O,A),this.maxFramerate=p,this.transferDataBuilder=new v.a(M,c,1/0),this.offset={top:l,bottom:l,front:l,back:l,right:l,left:l},this.map=new i.a(t,n,s,"int32",1,0)}initTrees(e){for(const t in this.trees){const n=this.trees[t];n.hasEntity(e)&&n.initOldPosition(e)}}addEntitys(){for(let e=0,t=0|arguments.length;e<t;e=e+1|0){const t=e<0||arguments.length<=e?void 0:arguments[e];for(const e in this.trees){this.trees[e].add(t)}}super.addEntitys(...arguments)}getMaterialManager(){return this.materials}getVoxelManager(){return this.voxels}getMap(){return this.map}getWorldDistance(){return this.map.getWorldDistance()}getWorldSize(){return this.map.getSize()}getCamera(){return this.camera}getSun(){return this.sun}getMargin(){return this.margin}getOffset(){return this.offset}getVoxel(e,t,n){return this.getVoxelManager().getVoxel(this.getVoxelField(e,t,n))}getVoxelField(e,t,n){return this.map.get(0,e,t,n,this.map.getVoxelField(),this.map.getSize())}getDistanceField(e,t,n){return this.map.get(0,e,t,n,this.map.getDistanceField(),this.map.getSize())}getMortonField(e,t,n){return this.map.get(0,e,t,n,this.map.getMortonField(),this.map.getSize())}getMaterials(){return this.mats}getTileSet(){return this.tileSet}getBackground(){return this.background||{theme:0,rise_up_color:[50/255,125/255,50/255],night_up_color:[50/255,125/255,50/255],rise_down_color:[100/255,125/255,50/255],night_down_color:[100/255,125/255,50/255],material_up:[1,.625,.075],material_down:[1,.625,0],noise_size:5,noise_length:2}}getLateTime(){return this.lateTime}getTree(e){return this.trees[e]||null}setWorldSize(e,t,n,s,i,r,a,o,l){this.map.setSize(e,t,n),this.offset.top=s,this.offset.bottom=i,this.offset.front=r,this.offset.back=a,this.offset.right=o,this.offset.left=l}setWorldData(e){const{voxels:t,map:n,offset:s}=e;this.setWorldSize(n.size.width,n.size.height,n.size.depth,s.top,s.bottom,s.front,s.back,s.right,s.left);this.getVoxelManager().initData(t),this.map.initData(n.voxel_field,n.distance_field,n.morton_field,(0,O.a)(n.voxel_inserts),(0,O.a)(n.distance_inserts),(0,O.a)(n.morton_inserts))}setActorPosition(e,t,n,s){if(e.position.x=t,e.position.y=n,e.position.z=s,e.hasComponent(_.a)){const i=e.getComponent(_.a);i.old.x=t,i.old.y=n,i.old.z=s}if(e.hasComponent(h.a)){const i=e.getComponent(h.a);i.old.x=t,i.old.y=n,i.old.z=s}if(e.hasComponent(x.a)){const t=e.getComponent(x.a);t.value.x=0,t.value.y=0,t.value.z=0}if(e.hasComponent(M.a)){const t=e.getComponent(M.a);t.move.x=0,t.move.y=0,t.move.z=0,t.look.x=0,t.look.y=0}this.initTrees(e)}setCamera(e){this.camera=e}setSun(e){this.sun=e}setTileSet(e){this.tileSet!==e&&(this.isForceUpdate=!0),this.tileSet=e}setBackground(e){this.background=e}setMaterials(e){for(const t in e)this.mats[t]=e[t]}setVoxel(e,t,n,s){var i;let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const o=this.getVoxelManager(),l=o.getVoxels(),c=this.map.get(0,e,t,n),u=o.getVoxel(c);c>0&&((null===(i=this.map.getVoxelInsertData(c))||void 0===i?void 0:i.count)||0)<=0&&o.removeVoxels(u);const h=P(s,p.f);let d=!1,f=null;if(h)d=!0,f=p.f;else for(let e=0,t=0|l.length;e<t;e=e+1|0){const t=l[e]||null;if(null!==t&&P(t,s)){d=!0,f=t;break}}if(d||(f=s,o.addVoxels(s)),null!==f){const s=h?0:l.indexOf(f);this.setVoxelField(e,t,n,s,r)}a&&(h?this.reductionPosition():this.expandPosition())}setVoxelField(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.map.set(0,e,t,n,s,i,this.map.getVoxelField()),!i&&s<=0&&this.setDistanceField(e,t,n,1)}setDistanceField(e,t,n,s){this.map.set(0,e,t,n,s,!1,this.map.getDistanceField())}setMortonField(e,t,n,s){this.map.set(0,e,t,n,s,!1,this.map.getMortonField())}hasOutOfWorld(e,t,n){return(0,c.d)(this.map,e,t,n)}clearMap(){const e=this.getMap();this.getVoxelManager();e.clear()}clearTree(){for(const e in this.trees){this.trees[e].clear()}}clearControl(){this.getControlManager().clear()}clear(){this.clearMap(),this.clearTree(),this.clearControl(),this.lateTime=0,super.clear()}getEntitysOfRange(e,t,n,s,i,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Array;const o=new Array,h=this.trees[e],d=e=>a.includes(e),f=(0,c.c)(t,n-r/2,s,i,r);for(let e=0,a=0|f.length;e<a;e=e+3|0){const a=f[e],c=f[e+1],p=f[e+2],g=h.getPointCell(a,c,p);for(let e=0,a=0|g.length;e<a;e=e+1|0){const a=g[e],c=this.getEntityOfID(a);if(null===c||!c.hasLive()||d(a)||c.getNames().some(d))continue;const[f,p,m,b,v]=h.getEntityProperty(c);if(-1===f&&-1===p&&-1===m)continue;let[w,E,_,x,M]=h.getOldEntityProperty(c);w=-1===w?f:w,E=-1===E?p:E,_=-1===_?m:_,x=-1===x?b:x,M=-1===M?v:M;const O=f-w,A=p-E,S=m-_,[T,P]=(0,u.i)(O,A,S,0,0,0),[k,L,C]=(0,u.l)(T,P,0,0,1),R=Math.min((0,u.k)(O,A,S,0,0,0),this.getWorldDistance()),I=Math.min(R,Math.max(Math.min(b,v),Math.min(x,M))/2,.5);let F=0;for(;;){const e=w+F*k,a=E+F*L,u=_+F*C,h=(0,y.b)((0,y.c)(F/R),0),d=x+(b-x)*h,f=M+(v-M)*h;if((0,l.c)(t,n-r/2,s,i,r,e,a,u,d,f)){o.push(c);break}if(F>=R)break;if(F=(0,y.a)((0,y.b)(F+I,R,1e5,Math.ceil),0,R),F<=0)break}}}return o}hitScan(e,t,n,s,i,r,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=new Array,d=this.trees[e],f=e=>o.includes(e);let g=!1;const[m,v,w,E]=(0,c.k)(t,n,s,i,r,a,this.getWorldSize(),((e,t,n)=>!P(this.getVoxel(e,t,n),p.f)),((e,a,o,c,p,m,b,v,w,E,_,x,M,O,A,S,T,P)=>{const k=d.getPointCell(e,a,o);for(let e=0,a=0|k.length;e<a;e=e+1|0){const a=k[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||f(a)||o.getNames().some(f))continue;const[b,v,w,E,_]=d.getEntityProperty(o);if(-1===b&&-1===v&&-1===w)continue;let[x,M,O,A,S]=d.getOldEntityProperty(o);x=-1===x?b:x,M=-1===M?v:M,O=-1===O?w:O,A=A?E:A,S=S?_:S;const T=b-x,P=v-M,L=w-O,[C,R]=(0,u.i)(T,P,L,0,0,0),[I,F,N]=(0,u.l)(C,R,0,0,1),D=Math.min((0,u.k)(T,P,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(A,S))/2,.5);let B=0;for(;;){const e=x+B*I,a=M+B*F,d=O+B*N,f=(0,y.b)((0,y.c)(B/D),0),b=A+(E-A)*f,v=S+(_-S)*f;if((s<c?s<e+b/2:c<e+b/2)&&(i<p?i<a+v:p<a+v)&&(r<m?r<d+b/2:m<d+b/2)&&(s>c?s>e-b/2:c>e-b/2)&&(i>p?i>a:p>a)&&(r>m?r>d-b/2:m>d-b/2)){const[c,f,p]=(0,l.a)(s,i,r,t,n,e,a,d,e,a+v,d,b);if(-1!==c&&-1!==f&&-1!==p){const e=(0,u.k)(c,f,p,s,i,r);h.push([c,f,p,e,o]),g=!0;break}}if(B>=D)break;if(B=(0,y.a)((0,y.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}return g}));return-1!==m&&-1!==m&&-1!==w&&h.push([m,v,w,E,null]),h.length>1&&(0,b.c)(h).asc((e=>e[3])),h[0]||[-1,-1,-1,-1,null]}hitScanVoxel(e,t,n,s,i,r){return(0,c.j)(e,t,n,s,i,r,this.getWorldSize(),((e,t,n)=>this.getDistanceField(e,t,n)))}hitScanActor(e,t,n,s,i,r,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=new Array,d=this.trees[e],f=e=>o.includes(e);let g=!1;return(0,c.k)(t,n,s,i,r,a,this.getWorldSize(),((e,t,n)=>!P(this.getVoxel(e,t,n),p.f)),((e,a,o,c,p,m,b,v,w,E,_,x,M,O,A,S,T,P)=>{const k=d.getPointCell(e,a,o);for(let e=0,a=0|k.length;e<a;e=e+1|0){const a=k[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||f(a)||o.getNames().some(f))continue;const[b,v,w,E,_]=d.getEntityProperty(o);if(-1===b&&-1===v&&-1===w)continue;let[x,M,O,A,S]=d.getOldEntityProperty(o);x=-1===x?b:x,M=-1===M?v:M,O=-1===O?w:O,A=A?E:A,S=S?_:S;const T=b-x,P=v-M,L=w-O,[C,R]=(0,u.i)(T,P,L,0,0,0),[I,F,N]=(0,u.l)(C,R,0,0,1),D=Math.min((0,u.k)(T,P,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(A,S))/2,.5);let B=0;for(;;){const e=x+B*I,a=M+B*F,d=O+B*N,f=(0,y.b)((0,y.c)(B/D),0),b=A+(E-A)*f,v=S+(_-S)*f;if((s<c?s<e+b/2:c<e+b/2)&&(i<p?i<a+v:p<a+v)&&(r<m?r<d+b/2:m<d+b/2)&&(s>c?s>e-b/2:c>e-b/2)&&(i>p?i>a:p>a)&&(r>m?r>d-b/2:m>d-b/2)){const[c,f,p]=(0,l.a)(s,i,r,t,n,e,a,d,e,a+v,d,b);if(-1!==c&&-1!==f&&-1!==p){const e=(0,u.k)(c,f,p,s,i,r);return h.push([c,f,p,e,o]),g=!0,!0}}if(B>=D)break;if(B=(0,y.a)((0,y.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}return g})),h[0]||[-1,-1,-1,-1,null]}hitScanBold(e,t,n,s,i,r,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,v]=this.getWorldSize(),w=(0,u.k)(g,m,v,0,0,0);let[E,_,x,M]=this.hitScanVoxelBoldFindMin(t,n,s,i,r,a,w);const O=Math.min(o,M,(0,u.k)(g,m,v,0,0,0)),[A,S,T]=(0,u.l)(t,n,0,0,O),P=Math.min((0,u.k)(A,S,T,0,0,0),this.getWorldDistance());-1!==E&&-1!==_&&-1!==x&&d.push([E,_,x,M,null]);const[k,L]=(0,u.i)(A,S,T,0,0,0),[C,R,I]=(0,u.l)(k,L,0,0,1),F=Math.min(P,a/2,.5);Math.max(...this.getWorldSize());let N=0,D=!1;for(;;){const e=s+N*C,t=i+N*R,n=r+N*I,o=(0,c.c)(e,t-a/2,n,a,a);for(let c=0,h=0|o.length;c<h;c=c+3|0){const h=o[c+0],g=o[c+1],m=o[c+2],b=p.getPointCell(h,g,m);for(let o=0,c=0|b.length;o<c;o=o+1|0){const c=b[o],h=this.getEntityOfID(c);if(null===h||!h.hasLive()||f(c)||h.getNames().some(f))continue;const[g,m,v,w,E]=p.getEntityProperty(h);if(-1===g&&-1===m&&-1===v)continue;let[_,x,M,A,S]=p.getOldEntityProperty(h);_=-1===_?g:_,x=-1===x?m:x,M=-1===M?v:M,A=A?w:A,S=S?E:S;const T=g-_,P=m-x,k=v-M,[L,C]=(0,u.i)(T,P,k,0,0,0),[R,I,F]=(0,u.l)(L,C,0,0,1),N=Math.min((0,u.k)(T,P,k,0,0,0),this.getWorldDistance()),U=Math.min(N,Math.max(Math.min(w,E),Math.min(A,S))/2,.5);let B=0;for(;;){const o=_+B*R,c=x+B*I,f=M+B*F,p=(0,y.b)((0,y.c)(B/N),0),g=A+(w-A)*p,m=S+(E-S)*p;if((0,l.c)(e,t-a/2,n,a,a,o,c,f,g,m)){const a=(0,u.k)(e,t,n,s,i,r);if(a<O){d.push([e,t,n,a,h]),D=!0;break}}if(B>=N)break;if(B=(0,y.a)((0,y.b)(B+U,N,1e5,Math.ceil),0,N),B<=0)break}}}if(D||N>=P)break;N=(0,y.a)((0,y.b)(N+F,P,1e5,Math.ceil),0,P)}return d.length>1&&(0,b.c)(d).asc((e=>e[3])),d.length>0?d[0]:[-1,-1,-1,-1,null]}hitScanBoldFind(e,t,n,s,i,r,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,v]=this.getWorldSize(),w=(0,u.k)(g,m,v,0,0,0),[E,_,x,M]=this.hitScanVoxelBoldFindMax(t,n,s,i,r,a,w),O=Math.min(o,M,(0,u.k)(g,m,v,0,0,0)),[A,S,T]=(0,u.l)(t,n,0,0,O),P=Math.min((0,u.k)(A,S,T,0,0,0),this.getWorldDistance()),[k,L,C,R]=this.hitScanVoxelBoldFindMin(t,n,s,i,r,a,o);if(-1!==k&&-1!==L&&-1!==C&&d.push([k,L,C,R,null]),-1!==E&&-1!==_&&-1!==x){const[e,t]=(0,u.i)(A,S,T,0,0,0),[n,o,h]=(0,u.l)(e,t,0,0,1),g=Math.min(P,a/2,.5);Math.max(...this.getWorldSize());let m=0,b=!1;for(;;){const e=s+m*n,t=i+m*o,v=r+m*h,w=(0,c.c)(e,t-a/2,v,a,a);for(let n=0,o=0|w.length;n<o;n=n+3|0){const o=w[n+0],c=w[n+1],h=w[n+2],g=p.getPointCell(o,c,h);for(let n=0,o=0|g.length;n<o;n=n+1|0){const o=g[n],c=this.getEntityOfID(o);if(null===c||!c.hasLive()||f(o)||c.getNames().some(f))continue;const[h,m,w,E,_]=p.getEntityProperty(c);if(-1===h&&-1===m&&-1===w)continue;let[x,M,A,S,T]=p.getOldEntityProperty(c);x=-1===x?h:x,M=-1===M?m:M,A=-1===A?w:A,S=S?E:S,T=T?_:T;const P=h-x,k=m-M,L=w-A,[C,R]=(0,u.i)(P,k,L,0,0,0),[I,F,N]=(0,u.l)(C,R,0,0,1),D=Math.min((0,u.k)(P,k,L,0,0,0),this.getWorldDistance()),U=Math.min(D,Math.max(Math.min(E,_),Math.min(S,T))/2,.5);let B=0;for(;;){const n=x+B*I,o=M+B*F,h=A+B*N,f=(0,y.b)((0,y.c)(B/D),0),p=S+(E-S)*f,g=T+(_-T)*f;if((0,l.c)(e,t-a/2,v,a,a,n,o,h,p,g)){const n=(0,u.k)(e,t,v,s,i,r);if(n<O){d.push([e,t,v,n,c]),b=!0;break}}if(B>=D)break;if(B=(0,y.a)((0,y.b)(B+U,D,1e5,Math.ceil),0,D),B<=0)break}}}if(b||m>=P)break;m=(0,y.a)((0,y.b)(m+g,P,1e5,Math.ceil),0,P)}}return d.length>1&&(0,b.c)(d).asc((e=>e[3])),d.length>0?d[0]:[-1,-1,-1,-1,null]}hitScanVoxelBoldFindMin(e,t,n,s,i,r){let a=-1,o=-1,l=-1,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;const h=r/2;let d=!1;for(let r=0,f=0|T.length;r<f;r=r+1|0){const f=(0,u.h)(T[r][0],T[r][1],0,0),p=Math.cos(f)*h,g=Math.sin(f)*h,[m,y,b]=(0,u.l)(e,t,p,g,0),[v,w,E,_]=this.hitScanVoxel(e,t,n+m,s+y,i+b,c);-1!==v&&-1!==w&&-1!==E&&_<c&&(a=v-m,o=w-y,l=E-b,c=_,d=!0)}return[a,o,l,d?c:-1]}hitScanVoxelBoldFindMax(e,t,n,s,i,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0,o=-1,l=-1,c=-1,h=0;const d=r/2;let f=!1;for(let r=0,p=0|T.length;r<p;r=r+1|0){const p=(0,u.h)(T[r][0],T[r][1],0,0),g=Math.cos(p)*d,m=Math.sin(p)*d,[y,b,v]=(0,u.l)(e,t,g,m,0),[w,E,_,x]=this.hitScanVoxel(e,t,n+y,s+b,i+v,a);-1!==w&&-1!==E&&-1!==_&&x>h&&(o=w-y,l=E-b,c=_-v,h=x,f=!0)}return[o,l,c,f?h:-1]}hitScanVoxelBold(e,t,n,s,i,r,a){const o=new Array,[l,h,d]=this.getWorldSize(),f=Math.min(a,(0,u.k)(l,h,d,0,0,0)),[p,g,m]=(0,u.l)(e,t,0,0,f),[v,w]=(0,u.i)(p,g,m,0,0,0),[E,_,x]=(0,u.l)(v,w,0,0,1),M=Math.min(f,r/2,.5);let O=0;const A=this.getMap();for(;;){const a=n+O*E,p=s+O*_,g=i+O*x,m=(0,c.c)(a,p-r/2,g,r,r);for(let r=0,c=0|m.length;r<c;r=r+3|0){const c=m[r+0],f=m[r+1],y=m[r+2];if(0>c||l<=c||0>f||h<=f||0>y||d<=y||A.get(0,c,f,y)>0){const[r,l]=(0,u.i)(c+.5,f+.5,y+.5,a,p,g),h=(0,u.k)(c+.5,f+.5,y+.5,a,p,g),d=Math.cos(r)+Math.sin(r),m=Math.sin(l)+Math.cos(l),[b,v,w]=(0,u.l)(e,t,0,0,h-Math.sqrt(Math.max(d*d,m*m))+(0,u.k)(a,p,g,n,s,i));o.push([b+n,v+s,w+i,(0,u.k)(b+n,v+s,w+i,n,s,i),null]);break}}if(O>=f)break;if(O=(0,y.a)((0,y.b)(O+M,f,1e5,Math.ceil),0,f),O<=0)break}return o.length>1&&(0,b.c)(o).asc((e=>e[3])),o[0]||[-1,-1,-1,-1,null]}hitScanBoldActor(e,t,n,s,i,r,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=new Array,f=e=>h.includes(e),p=this.trees[e],[g,m,v]=this.getWorldSize(),w=(Math.max(...this.getWorldSize()),Math.min(o,(0,u.k)(g,m,v,0,0,0))),[E,_,x]=(0,u.l)(t,n,0,0,w),[M,O]=(0,u.i)(E,_,x,0,0,0),[A,S,T]=(0,u.l)(M,O,0,0,1),P=Math.min(w,a/2,.5);let k=0,L=!1;for(;;){const e=s+k*A,t=i+k*S,n=r+k*T,o=(0,c.c)(e,t-a/2,n,a,a);for(let c=0,h=0|o.length;c<h;c=c+3|0){const h=o[c+0],g=o[c+1],m=o[c+2],b=p.getPointCell(h,g,m);for(let o=0,c=0|b.length;o<c;o=o+1|0){const c=b[o],h=this.getEntityOfID(c);if(null===h||!h.hasLive()||f(c)||h.getNames().some(f))continue;const[g,m,v,w,E]=p.getEntityProperty(h);if(-1===g&&-1===m&&-1===v)continue;let[_,x,M,O,A]=p.getOldEntityProperty(h);_=-1===_?g:_,x=-1===x?m:x,M=-1===M?v:M,O=O?w:O,A=A?E:A;const S=g-_,T=m-x,P=v-M,[k,C]=(0,u.i)(S,T,P,0,0,0),[R,I,F]=(0,u.l)(k,C,0,0,1),N=Math.min((0,u.k)(S,T,P,0,0,0),this.getWorldDistance()),D=Math.min(N,Math.max(Math.min(w,E),Math.min(O,A))/2,.5);let U=0;for(;;){const o=_+U*R,c=x+U*I,f=M+U*F,p=(0,y.b)((0,y.c)(U/N),0),g=O+(w-O)*p,m=A+(E-A)*p;if((0,l.c)(e,t-a/2,n,a,a,o,c,f,g,m)){const a=(0,u.k)(e,t,n,s,i,r);d.push([e,t,n,a,h]),L=!0;break}if(U>=N)break;if(U=(0,y.a)((0,y.b)(U+D,N,1e5,Math.ceil),0,N),U<=0)break}}}if(L||k>=w)break;k=(0,y.a)((0,y.b)(k+P,w,1e5,Math.ceil),0,w)}return d.length>1&&(0,b.c)(d).asc((e=>e[3])),d[0]||[-1,-1,-1,-1,null]}hasBlockScale(e,t,n,s,i,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Array;if(this.hasBlockScaleVoxel(t,n,s,i,r))return!0;const o=this.trees[e],h=e=>a.includes(e),d=(0,c.c)(t,n,s,i,r);for(let e=0,a=0|d.length;e<a;e=e+3|0){const a=d[e],c=d[e+1],f=d[e+2],p=o.getPointCell(a,c,f);for(let e=0,a=0|p.length;e<a;e=e+1|0){const a=p[e],c=this.getEntityOfID(a);if(null===c||!c.hasLive()||h(a)||c.getNames().some(h))continue;const[d,f,g,m,b]=o.getEntityProperty(c);if(-1===d&&-1===f&&-1===g)continue;let[v,w,E,_,x]=o.getOldEntityProperty(c);v=-1===v?d:v,w=-1===w?f:w,E=-1===E?g:E,_=_?m:_,x=x?b:x;const M=d-v,O=f-w,A=g-E,[S,T]=(0,u.i)(M,O,A,0,0,0),[P,k,L]=(0,u.l)(S,T,0,0,1),C=Math.min((0,u.k)(M,O,A,0,0,0),this.getWorldDistance()),R=Math.min(C,Math.max(Math.min(m,b),Math.min(_,x))/2,.5);let I=0;for(;;){const e=v+I*P,a=w+I*k,o=E+I*L,c=(0,y.b)((0,y.c)(I/C),0),u=_+(m-_)*c,h=x+(b-x)*c;if((0,l.c)(t,n,s,i,r,e,a,o,u,h))return!0;if(I>=C)break;if(I=(0,y.a)((0,y.b)(I+R,C,1e5,Math.ceil),0,C),I<=0)break}}}return!1}hasBlockScaleVoxel(e,t,n,s,i){const r=this.getMap();return(0,l.b)(e,t,n,s,i,((e,t,n,s)=>r.get(0,t,n,s)>0))}hasHitScanVoxel(e,t,n,s,i,r){return(0,c.e)(e,t,n,s,i,r,this.getWorldSize(),((e,t,n)=>this.getDistanceField(e,t,n)))}hasHitScan(e,t,n,s,i,r,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=this.trees[e],d=e=>o.includes(e);let f=!1;return(0,c.f)(t,n,s,i,r,a,this.getWorldSize(),((e,t,n)=>!P(this.getVoxel(e,t,n),p.f)),((e,a,o,c,p,g,m,b,v,w,E,_,x,M,O,A,S,T)=>{const P=h.getPointCell(e,a,o);for(let e=0,a=0|P.length;e<a;e=e+1|0){const a=P[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||d(a)||o.getNames().some(d))continue;const[m,b,v,w,E]=h.getEntityProperty(o);if(-1===m&&-1===b&&-1===v)continue;let[_,x,M,O,A]=h.getOldEntityProperty(o);_=-1===_?m:_,x=-1===x?b:x,M=-1===M?v:M,O=O?w:O,A=A?E:A;const S=m-_,T=b-x,k=v-M,[L,C]=(0,u.i)(S,T,k,0,0,0),[R,I,F]=(0,u.l)(L,C,0,0,1),N=Math.min((0,u.k)(S,T,k,0,0,0),this.getWorldDistance()),D=Math.min(N,Math.max(Math.min(w,E),Math.min(O,A))/2,.5);let U=0;for(;;){const e=_+U*R,a=x+U*I,o=M+U*F,u=(0,y.b)((0,y.c)(U/N),0),h=O+(w-O)*u,d=A+(E-A)*u;if((s<c?s<e+h/2:c<e+h/2)&&(i<p?i<a+d:p<a+d)&&(r<g?r<o+h/2:g<o+h/2)&&(s>c?s>e-h/2:c>e-h/2)&&(i>p?i>a:p>a)&&(r>g?r>o-h/2:g>o-h/2)){const[c,u,p]=(0,l.a)(s,i,r,t,n,e,a,o,e,a+d,o,h);if(-1!==c&&-1!==u&&-1!==p)return f=!0,!0}if(U>=N)break;if(U=(0,y.a)((0,y.b)(U+D,N,1e5,Math.ceil),0,N),U<=0)break}}return!1}))||f}hasHitScanActor(e,t,n,s,i,r,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];const h=this.trees[e],d=e=>o.includes(e);let f=!1;return(0,c.f)(t,n,s,i,r,a,this.getWorldSize(),((e,t,n)=>!P(this.getVoxel(e,t,n),p.f)),((e,a,o,c,p,g,m,b,v,w,E,_,x,M,O,A,S,T)=>{const P=h.getPointCell(e,a,o);for(let e=0,a=0|P.length;e<a;e=e+1|0){const a=P[e],o=this.getEntityOfID(a);if(null===o||!o.hasLive()||d(a)||o.getNames().some(d))continue;const[m,b,v,w,E]=h.getEntityProperty(o);if(-1===m&&-1===b&&-1===v)continue;let[_,x,M,O,A]=h.getOldEntityProperty(o);_=-1===_?m:_,x=-1===x?b:x,M=-1===M?v:M,O=O?w:O,A=A?E:A;const S=m-_,T=b-x,k=v-M,[L,C]=(0,u.i)(S,T,k,0,0,0),[R,I,F]=(0,u.l)(L,C,0,0,1),N=Math.min((0,u.k)(S,T,k,0,0,0),this.getWorldDistance()),D=Math.min(N,Math.max(Math.min(w,E),Math.min(O,A))/2,.5);let U=0;for(;;){const e=_+U*R,a=x+U*I,o=M+U*F,u=(0,y.b)((0,y.c)(U/N),0),h=O+(w-O)*u,d=A+(E-A)*u;if((s<c?s<e+h/2:c<e+h/2)&&(i<p?i<a+d:p<a+d)&&(r<g?r<o+h/2:g<o+h/2)&&(s>c?s>e-h/2:c>e-h/2)&&(i>p?i>a:p>a)&&(r>g?r>o-h/2:g>o-h/2)){const[c,u,p]=(0,l.a)(s,i,r,t,n,e,a,o,e,a+d,o,h);if(-1!==c&&-1!==u&&-1!==p)return f=!0,!0}if(U>=N)break;if(U=(0,y.a)((0,y.b)(U+D,N,1e5,Math.ceil),0,N),U<=0)break}}return!1})),f}hasHitScanBold(e,t,n,s,i,r,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1/0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new Array;const d=e=>h.includes(e),f=this.trees[e],[p,g,m]=this.getWorldSize(),b=(0,u.k)(p,g,m,0,0,0);let[v,w,E,_]=this.hitScanVoxelBoldFindMin(t,n,s,i,r,a,b);const x=Math.min(o,_,(0,u.k)(p,g,m,0,0,0)),[M,O,A]=(0,u.l)(t,n,0,0,x),S=Math.min((0,u.k)(M,O,A,0,0,0),this.getWorldDistance());if(-1!==v&&-1!==w&&-1!==E){const[e,t]=(0,u.i)(M,O,A,0,0,0),[n,o,h]=(0,u.l)(e,t,0,0,1),p=Math.min(S,a/2,.5);Math.max(...this.getWorldSize());let g=0,m=!1;for(;;){const e=s+g*n,t=i+g*o,b=r+g*h,v=(0,c.c)(e,t-a/2,b,a,a);for(let n=0,o=0|v.length;n<o;n=n+3|0){const o=v[n+0],c=v[n+1],h=v[n+2],p=f.getPointCell(o,c,h);for(let n=0,o=0|p.length;n<o;n=n+1|0){const o=p[n],c=this.getEntityOfID(o);if(null===c||!c.hasLive()||d(o)||c.getNames().some(d))continue;const[h,g,m,v,w]=f.getEntityProperty(c);if(-1===h&&-1===g&&-1===m)continue;let[E,_,M,O,A]=f.getOldEntityProperty(c);E=-1===E?h:E,_=-1===_?g:_,M=-1===M?m:M,O=O?v:O,A=A?w:A;const S=h-E,T=g-_,P=m-M,[k,L]=(0,u.i)(S,T,P,0,0,0),[C,R,I]=(0,u.l)(k,L,0,0,1),F=Math.min((0,u.k)(S,T,P,0,0,0),this.getWorldDistance()),N=Math.min(F,Math.max(Math.min(v,w),Math.min(O,A))/2,.5);let D=0;for(;;){const n=E+D*C,o=_+D*R,c=M+D*I,h=(0,y.b)((0,y.c)(D/F),0),d=O+(v-O)*h,f=A+(w-A)*h;if((0,l.c)(e,t-a/2,b,a,a,n,o,c,d,f)){if((0,u.k)(e,t,b,s,i,r)<x)return!0}if(D>=F)break;if(D=(0,y.a)((0,y.b)(D+N,F,1e5,Math.ceil),0,F),D<=0)break}}}if(m||g>=S)break;g=(0,y.a)((0,y.b)(g+p,S,1e5,Math.ceil),0,S)}}return-1!==_&&_<=S}hasHitScanVoxelBold(e,t,n,s,i,r){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;const[o,l,h]=this.getWorldSize(),d=Math.min(a,(0,u.k)(o,l,h,0,0,0)),[f,g,m]=(0,u.l)(e,t,0,0,d),[b,v]=(Math.max(...this.getWorldSize()),(0,u.i)(f,g,m,0,0,0)),[w,E,_]=(0,u.l)(b,v,0,0,1),x=Math.min(d,r/2,.5);let M=0;for(;;){const e=n+M*w,t=s+M*E,a=i+M*_,u=(0,c.c)(e,t-r/2,a,r,r);for(let e=0,t=0|u.length;e<t;e=e+3|0){const t=u[e+0],n=u[e+1],s=u[e+2];if(0>t||o<=t||0>n||l<=n||0>s||h<=s||!P(this.getVoxel(t,n,s),p.f))return!0}if(M>=d)break;if(M=(0,y.a)((0,y.b)(M+x,d,1e5,Math.ceil),0,d),M<=0)break}return!1}hasHitScanBoldActor(e,t,n,s,i,r,a,o){let h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];const d=this.trees[e],f=e=>h.includes(e),[p,g,m]=this.getWorldSize(),b=Math.min(o,(0,u.k)(p,g,m,0,0,0)),[v,w,E]=(0,u.l)(t,n,0,0,b),[_,x]=(Math.max(...this.getWorldSize()),(0,u.i)(v,w,E,0,0,0)),[M,O,A]=(0,u.l)(_,x,0,0,1),S=Math.min(b,a/2,.5);let T=0;for(;;){const e=s+T*M,t=i+T*O,n=r+T*A,o=(0,c.c)(e,t-a/2,n,a,a);for(let s=0,i=0|o.length;s<i;s=s+3|0){const i=o[s+0],r=o[s+1],c=o[s+2],h=d.getPointCell(i,r,c);for(let s=0,i=0|h.length;s<i;s=s+1|0){const i=h[s],r=this.getEntityOfID(i);if(null===r||!r.hasLive()||f(i)||r.getNames().some(f))continue;const[o,c,p,g,m]=d.getEntityProperty(r);if(-1===o&&-1===c&&-1===p)continue;let[b,v,w,E,_]=d.getOldEntityProperty(r);b=-1===b?o:b,v=-1===v?c:v,w=-1===w?p:w,E=E?g:E,_=_?m:_;const x=o-b,M=c-v,O=p-w,[A,S]=(0,u.i)(x,M,O,0,0,0),[T,P,k]=(0,u.l)(A,S,0,0,1),L=Math.min((0,u.k)(x,M,O,0,0,0),this.getWorldDistance()),C=Math.min(L,Math.max(Math.min(g,m),Math.min(E,_))/2,.5);let R=0;for(;;){const s=b+R*T,i=v+R*P,r=w+R*k,o=(0,y.b)((0,y.c)(R/L),0),c=E+(g-E)*o,u=_+(m-_)*o;if((0,l.c)(e,t-a/2,n,a,a,s,i,r,c,u))return!0;if(R>=L)break;if(R=(0,y.a)((0,y.b)(R+C,L,1e5,Math.ceil),0,L),R<=0)break}}}if(T>=b)break;if(T=(0,y.a)((0,y.b)(T+S,b,1e5,Math.ceil),0,b),T<=0)break}return!1}expandPosition(){const[e,t,n]=this.getWorldSize(),s=this.getMargin();let i=0,r=0,o=0,l=e-1,c=t-1,u=n-1;const h=this.getMap();e:for(;i<e;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,i,n,e)>0)break e}i+=1}e:for(;l>=0;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,l,n,e)>0)break e}l+=-1}e:for(;r<t;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,r,e)>0)break e}r+=1}e:for(;c>=0;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,c,e)>0)break e}c+=-1}e:for(;o<n;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,o)>0)break e}o+=1}e:for(;u>=0;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,u)>0)break e}u+=-1}let d=0,f=0,p=0;this.offset.left=s,d+=Math.min(0,i-s),this.offset.right=l+s,d+=Math.max(0,l+s-(e-1)),this.offset.bottom=s,f+=Math.min(0,r-s),this.offset.top=c+s,f+=Math.max(0,c+s-(t-1)),this.offset.back=s,p+=Math.min(0,o-s),this.offset.front=u+s,p+=Math.max(0,u+s-(n-1)),this.map.expand(d,f,p);const g=this.getEntitys(),m=Math.abs(d<0?d:0),y=Math.abs(f<0?f:0),b=Math.abs(p<0?p:0);for(let e=0,t=0|g.length;e<t;e=e+1|0){const t=g[e];if(!(t instanceof a.a))continue;const{position:n}=t;n.x+=m,n.y+=y,n.z+=b}}reductionPosition(){const[e,t,n]=this.getWorldSize(),s=this.getMargin();let i=0,r=0,o=0,l=e-1,c=t-1,u=n-1;const h=this.getMap();e:for(;i<e;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,i,n,e)>0)break e}i+=1}e:for(;l>=0;){for(let e=0;e<n;e=e+1|0)for(let n=0;n<t;n=n+1|0){if(h.get(0,l,n,e)>0)break e}l+=-1}e:for(;r<t;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,r,e)>0)break e}r+=1}e:for(;c>=0;){for(let t=0;t<e;t=t+1|0)for(let e=0;e<n;e=e+1|0){if(h.get(0,t,c,e)>0)break e}c+=-1}e:for(;o<n;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,o)>0)break e}o+=1}e:for(;u>=0;){for(let n=0;n<e;n=n+1|0)for(let e=0;e<t;e=e+1|0){if(h.get(0,n,e,u)>0)break e}u+=-1}let d=0,f=0,p=0;this.offset.left=s,d+=Math.min(0,s-i),this.offset.right=l+s,d+=Math.max(0,e-1-(l+s)),this.offset.bottom=s,f+=Math.min(0,s-r),this.offset.top=c+s,f+=Math.max(0,t-1-(c+s)),this.offset.back=s,p+=Math.min(0,s-o),this.offset.front=u+s,p+=Math.max(0,n-1-(u+s)),this.map.reduction(d,f,p);const g=this.getEntitys(),m=Math.abs(d<0?d:0),y=Math.abs(f<0?f:0),b=Math.abs(p<0?p:0);for(let e=0,t=0|g.length;e<t;e=e+1|0){const t=g[e];if(!(t instanceof a.a))continue;const{position:n}=t;n.x-=m,n.y-=y,n.z-=b}}findPath(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>{t.block=!0},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e=>!0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e=>e.step,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:()=>!0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:()=>0;return this.finder.find(e,t,n,s,i,r,a,o,l)}createTransferVoxelData(e,t,n){return n=n||this.isForceUpdate,this.isForceUpdate=!1,this.transferDataBuilder.createData(e,this.renderEntitys,t,n)}onecsend(e){const[t,n,s]=this.getWorldSize();for(const e in this.trees){this.trees[e].update(t,n,s)}}onsyncentity(e){const{entitys:t}=e;for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];n instanceof a.a&&(!this.renderEntitys.includes(n)||n.hasComponent(w.a)&&n.hasComponent(E.a)?n.hasComponent(w.a)&&n.hasComponent(E.a)&&!this.renderEntitys.includes(n)&&this.renderEntitys.push(n):this.renderEntitys.splice(this.renderEntitys.indexOf(n),1))}}onremoveentity(e){const{entitys:t}=e;for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];for(const e in this.trees){this.trees[e].remove(n)}}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e];n instanceof a.a&&(this.renderEntitys.includes(n)&&this.renderEntitys.splice(this.renderEntitys.indexOf(n),1))}}onupdatebegin(e){this.starttime=performance.now(),super.onupdatebegin(e),this.finder.begin()}onupdate(e){super.onupdate(e);const{time:t,framerate:n}=e;this.lateTime+=t,this.finder.update(t*(1e3/60),this.starttime,n,this.maxFramerate)}}s()}catch(L){s(L)}}))},(e,t,n)=>{"use strict";n.d(t,{a:()=>d});n(1),n(2),n(20),n(21),n(161);var s=n(86),i=n(52);function r(e,t,n,s,r,a,o){let[l,c,u]=o;const h=0|t,d=0|n,f=0|s;if(null===e||h<0||h>=l||d<0||d>=c||f<0||f>=u)return-1;return e[(0,i.g)(a,r,h,d,f,l,c,u)]}var a=n(287);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t,n){o(this,"voxel_field",void 0),o(this,"distance_field",void 0),o(this,"morton_field",void 0),o(this,"fill_field",void 0),this.voxel_field=e,this.distance_field=t,this.morton_field=n,this.fill_field=(0,s.a)("int32",this.distance_field.length),this.fill_field.fill(1)}clearData(){this.distance_field.fill(-1),this.morton_field.fill(-1),this.fill_field.fill(0)}getReferenceMorton(e,t,n,s,r){const[a,o,l]=e,c=(0,i.g)(t,0,n,s,r,a,o,l);return this.morton_field[c]}findDistanceFind(e,t,n,s,o,l,c){const[u,h,d]=e,f=new Array,p={};let g=1/0,m=!1;const y=(s,o,l,y)=>{const b=(0,i.g)(t,0,o,l,y,u,h,d);if(o<0||l<0||y<0||o>u-1||l>h-1||y>d-1)return g=Math.min(g,s-1),m=!0,void(c&&(this.morton_field[b]=-1));const v=(0,a.e)(o,l,y);return p[v]?(g=Math.min(g,s-1),m=!0,void(c&&(this.morton_field[b]=this.getReferenceMorton(e,t,o,l,y)))):(p[v]=!0,r(this.voxel_field,o,l,y,0,t,e)!==n?(g=Math.min(g,s-1),m=!0,void(c&&(this.morton_field[b]=(0,a.e)(o,l,y)))):void f.push({count:s,x:o,y:l,z:y}))};y(1,s,o,l);e:for(;f.length>0;){const e=f.shift()||null;if(null===e)break;const{count:t,x:n,y:s,z:r}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];if(y(t+1,n+a,s+o,r+l),m)break e}}return g===1/0?1:g}getDistanceFind(e,t,n,s,r,o,l,c,u,h,d,f,p,g){if(c<0||u<0||h<0||c>d-1||u>f-1||h>p-1)return-1;const m=g?-1:(0,a.e)(r,o,l);for(var y=arguments.length,b=new Array(y>14?y-14:0),v=14;v<y;v++)b[v-14]=arguments[v];if(-1!==m&&b.includes(m))return-1;const w=(0,i.g)(t,0,c,u,h,d,f,p),E=this.distance_field[w],_=0===this.fill_field[w],x=g?this.findDistanceFind(e,t,n,c,u,h,g):s;return _?(this.distance_field[w]=x,this.fill_field[w]=1):this.distance_field[w]=g?Math.max(0,Math.max(this.distance_field[w],x)):Math.max(0,Math.min(this.distance_field[w],x)),_&&(this.morton_field[w]=g?this.morton_field[w]:m),E===this.distance_field[w]?_?x:-1:x}buildPointFind(e,t,n,s,o,l){for(var c=arguments.length,u=new Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];const[d,f,p]=e,g=new Array,m={},y=r(this.voxel_field,s,o,l,0,n,e)===t,b=this.getDistanceFind(e,n,t,0,s,o,l,s,o,l,d,f,p,y,...u);if(-1===b)return;const v=(i,c,h,b)=>{if(c<0||h<0||b<0||c>d-1||h>f-1||b>p-1)return;const v=(0,a.e)(c,h,b);if(!m[v]&&(m[v]=!0,r(this.voxel_field,c,h,b,0,n,e)===t)){const r=this.getDistanceAll(e,n,t,i,s,o,l,c,h,b,d,f,p,y,...u);-1!==r&&g.push({count:r,x:c,y:h,z:b})}};if(y)v(b,s,o,l);else{const e=(0,a.e)(s,o,l);g.push({count:b,x:s,y:o,z:l}),m[e]=!0}for(;g.length>0;){const e=g.shift()||null;if(null===e)break;const{count:t,x:n,y:s,z:r}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];v(t+1,n+a,s+o,r+l)}}}findDistanceAll(e,t,n,s,o,l){const[c,u,h]=e,d=new Array,f={};let p=1/0,g=!1;const m=(s,o,l,m)=>{if(o<0||l<0||m<0||o>c-1||l>u-1||m>h-1)return p=Math.min(p,s-1),void(g=!0);const y=(0,i.g)(t,0,o,l,m,c,u,h),b=this.distance_field[y];if(-1!==b)return p=Math.min(p,b),void(g=!0);const v=(0,a.e)(o,l,m);return f[v]?(p=Math.min(p,s-1),void(g=!0)):(f[v]=!0,r(this.voxel_field,o,l,m,0,t,e)!==n?(p=Math.min(p,s-1),void(g=!0)):void d.push({count:s,x:o,y:l,z:m}))};m(1,s,o,l);e:for(;d.length>0;){const e=d.shift()||null;if(null===e)break;const{count:t,x:n,y:s,z:r}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];if(m(t+1,n+a,s+o,r+l),g)break e}}return p===1/0?1:p}getDistanceAll(e,t,n,s,r,o,l,c,u,h,d,f,p){let g=arguments.length>13&&void 0!==arguments[13]&&arguments[13];if(c<0||u<0||h<0||c>d-1||u>f-1||h>p-1)return-1;const m=(0,a.e)(r,o,l);for(var y=arguments.length,b=new Array(y>14?y-14:0),v=14;v<y;v++)b[v-14]=arguments[v];if(b.includes(m))return-1;const w=(0,i.g)(t,0,c,u,h,d,f,p),E=this.distance_field[w],_=0===this.fill_field[w],x=g?this.findDistanceAll(e,t,n,c,u,h):s;return _?(this.distance_field[w]=x,this.fill_field[w]=1):this.distance_field[w]=g?Math.max(0,Math.max(this.distance_field[w],x)):Math.max(0,Math.min(this.distance_field[w],x)),E===this.distance_field[w]?_?x:-1:(this.morton_field[w]=m,x)}buildPointAll(e,t,n,s,o,l){for(var c=arguments.length,u=new Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];const[d,f,p]=e,g=new Array,m={},y=(0,a.e)(s,o,l),b=r(this.voxel_field,s,o,l,0,n,e)===t,v=this.getDistanceAll(e,n,t,0,s,o,l,s,o,l,d,f,p,b,...u);if(-1===v)return;const w=(i,c,h,y)=>{if(c<0||h<0||y<0||c>d-1||h>f-1||y>p-1)return;const v=(0,a.e)(c,h,y);if(!m[v]&&(m[v]=!0,r(this.voxel_field,c,h,y,0,n,e)===t)){const r=this.getDistanceAll(e,n,t,i,s,o,l,c,h,y,d,f,p,b,...u);-1!==r&&g.push({count:r,x:c,y:h,z:y})}};for(w(v,s,o,l),g.push({count:v,x:s,y:o,z:l}),m[y]=!0;g.length>0;){const e=g.shift()||null;if(null===e)break;const{count:t,x:n,y:s,z:r}=e;for(let e=0,a=0|i.i.length;e<a;e=e+1|0){const[a,o,l]=i.i[e];w(t+1,n+a,s+o,r+l)}}}buildPoint(e,t,n,s,i,r,a){for(var o=arguments.length,l=new Array(o>7?o-7:0),c=7;c<o;c++)l[c-7]=arguments[c];return a?this.buildPointAll(e,t,n,s,i,r,...l):this.buildPointFind(e,t,n,s,i,r,...l)}find(e,t,n,s,i,a){const[o,l,c]=e;for(var u=arguments.length,h=new Array(u>6?u-6:0),d=6;d<u;d++)h[d-6]=arguments[d];r(this.voxel_field,s,i,a,0,n,e)===t&&h.includes(this.getReferenceMorton(e,n,s,i,a))&&this.getDistanceFind(e,n,t,0,s,i,a,s,i,a,o,l,c,!0,...h)}buildFind(e,t,n,s){for(var i=arguments.length,r=new Array(i>4?i-4:0),o=4;o<i;o++)r[o-4]=arguments[o];for(let i=0,o=0|s.length;i<o;i=i+1|0){const o=s[i],[l,c,u]=(0,a.b)(o);this.find(e,t,n,l,c,u,...r)}}buildAll(e,t,n,s){this.clearData();for(let i=0,r=0|s.length;i<r;i=i+1|0){const r=s[i],[o,l,c]=(0,a.b)(r);this.buildPointAll(e,t,n,o,l,c)}}}var c=n(6),u=n(30);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"uint8",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;h(this,"voxel_inserts",{}),h(this,"distance_inserts",{}),h(this,"morton_inserts",{}),h(this,"find_distance_fields",new Array),h(this,"build_distance_field",new Array),h(this,"buffer",null),h(this,"is_update",!0),h(this,"is_reflesh_distance_field",!1),h(this,"voxel_field",null),h(this,"distance_field",null),h(this,"morton_field",null),h(this,"distance_field_builder",null),h(this,"width",void 0),h(this,"height",void 0),h(this,"depth",void 0),h(this,"distance",void 0),h(this,"data_type",void 0),h(this,"length",void 0),h(this,"fill",void 0),this.width=0|e,this.height=0|t,this.depth=0|n,this.distance=(0,c.k)(0,0,0,e,t,n),this.data_type=s,this.length=i,this.fill=r,this.setSize(e,t,n)}clear(){this.setSize(1,1,1)}setSize(e,t,n){if(e===this.width&&t===this.height&&n===this.depth&&null!==this.buffer)return;const i=(0,s.a)(this.data_type,e*t*n*this.getLength()),r=(0,s.a)("int32",e*t*n),o=(0,s.a)("int32",e*t*n);this.distance_field_builder=new l(i,r,o),this.buffer=i.buffer,this.width=0|e,this.height=0|t,this.depth=0|n,this.distance=(0,c.k)(0,0,0,e,t,n),this.voxel_field=i,this.distance_field=r,this.morton_field=o,i.fill(this.getFill()),r.fill(1),o.fill(-1);for(const e in this.voxel_inserts)delete this.voxel_inserts[e];for(const e in this.distance_inserts)delete this.distance_inserts[e];for(const e in this.morton_inserts)delete this.morton_inserts[e];let u=0;const h=new Array;for(let s=0;s<e;s=s+1|0)for(let e=0;e<t;e=e+1|0)for(let t=0;t<n;t=t+1|0)u++,h.push((0,a.e)(s,e,t));this.voxel_inserts[0]={count:u,mortons:h},this.is_update=!0}initData(e,t,n,s,r,a){const[o,l,c]=this.getSize(),u=this.getLength(),h=this.getVoxelField(),d=this.getDistanceField(),f=this.getMortonField();if(null!==h&&null!==d&&null!==f){for(const e in this.voxel_inserts)delete this.voxel_inserts[e];for(const e in this.distance_inserts)delete this.distance_inserts[e];for(const e in this.morton_inserts)delete this.morton_inserts[e];for(const e in s)this.voxel_inserts[e]=s[e];for(const e in r)this.distance_inserts[e]=r[e];for(const e in a)this.morton_inserts[e]=a[e];for(let s=0,r=0|o;s<r;s=s+1|0)for(let r=0,a=0|l;r<a;r=r+1|0)for(let a=0,p=0|c;a<p;a=a+1|0){const p=(0,i.g)(u,0,s,r,a,o,l,c),g=(0,i.g)(1,0,s,r,a,o,l,c);h[p]=e[s][r][a],d[g]=t[s][r][a],f[g]=n[s][r][a]}}}getWorldDistance(){return this.distance}getSize(){const{width:e,height:t,depth:n}=this;return[e,t,n]}getFill(){return this.fill}getLength(){return this.length}getBuffer(){return this.buffer}getVoxelField(){return this.voxel_field}getDistanceField(){return this.distance_field}getMortonField(){return this.morton_field}getVoxelInsertDatas(){return this.voxel_inserts}getDistanceInsertDatas(){return this.distance_inserts}getMortonInsertDatas(){return this.morton_inserts}set(e,t,n,o,l){let c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.getVoxelField(),h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:this.getSize();if(null===u)return;const d=0|t,f=0|n,p=0|o,[g,m,y]=h;if(d<0||d>=g||f<0||f>=m||p<0||p>=y)return;const b=u===this.getVoxelField()?this.getLength():1,v=(0,i.g)(b,e,d,f,p,g,m,y),w=u[v];if(w===(0,s.b)(this.data_type,l))return;u[v]=l;let E=null,_=!1;switch(u){case this.getVoxelField():this.is_update=!0,E=this.voxel_inserts,_=!0;break;case this.getDistanceField():this.is_update=!0,E=this.distance_inserts;break;case this.getMortonField():E=this.morton_inserts}if(null!==E){const e=(0,a.e)(t,n,o);if(E[w]){const t=E[w];t.count--,t.mortons.splice(t.mortons.indexOf(e),1),t.count<=0&&delete E[w]}E[l]||(E[l]={count:0,mortons:new Array});const s=E[l];s.count++,s.mortons.push(e)}if(_&&c&&(this.build_distance_field.some((e=>{let[t,n,s]=e;return t===d&&n===f&&s===p}))||this.build_distance_field.push([d,f,p]),null!==this.voxel_field))if(l!==this.getFill())for(let t=0,n=0|i.i.length;t<n;t=t+1|0){const[n,s,o]=i.i[t],l=d+n,c=f+s,u=p+o,g=r(this.voxel_field,l,c,u,e,b,h);if(-1===g||g===this.getFill())continue;const m=(0,a.e)(l,c,u);this.find_distance_fields.includes(m)||this.find_distance_fields.push(m)}else{const e=(0,a.e)(d,f,p);this.find_distance_fields.includes(e)||this.find_distance_fields.push(e)}}get(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getVoxelField(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.getSize();return null===i?-1:r(i,t,n,s,e,i===this.getVoxelField()?this.getLength():1,a)}getVoxelInsertData(e){return this.voxel_inserts.hasOwnProperty(e)?this.voxel_inserts[e]:null}getDistanceInsertData(e){return this.distance_inserts.hasOwnProperty(e)?this.distance_inserts[e]:null}getMortonInsertData(e){return this.morton_inserts.hasOwnProperty(e)?this.morton_inserts[e]:null}expand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e&&0===t&&0===n)return;const[s,i,r]=this.getSize(),o=this.getVoxelField(),l=this.getDistanceField(),c=this.getMortonField();this.setSize(s+Math.abs(e),i+Math.abs(t),r+Math.abs(n));const u=Math.abs(e<0?-e:0),h=Math.abs(t<0?-t:0),d=Math.abs(n<0?-n:0);for(let e=s-1|0;e>=0;e=e-1|0)for(let t=i-1|0;t>=0;t=t-1|0)for(let n=r-1|0;n>=0;n=n-1|0){const f=e+u,p=t+h,g=n+d;let m=this.get(0,e,t,n,l,[s,i,r]);m=-1===m?0:m,1!==m&&this.set(0,f,p,g,m,!1,this.getDistanceField());const y=this.getMortonField();let b=this.get(0,e,t,n,c,[s,i,r]);const[v,w,E]=(0,a.b)(b);b=-1===b?-1:(0,a.e)(v-u,w-h,E-d),-1!==b&&this.set(0,f,p,g,b,!1,y);for(let a=0,l=0|this.getLength();a<l;a=a+1|0){let l=this.get(a,e,t,n,o,[s,i,r]);l=-1===l?this.getFill():l,l!==this.getFill()&&this.set(a,f,p,g,l,!1,this.getVoxelField())}}}reduction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e&&0===t&&0===n)return;const[s,i,r]=this.getSize(),o=this.getVoxelField(),l=this.getDistanceField(),c=this.getMortonField();this.setSize(s-Math.abs(e),i-Math.abs(t),r-Math.abs(n));const u=Math.abs(e<0?-e:0),h=Math.abs(t<0?-t:0),d=Math.abs(n<0?-n:0);for(let e=s-1|0;e>=0;e=e-1|0)for(let t=i-1|0;t>=0;t=t-1|0)for(let n=r-1|0;n>=0;n=n-1|0){const f=e-u,p=t-h,g=n-d;let m=this.get(0,e,t,n,l,[s,i,r]);m=-1===m?0:m,1!==m&&this.set(0,f,p,g,m,!1,this.getDistanceField());const y=this.getMortonField();let b=this.get(0,e,t,n,c,[s,i,r]);const[v,w,E]=(0,a.b)(b);b=-1===b?-1:(0,a.e)(v+u,w+h,E+g),-1!==b&&this.set(0,f,p,g,b,!1,y);for(let a=0,l=0|this.getLength();a<l;a=a+1|0){let l=this.get(a,e,t,n,o,[s,i,r]);l=-1===l?this.getFill():l,l!==this.getFill()&&this.set(a,f,p,g,l,!1,this.getVoxelField())}}}requestRefleshDistanceField(){this.is_reflesh_distance_field=!0}cancelRefleshDistanceField(){this.is_reflesh_distance_field=!1}hasUpdate(){return this.is_update}checkUpdate(){let e=this.is_update;if(this.is_reflesh_distance_field){var t;const s=new Array,i=Object.keys(this.voxel_inserts);for(let e=0,t=0|i.length;e<t;e=e+1|0){const t=parseInt(i[e]);var n;if(!isNaN(t)&&t>0)s.push(...(null===(n=this.getVoxelInsertData(t))||void 0===n?void 0:n.mortons)||[])}null===(t=this.distance_field_builder)||void 0===t||t.buildAll(this.getSize(),this.getFill(),this.getLength(),s),(0,u.a)(this.build_distance_field),this.is_reflesh_distance_field=!1,e=!0}else for(;this.build_distance_field.length>0;){const t=this.build_distance_field.shift()||null;if(null!==t){var s;const[e,n,i]=t;null===(s=this.distance_field_builder)||void 0===s||s.buildPoint(this.getSize(),this.getFill(),this.getLength(),e,n,i,!1)}e=!0}var i,r;this.find_distance_fields.length>0&&(null===(i=this.distance_field_builder)||void 0===i||i.buildFind(this.getSize(),this.getFill(),this.getLength(),(null===(r=this.getVoxelInsertData(this.getFill()))||void 0===r?void 0:r.mortons)||[],...this.find_distance_fields),(0,u.a)(this.find_distance_fields),e=!0);return this.is_update=!1,e}}},(e,t,n)=>{n(31)("Int8",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{n(31)("Int16",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{n(31)("Int32",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{n(31)("Uint16",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{n(31)("Uint32",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{n(31)("Uint8",(function(e){return function(t,n,s){return e(this,t,n,s)}}),!0)},(e,t,n)=>{n(31)("Float64",(function(e){return function(t,n,s){return e(this,t,n,s)}}))},(e,t,n)=>{"use strict";var s=n(10),i=n(0),r=n(108),a=n(72),o="ArrayBuffer",l=r.ArrayBuffer;s({global:!0,constructor:!0,forced:i.ArrayBuffer!==l},{ArrayBuffer:l}),a(o)},(e,t,n)=>{"use strict";n.d(t,{a:()=>c});n(1),n(2),n(20),n(21),n(15);var s=n(52),i=n(287),r=n(6),a=n(30),o=n(40);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>[-1,-1,-1,-1,-1];l(this,"hasAdd",void 0),l(this,"paramGetter",void 0),l(this,"size",new r.c(1,1,1)),l(this,"data",{}),l(this,"entitys",new Array),l(this,"stands",new Array),l(this,"points",new Array),l(this,"oldPropertys",new WeakMap),l(this,"oldPoints",new WeakMap),this.hasAdd=e,this.paramGetter=t}hasOverPosition(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const[r,a,o]=this.getSize();return e+s/2<0||t+i<0||n+s/2<0||e-s/2>=r||t>=a||n-s/2>=o}getDimension(){const[,e,t]=this.getSize();switch(!0){case!(1^e):return 1;case!(1^t):return 2}return 3}calcMortonNumber(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.hasOverPosition(e,t,n))switch(this.getDimension()){case 1:return(0,i.c)(e);case 2:return(0,i.d)(e,n);case 3:return(0,i.e)(e,t,n)}return-1}setSize(e,t,n){this.size.x=e,this.size.y=t,this.size.z=n}getSize(){return[this.size.x,this.size.y,this.size.z]}getEntityProperty(e){return this.paramGetter(e)}getOldEntityProperty(e){const t=this.oldPropertys.get(e);return t?[t.x,t.y,t.z,t.rx,t.ry]:[-1,-1,-1,-1,-1]}add(e){this.hasAdd(e)&&!this.stands.includes(e)&&!this.entitys.includes(e)&&this.stands.push(e)}remove(e){if(this.entitys.includes(e)){this.entitys.splice(this.entitys.indexOf(e),1);const t=this.oldPoints.get(e)||null;null!==t&&this.appendCells(e,new Array,t),this.oldPropertys.delete(e),this.oldPoints.delete(e)}this.stands.includes(e)&&this.stands.splice(this.stands.indexOf(e),1)}hasEntity(e){return this.hasAdd(e)}clear(){this.size.x=0,this.size.y=0,this.size.z=0;for(const e in this.data)delete this.data[e];this.entitys.forEach((e=>{this.oldPropertys.delete(e),this.oldPoints.delete(e)})),(0,a.a)(this.points),(0,a.a)(this.entitys),(0,a.a)(this.stands)}getCell(e){return this.data[e]||new Array}getPointCell(e,t,n){const s=this.calcMortonNumber(e,t,n);return this.getCell(s)}getAppendPoints(){return this.points}setOldPosition(e){const t=this.oldPropertys.get(e)||null;if(null!==t){const[n,s,i,r,a]=this.getEntityProperty(e),o=Math.floor(n-r/2),l=Math.floor(s),c=Math.floor(i-r/2),u=Math.ceil(n+r/2),h=Math.ceil(s+a),d=Math.ceil(i+r/2);t.sx=o,t.sy=l,t.sz=c,t.ex=u,t.ey=h,t.ez=d,t.x=n,t.y=s,t.z=i,t.rx=r,t.ry=a}}initOldPosition(e){const t={x:-1,y:-1,z:-1,rx:-1,ry:-1,sx:-1,sy:-1,sz:-1,ex:-1,ey:-1,ez:-1};return this.oldPropertys.set(e,t),t}appendCells(e,t,n){const s=e.getID();for(let e=0,i=0|n.length;e<i;e=e+1|0){const i=n[e];if(t.includes(i))continue;const r=this.data[i]||null;null!==r&&(r.splice(r.indexOf(s),1),r.length<=0&&delete this.data[i])}for(let e=0,n=0|t.length;e<n;e=e+1|0){const n=t[e],i=this.data[n]||null;null===i?this.data[n]=[s]:i.includes(s)||(i.push(s),this.points.includes(n)||this.points.push(n))}}update(e,t,n){for(this.setSize(e,t,n);this.stands.length>0;){const e=this.stands.shift()||null;null!==e&&this.entitys.push(e)}for(let i=0,a=0|this.entitys.length;i<a;i=i+1|0){const a=this.entitys[i],[l,c,u,h,d]=this.getEntityProperty(a);let f=this.oldPropertys.get(a)||null;if(null===f&&(f=this.initOldPosition(a)),-1!==l&&-1!==c&&-1!==u&&!this.hasOverPosition(l,c,u,h,d)){let i=this.oldPoints.get(a)||null;null===i&&(i=new Array);const p=Math.floor(l-h/2),g=Math.floor(c),m=Math.floor(u-h/2),y=Math.floor(l+h/2),b=Math.floor(c+d),v=Math.floor(u+h/2);if(f.sx!==p||f.sy!==g||f.sz!==m||f.ex!==y||f.ey!==b||f.ez!==v){const w=-1===f.x?l:f.x,E=-1===f.y?c:f.y,_=-1===f.z?u:f.z,x=f.rx?h:f.rx,M=f.ry?d:f.ry,O=l-w,A=c-E,S=u-_,T=(0,r.k)(0,0,0,e,t,n),P=Math.min((0,r.k)(O,A,S,0,0,0),T),[k,L]=(0,r.i)(O,A,S,0,0,0),C=Math.min(P,Math.max(Math.min(h,d),Math.min(x,M))/2,.5),[R,I,F]=(0,r.l)(k,L,0,0,1),N=this.getDimension();let D=0;const U=new Array;for(;;){const n=w+D*R,i=E+D*I,r=_+D*F;let a=new Array;switch(N){case 1:a=(0,s.a)(n,h,e);break;case 2:a=(0,s.b)(n,r,h,Math.max(e,t));break;case 3:a=(0,s.c)(n,i,r,h,d)}for(let e=0,t=0|a.length;e<t;e=e+N|0){const t=a[e],n=a[e+1],s=a[e+2];let i=-1;switch(N){case 1:i=this.calcMortonNumber(t,0,0);break;case 2:i=this.calcMortonNumber(t,0,n);break;case 3:i=this.calcMortonNumber(t,n,s)}-1===i||U.includes(i)||U.push(i)}if(D>=P)break;if(D=(0,o.a)((0,o.b)(D+C,P,1e5,Math.ceil),0,P),D<=0)break}0===C&&(f.sx=p,f.sy=g,f.sz=m,f.ex=y,f.ey=b,f.ez=v),this.oldPoints.set(a,U),this.appendCells(a,U,i)}}f.x=l,f.y=c,f.z=u,f.rx=h,f.ry=d}}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>a});n(1),n(2);var s=n(6),i=n(219);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.a{constructor(){super(...arguments),r(this,"position",new s.c(0,0,0)),r(this,"direction",new s.c(0,0,0))}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,"size",void 0),i(this,"treeFix",void 0),this.size=new s.b(e,t),this.treeFix=n}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i(this,"init",!1),i(this,"enable",!0),i(this,"isPush",!0),i(this,"old",new s.c(-1,-1,-1)),i(this,"targets",new Array),i(this,"size",void 0),i(this,"filter",void 0),i(this,"treeFix",void 0),this.size=new s.b(e,t),this.filter=n,this.treeFix=r}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i(this,"size",void 0),i(this,"treeFix",void 0),this.size=new s.b(e,t),this.treeFix=n}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>h});n(1),n(2),n(11),n(271);var s=n(30),i=n(52),r=n(6),a=n(287),o=n(81);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>0;class u{constructor(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,"x",void 0),l(this,"y",void 0),l(this,"z",void 0),l(this,"stepX",void 0),l(this,"stepY",void 0),l(this,"stepZ",void 0),l(this,"step",void 0),l(this,"prev",void 0),l(this,"cost",0),this.x=e,this.y=t,this.z=n,this.stepX=s,this.stepY=i,this.stepZ=r,this.step=null===a?0:a.step+1,this.prev=a}getCost(e,t,n){return(0,r.k)(e,t,n,this.x,this.y,this.z)+this.step}}class h{constructor(){l(this,"stacks",new Array),l(this,"queue",new Array),l(this,"sorts",new WeakMap),l(this,"block",{block:!1})}find(e,t,n,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>({block:!1}),h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e=>!0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e=>e.step,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:()=>!0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:c;const g=[];return new Promise(((c,m)=>{if(!e.hasFinish())return;const y=(0,o.a)(3===e.dimension?i.i:i.h),{block:b}=this;let v=0;e.begin(.5+(0|t),.5+(0|n),.5+(0|r)),(0,s.b)(y);const w=this;this.queue.push(function*(){do{yield p;const t=e.searchPoint.shift()||null;if(null===t||!f())break;if(h(t)){e.close(t),c(null);break}for(let n=0|y.length;v<n;v=v+1|0){const[n,s,i]=y[v],r=n+(0|t.x)|0,o=s+(0|t.y)|0,c=i+(0|t.z)|0;let h=w.stacks.shift()||null;null===h?h=new u(r+.5,o+.5,c+.5,n,s,i,t):(h.x=r+.5,h.y=o+.5,h.z=c+.5,h.stepX=n,h.stepY=s,h.stepZ=i,h.prev=t,h.cost=0),b.block=!1,delete b.label,l(h,b);let f=(0,a.e)(r,o,c);const p=b.label||null;if(null!==p&&(f="".concat(f,"-").concat(p)),!e.hasSearch[f]&&(e.hasSearch[f]=!0,!b.block)){h.cost=d(h);let t=!1;for(let n=0,s=0|e.searchPoint.length;n<s;n=n+1|0){if(e.searchPoint[n].cost>h.cost){e.searchPoint.splice(n,0,h),t=!0;break}}t||e.searchPoint.push(h)}}v=0,g.push(t)}while(e.searchPoint.length>0);return e.close(null),m(),!0}())})).finally((()=>{this.stacks.push(...g)}))}begin(){(0,s.c)(this.queue).asc((e=>(this.sorts.get(e)||c)()))}update(e,t,n,s){if(this.queue.length<=0)return;const i=Math.min(e,n===1/0?1e3/s:1e3/n);do{const e=this.queue.shift()||null;if(null===e)break;{const t=e.next();t.done||(this.sorts.set(e,t.value),this.queue.push(e))}}while(performance.now()-t<i&&this.queue.length>0)}}},(e,t,n)=>{"use strict";var s=n(10),i=n(26),r=n(49),a=n(3),o=n(32),l=n(7),c=n(73),u=n(130),h=n(19),d=r&&r.prototype;if(s({target:"Promise",proto:!0,real:!0,forced:!!r&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,o("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!i&&l(r)){var f=o("Promise").prototype.finally;d.finally!==f&&h(d,"finally",f,{unsafe:!0})}},(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var s=n(6);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var i,r,a;a=void 0,(r="position")in(i=this)?Object.defineProperty(i,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[r]=a,this.position=new s.c(e,t,n)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var s=n(219),i=n(5),r=n(39);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends s.b{constructor(e,t,n,s,i,r){super(!1),a(this,"name",void 0),a(this,"scenes",void 0),a(this,"renderers",void 0),a(this,"assets",void 0),a(this,"controls",void 0),a(this,"sounds",void 0),this.name=e,this.scenes=t,this.renderers=n,this.assets=s,this.controls=i,this.sounds=r}getName(){return this.name}getRendererManager(){return this.renderers}getAssetManager(){return this.assets}getControlManager(){return this.controls}getSoundManager(){return this.sounds}createSound(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.sounds.create(e,t,null===n?(0,r.a)():n)}getSound(e){return this.sounds.getSound(e)}hasSound(e){return this.sounds.hasSound(e)}getSceneManager(){return this.scenes}clear(){const e=this.getSoundManager(),t=this.getControlManager();e.clear(),t.clear(),super.clear()}destroy(){const e=this.getSceneManager(),t=this.getControlManager(),n=this.getAssetManager(),s=this.getSoundManager(),r=this.getRendererManager();e.destroy(),t.destroy(),n.destroy(),s.destroy(),r.destroy(),new i.a(this,"destroy").trigger()}oninactive(){this.getControlManager().clear()}onupdatebegin(e){const{time:t,now:n,framerate:s,fps:r,updateCount:a}=e;new i.a(this.getControlManager(),"update").trigger({time:t,now:n,framerate:s,fps:r,updateCount:a})}onupdateend(e){const{time:t,now:n,framerate:s,fps:r,updateCount:a}=e;new i.a(this.getSceneManager(),"update").trigger({time:t,now:n,framerate:s,fps:r,updateCount:a}),new i.a(this.getRendererManager(),"update").trigger({time:t,now:n,framerate:s,fps:r,updateCount:a}),new i.a(this.getSoundManager(),"update").trigger({time:t,now:n,framerate:s,fps:r,updateCount:a}),new i.a(this.getAssetManager(),"update").trigger({time:t,now:n,framerate:s,fps:r,updateCount:a})}}class l extends o{constructor(e,t,n,s,i,r){super(e,t,n,s,i,r)}createTransferUIData(e){return[]}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>b});n(1),n(2),n(60),n(85),n(61),n(62),n(63),n(275);var s=n(289),i=n(6);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];r(this,"position",void 0),r(this,"fix",new i.c(0,0,0)),r(this,"scale",void 0),r(this,"rotate",void 0),r(this,"isFixRotate",void 0),this.position=new i.c(e,t,n),this.scale=s,this.rotate=a,this.isFixRotate=o}}var o=n(288);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,n,s;s=void 0,(n="value")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,this.value=e}}n(30);var c=n(81),u=n(86);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,"data",void 0),h(this,"width",void 0),h(this,"height",void 0),h(this,"depth",void 0),this.data=e,this.width=0|t,this.height=0|n,this.depth=0|s}}class f{constructor(e){h(this,"maxTextureSize",void 0),h(this,"buffers",{}),this.maxTextureSize=e}get(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.buffers[e];return(0,u.c)()&&n.data.buffer instanceof self.SharedArrayBuffer||!t?n:new d((0,c.a)(n.data),n.width,n.height,n.depth)}has(e){return this.buffers.hasOwnProperty(e)}require(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const[r,a,o]=function(e,t){return[e%t,Math.max(1,Math.floor(e/t))%t,Math.min(t,Math.max(1,Math.floor(Math.floor(e/t)/t)))]}(n,this.maxTextureSize),l=r*a*o*s;return this.buffers.hasOwnProperty(e)&&this.buffers[e].data.length===l||(this.buffers[e]=new d((0,u.a)(t,l,i),r,a,o)),this.buffers[e]}}n(167);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return e[t]}const m=16,y=21;class b{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;p(this,"setting",void 0),p(this,"buffers",void 0),p(this,"maxDrawDistance",void 0),p(this,"oldScene",null),this.setting=e,this.buffers=new f(t),this.maxDrawDistance=n}getClusterResolution(){return 16}lightCullingData(e,t){const n=e.getCamera(),r=e.getSun(),c=e.getMaterialManager().getMaterials(),h=new Array;let d=0;for(let e=0,r=0|t.length;e<r;e=e+1|0){var f;const r=t[e]||null;if(null===r)continue;const{position:p}=r,g=r.getComponent(o.a),y=c.indexOf(g.material)||0;if(y<=0)continue;let b=!1,v=0;const w=r.getComponent(a)||null;if(null!==w){if(!r.hasComponent(l))continue;const e=r.getComponent(a);if(r.getComponent(l).value!==n)continue;p.x=e.position.x*(e.position.z/n.hudFov),p.y=e.position.y*(e.position.z/n.hudFov),p.z=e.position.z,e.fix.x=e.position.x*(e.position.z/n.fov),e.fix.y=e.position.y*(e.position.z/n.fov),e.fix.z=e.position.z,g.scale=e.scale*(e.position.z/n.hudFov);const t=e.position.x*Math.abs(Math.sin(e.position.y*i.a));v=e.isFixRotate?(0,i.n)((Math.sin(t)+i.a*Math.sign(e.position.x)*(Math.abs(Math.max(0,.5-n.hudFov))/.25))*(Math.PI/16+Math.abs(Math.max(0,n.hudFov-.5))/.25*16)*(Math.abs(t)/.25)):0,g.rotate=e.rotate,b=!0}const E=r.getComponent(s.a),_=E.bottom*g.scale,x=p.x,M=p.y,O=p.z,[A,S,T]=b?(0,i.l)(n.direction.x,n.direction.y,x,M,O):[x,M,O],P=A+(b?n.position.x:0),k=S+(b?n.position.y:0)+_,L=T+(b?n.position.z:0),C=b?r.getComponent(a).position.z:(0,i.k)(P,k,L,n.position.x,n.position.y,n.position.z);if(C>this.maxDrawDistance)continue;const[R,I]=(0,i.i)(P,k,L,n.position.x,n.position.y,n.position.z),[F,N]=(0,i.e)(R,I,n.direction.x,n.direction.y);F>i.a&&N>i.a||((0,u.d)(h,m,d,0,C),(0,u.d)(h,m,d,1,p.x),(0,u.d)(h,m,d,2,p.y),(0,u.d)(h,m,d,3,p.z),(0,u.d)(h,m,d,4,_),(0,u.d)(h,m,d,5,g.scale),(0,u.d)(h,m,d,6,(null===(f=g.material)||void 0===f?void 0:f.bounding)||0),(0,u.d)(h,m,d,7,null!==w?w.fix.x:E.axes.x?1:0),(0,u.d)(h,m,d,8,null!==w?w.fix.y:E.axes.y?1:0),(0,u.d)(h,m,d,9,null!==w?w.fix.z:E.axes.z?1:0),(0,u.d)(h,m,d,10,(0,i.n)(g.rotate)),(0,u.d)(h,m,d,11,g.flip.x?-1:1),(0,u.d)(h,m,d,12,g.flip.y?-1:1),(0,u.d)(h,m,d,13,b?1:0),(0,u.d)(h,m,d,14,b?v:0),(0,u.d)(h,m,d,15,y),d++)}return{billboard_datas:new Float32Array(h),billboard_length:d,camera:{position:{x:n.position.x,y:n.position.y,z:n.position.z},direction:{x:n.direction.x,y:n.direction.y,z:n.direction.z},fov:n.fov,hudFov:n.hudFov,zoom:n.zoom,light:n.light},sun:{direction:{x:r.direction.x,y:r.direction.y}}}}buildMaterials(e,t,n){if(!n&&this.buffers.has("materials")&&!e.checkUpdate()&&!t.checkUpdate())return{materials:null};const s=[],i=t.getMaterials();for(const t in i){const n=Number(t);if(isNaN(n))continue;const r=i[n];s[n]=e.getBufferLocation(r.src,r.index)}const r=this.buffers.require("materials","int32",Math.max(1,s.length),1,!0);for(let e=0,t=0|s.length;e<t;e=e+1|0)r.data[e]=s[e]||0;return{materials:r}}buildVoxels(e,t,n){if(!n&&!t.checkUpdate()&&this.buffers.has("voxels"))return{voxels:null};const s=[],i=t.getVoxels();for(const t in i){const n=Number(t);if(isNaN(n))continue;const r=i[n];if(null===r)for(let e=0,t=21;e<t;e=e+1|0)s[n*y+e]=0;else{const t=e.getTileSet(),i=e.getMaterials();(0,u.d)(s,y,n,0,r.position.x),(0,u.d)(s,y,n,1,r.position.y),(0,u.d)(s,y,n,2,r.position.z),null!==t?((0,u.d)(s,y,n,3,Object.values(i).indexOf(g(t,r.front))),(0,u.d)(s,y,n,4,Object.values(i).indexOf(g(t,r.back))),(0,u.d)(s,y,n,5,Object.values(i).indexOf(g(t,r.right))),(0,u.d)(s,y,n,6,Object.values(i).indexOf(g(t,r.left))),(0,u.d)(s,y,n,7,Object.values(i).indexOf(g(t,r.top))),(0,u.d)(s,y,n,8,Object.values(i).indexOf(g(t,r.bottom)))):((0,u.d)(s,y,n,3,Object.values(i).indexOf(i.NONE)),(0,u.d)(s,y,n,4,Object.values(i).indexOf(i.NONE)),(0,u.d)(s,y,n,5,Object.values(i).indexOf(i.NONE)),(0,u.d)(s,y,n,6,Object.values(i).indexOf(i.NONE)),(0,u.d)(s,y,n,7,Object.values(i).indexOf(i.NONE)),(0,u.d)(s,y,n,8,Object.values(i).indexOf(i.NONE))),(0,u.d)(s,y,n,9,r.flipXFront?-1:1),(0,u.d)(s,y,n,10,r.flipYFront?-1:1),(0,u.d)(s,y,n,11,r.flipXBack?-1:1),(0,u.d)(s,y,n,12,r.flipYBack?-1:1),(0,u.d)(s,y,n,13,r.flipXRight?-1:1),(0,u.d)(s,y,n,14,r.flipYRight?-1:1),(0,u.d)(s,y,n,15,r.flipXLeft?-1:1),(0,u.d)(s,y,n,16,r.flipYLeft?-1:1),(0,u.d)(s,y,n,17,r.flipXTop?-1:1),(0,u.d)(s,y,n,18,r.flipYTop?-1:1),(0,u.d)(s,y,n,19,r.flipXBottom?-1:1),(0,u.d)(s,y,n,20,r.flipYBottom?-1:1)}}const r=this.buffers.require("voxels","float32",Math.max(y,s.length),1,!0);for(let e=0,t=0|s.length;e<t;e=e+1|0)r.data[e]=s[e]||0;return{voxels:r}}getMaxDrawDistance(){return this.maxDrawDistance}setMaxDrawDistance(e){this.maxDrawDistance=e}createData(e,t,n,s){const i=e.getRendererManager(),r=e.getMaterialManager(),a=e.getVoxelManager(),o=this.oldScene!==e.getName()||s;this.oldScene=e.getName();const l=e.getMap(),c=e.getLateTime(),[h,d]=i.getSize(),[f,p]=[this.getClusterResolution(),this.getClusterResolution()];let g=null,m=null,y=null,b=0;const v=[];if(n){const{camera:n,sun:s,billboard_datas:i,billboard_length:r}=this.lightCullingData(e,t);g=n,m=s,y=i,b=r,v.push(i.buffer)}const{materials:w}=this.buildMaterials(e.getAssetManager(),r,o),{voxels:E}=this.buildVoxels(e,a,o),_=e.getBackground(),x=l.checkUpdate(),M=l.getVoxelField(),O=l.getDistanceField();return(0,u.c)()||(null!==w&&v.push(w.data.buffer),null!==E&&v.push(E.data.buffer)),[{camera:g,sun:m,voxel_field:{width:l.getSize()[0],height:l.getSize()[1],depth:l.getSize()[2],distance:l.getWorldDistance(),data:x||o?M:null},distance_field:{width:l.getSize()[0],height:l.getSize()[1],depth:l.getSize()[2],data:x||o?O:null},materials:w,voxels:E,resolution:{width:h,height:d},cluster_resolution:{width:f,height:p},billboard_datas:y,billboard_length:b,background:_,lateTime:c},v]}}},(e,t,n)=>{"use strict";var s=n(10),i=n(220).left,r=n(139),a=n(67),o=n(55);s({target:"Array",proto:!0,forced:!r("reduce")||!o&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){i(this,"init",!1),i(this,"enable",!0),i(this,"hit",{x:0,y:0,z:0,angle:{x:0,y:0}}),i(this,"old",new s.c(-1,-1,-1)),i(this,"size",void 0),this.size=new s.b(e,t)}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;i(this,"value",new s.c(0,0,0)),i(this,"drift",void 0),i(this,"airDrift",void 0),i(this,"forceAir",!1),this.drift=new s.c(e,t,n),this.airDrift=r}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var s=n(6);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,"move",new s.c(0,0,0)),i(this,"look",new s.b(0,0)),i(this,"force",1),i(this,"limit",!0),i(this,"speed",void 0),this.speed=e}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>r,b:()=>l,c:()=>o});n(1),n(2);var s=n(111),i=n(40);const r=[[720,480],[854,480],[960,540],[1024,576],[1136,640],[1280,720],[1366,768],[1600,900],[1920,1080],[2048,1152],[2560,1440],[2880,1620],[3200,1800],[3840,2160],[7680,4320]];function a(e,t){return t[(0,i.a)(e.getResolutionIndex(),0,t.length-1)]}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return((0,s.g)(!0)&&!e.hasAutomaticResolution()?a(e,t):null)||(0,s.d)(e.hasHighPixelRatio(),n)}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[s,i]=o(e,t,n);return[0|(e.hasCRT()?s/Math.max(e.getCRTSubPixel(),1):s),0|(e.hasCRT()?i/Math.max(e.getCRTSubPixel(),1):i)]}},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>r.a,b:()=>a.a,c:()=>o.a});var i=n(281),r=n(282),a=n(283),o=n(284),l=e([i]);i=(l.then?(await l)():l)[0],self.GLWorker=i.b,self.GLCanvasWorker=i.a,s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";n.a(e,(async(e,s)=>{try{n.d(t,{a:()=>l,b:()=>o});var i=n(22),r=n(84),a=e([r]);(r=(a.then?(await a)():a)[0]).d?Worker:i.c;const o=r.c?Worker:i.c,l=r.d&&r.c?Worker:i.c;s()}catch(e){s(e)}}))},(e,t,n)=>{"use strict";function s(){return new GLWorker(n.p+"worker.render.composite.js")}n.d(t,{a:()=>s})},(e,t,n)=>{"use strict";function s(){return new GLWorker(n.p+"worker.render.raycast.js")}n.d(t,{a:()=>s})},(e,t,n)=>{"use strict";function s(){return new GLCanvasWorker(n.p+"worker.render.ui.js")}n.d(t,{a:()=>s})},(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e,t,n){s(this,"src",void 0),s(this,"bounding",void 0),s(this,"index",void 0),this.src=e,this.bounding=t,this.index=n}}},(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s(this,"color",void 0),s(this,"invert",void 0),this.color=e,this.invert=null===t?[1-e[0],1-e[1],1-e[2]]:t}getColor(){return this.color}getInvertColor(){return this.invert}}},(e,t,n)=>{"use strict";function s(e){let t=e;return t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),t}function i(e){let t=e;return t&=1023,t=4278190335&(t^t<<16),t=50393103&(t^t<<8),t=51130563&(t^t<<4),t=153391689&(t^t<<2),t}function r(e){let t=e;return t&=1431655765,t=858993459&(t|t>>1),t=252645135&(t|t>>2),t=16711935&(t|t>>4),t=65535&(t|t>>8),t}function a(e){let t=e;return t&=153391689,t=51130563&(t^t>>2),t=50393103&(t^t>>4),t=4278190335&(t^t>>8),t=1023&(t^t>>16),t}function o(e){return e}function l(e,t){return s(0|e)|s(0|t)<<1}function c(e,t,n){return i(0|e)|i(0|t)<<1|i(0|n)<<2}function u(e){return[r(e>>0),r(e>>1)]}function h(e){return[a(e>>0),a(e>>1),a(e>>2)]}n.d(t,{a:()=>u,b:()=>h,c:()=>o,d:()=>l,e:()=>c})},(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s(this,"material",void 0),s(this,"scale",void 0),s(this,"rotate",void 0),s(this,"flip",void 0),this.material=e,this.scale=t,this.rotate=n,this.flip={x:i,y:r}}}},(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{a:()=>i});class i{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,"axes",void 0),s(this,"bottom",void 0),this.axes={x:e,y:t,z:n},this.bottom=i}}},(e,t,n)=>{"use strict";n.d(t,{a:()=>s});const s=[30,60,144,240]},(e,t,n)=>{"use strict";function s(){return new Worker(n.p+"worker.tick.js")}n.d(t,{a:()=>s})}],r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(i,r,a)=>{var o;a&&((o=[]).d=1);var l,c,u,h=new Set,d=i.exports,f=new Promise(((e,t)=>{u=t,c=e}));f[t]=d,f[e]=e=>(o&&e(o),h.forEach(e),f.catch((e=>{}))),i.exports=f,r((i=>{var r;l=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[e])return i;if(i.then){var r=[];r.d=0,i.then((e=>{a[t]=e,s(r)}),(e=>{a[n]=e,s(r)}));var a={};return a[e]=e=>e(r),a}}var o={};return o[e]=e=>{},o[t]=i,o})))(i);var a=()=>l.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(r=()=>t(a)).r=0;var n=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(r.r++,e.push(r)));l.map((t=>t[e](n)))}));return r.r?c:a()}),(e=>(e?u(f[n]=e):c(d),s(o)))),o&&(o.d=0)},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="./";a(223)})();