/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/statsig-js@4.22.1/build/statsig-prod-web-sdk.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var statsig;(()=>{var __webpack_modules__={23:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(i){return new Sha256(t,!0).update(i)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var i=0;i<OUTPUT_TYPES.length;++i){var s=OUTPUT_TYPES[i];t[s]=createOutputMethod(s,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(i,s){return new HmacSha256(i,t,!0).update(s)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,i){return t.create(e).update(i)};for(var i=0;i<OUTPUT_TYPES.length;++i){var s=OUTPUT_TYPES[i];t[s]=createHmacOutputMethod(s,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,i){var s,r=typeof e;if("string"===r){var a,n=[],o=e.length,l=0;for(s=0;s<o;++s)(a=e.charCodeAt(s))<128?n[l++]=a:a<2048?(n[l++]=192|a>>6,n[l++]=128|63&a):a<55296||a>=57344?(n[l++]=224|a>>12,n[l++]=128|a>>6&63,n[l++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n[l++]=240|a>>18,n[l++]=128|a>>12&63,n[l++]=128|a>>6&63,n[l++]=128|63&a);e=n}else{if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],d=[];for(s=0;s<64;++s){var h=e[s]||0;u[s]=92^h,d[s]=54^h}Sha256.call(this,t,i),this.update(d),this.oKeyPad=u,this.inner=!0,this.sharedMemory=i}Sha256.prototype.update=function(e){if(!this.finalized){var t,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var s,r,a=0,n=e.length,o=this.blocks;a<n;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(r=this.start;a<n&&r<64;++a)o[r>>2]|=e[a]<<SHIFT[3&r++];else for(r=this.start;a<n&&r<64;++a)(s=e.charCodeAt(a))<128?o[r>>2]|=s<<SHIFT[3&r++]:s<2048?(o[r>>2]|=(192|s>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&s)<<SHIFT[3&r++]):s<55296||s>=57344?(o[r>>2]|=(224|s>>12)<<SHIFT[3&r++],o[r>>2]|=(128|s>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&s)<<SHIFT[3&r++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++a)),o[r>>2]|=(240|s>>18)<<SHIFT[3&r++],o[r>>2]|=(128|s>>12&63)<<SHIFT[3&r++],o[r>>2]|=(128|s>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&s)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,i,s,r,a,n,o,l,u=this.h0,d=this.h1,h=this.h2,c=this.h3,g=this.h4,f=this.h5,v=this.h6,p=this.h7,_=this.blocks;for(e=16;e<64;++e)t=((r=_[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,i=((r=_[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,_[e]=_[e-16]+t+_[e-7]+i<<0;for(l=d&h,e=0;e<64;e+=4)this.first?(this.is224?(a=300032,p=(r=_[0]-1413257819)-150054599<<0,c=r+24177077<<0):(a=704751109,p=(r=_[0]-210244248)-1521486534<<0,c=r+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),s=(a=u&d)^u&h^l,p=c+(r=p+(i=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&f^~g&v)+K[e]+_[e])<<0,c=r+(t+s)<<0),t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=(n=c&u)^c&d^a,v=h+(r=v+(i=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&f)+K[e+1]+_[e+1])<<0,t=((h=r+(t+s)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),s=(o=h&c)^h&u^n,f=d+(r=f+(i=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&p^~v&g)+K[e+2]+_[e+2])<<0,t=((d=r+(t+s)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),s=(l=d&h)^d&c^o,g=u+(r=g+(i=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&v^~f&p)+K[e+3]+_[e+3])<<0,u=r+(t+s)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+d<<0,this.h2=this.h2+h<<0,this.h3=this.h3+c<<0,this.h4=this.h4+g<<0,this.h5=this.h5+f<<0,this.h6=this.h6+v<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,s=this.h3,r=this.h4,a=this.h5,n=this.h6,o=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n];return this.is224||(l+=HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,i=this.h2,s=this.h3,r=this.h4,a=this.h5,n=this.h6,o=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,r>>24&255,r>>16&255,r>>8&255,255&r,a>>24&255,a>>16&255,a>>8&255,255&a,n>>24&255,n>>16&255,n>>8&255,255&n];return this.is224||l.push(o>>24&255,o>>16&255,o>>8&255,255&o),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e,t,i,s,r=[],a=""){this.name=e,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this.ruleID=null!=i?i:"",this.secondaryExposures=r,this.allocatedExperimentName=a,this.evaluationDetails=s}get(e,t,i){const s=this.getValue(e,t);return null==s?t:i?i(s)?s:t:null==t||typeof s==typeof t&&Array.isArray(t)===Array.isArray(s)?s:t}getValue(e,t){return null==e?this.value:(null==t&&(t=null),null==this.value[e]?t:this.value[e])}getRuleID(){return this.ruleID}getName(){return this.name}getEvaluationDetails(){return this.evaluationDetails}_getSecondaryExposures(){return this.secondaryExposures}_getAllocatedExperimentName(){return this.allocatedExperimentName}}},742:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEndpoint=void 0;const s=i(187);t.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";t.default=class{constructor(e){this.seen=new Set,this.sdkKey=e}setStatsigMetadata(e){this.statsigMetadata=e}swallow(e,t){this.capture(e,t,(()=>{}))}capture(e,t,i,s){try{const r=t();return r instanceof Promise?r.catch((t=>this.onCaught(e,t,i,s))):r}catch(t){return this.onCaught(e,t,i,s)}}onCaught(e,t,i,r){if(t instanceof s.StatsigUninitializedError||t instanceof s.StatsigInvalidArgumentError)throw t;return this.logError(e,t,r),i()}async logError(e,i,s){var r;try{const a="function"==typeof s?await s():null,n=null!=i?i:Error("[Statsig] Error was empty"),o=n instanceof Error,l=o?n.name:"No Name";if(this.seen.has(l))return;this.seen.add(l);const u=o?n.stack:this.getDescription(n),d=null!==(r=this.statsigMetadata)&&void 0!==r?r:{},h=JSON.stringify({tag:e,exception:l,info:u,statsigMetadata:d,extra:null!=a?a:{}});fetch(t.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this.sdkKey,"STATSIG-SDK-TYPE":String(d.sdkType),"STATSIG-SDK-VERSION":String(d.sdkVersion),"Content-Type":"application/json","Content-Length":`${h.length}`},body:h})}catch(e){}}getDescription(e){try{return JSON.stringify(e)}catch{return"[Statsig] Failed to get string for error."}}}},187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigInvalidArgumentError=t.StatsigUninitializedError=void 0;class i extends Error{constructor(e){super(null!=e?e:"Call and wait for initialize() to finish first.")}}t.StatsigUninitializedError=i;class s extends Error{}t.StatsigInvalidArgumentError=s},857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,s,r=null,a=[],n=[],o="",l=[]){this.sdkInternal=r,this.name=e,this.value=JSON.parse(JSON.stringify(null!=t?t:{})),this.ruleID=null!=i?i:"",this.evaluationDetails=s,this.secondaryExposures=a,this.undelegatedSecondaryExposures=n,this.allocatedExperimentName=o,this.explicitParameters=l}static _create(e,t,s,r,a=null,n=[],o=[],l="",u=[]){return new i(e,t,s,r,a,n,o,l,u)}get(e,t,i){const s=this.value[e];if(null==s)return t;const r=()=>(this.logLayerParameterExposure(e),s);return i?i(s)?r():t:null==t||typeof s==typeof t&&Array.isArray(t)===Array.isArray(s)?r():t}getValue(e,t){null==t&&(t=null);const i=this.value[e];return null!=i&&this.logLayerParameterExposure(e),null!=i?i:t}getRuleID(){return this.ruleID}getName(){return this.name}getEvaluationDetails(){return this.evaluationDetails}_getSecondaryExposures(){return this.secondaryExposures}_getAllocatedExperimentName(){return this.allocatedExperimentName}logLayerParameterExposure(e){var t;let i="",s=this.undelegatedSecondaryExposures;const r=this.explicitParameters.includes(e);r&&(i=this.allocatedExperimentName,s=this.secondaryExposures),null===(t=this.sdkInternal)||void 0===t||t.getLogger().logLayerExposure(this.sdkInternal.getCurrentUser(),this.name,this.ruleID,s,i,e,r,this.evaluationDetails)}}t.default=i},820:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.user=null,this.value=null,this.metadata=null,this.eventName=e,this.statsigMetadata={},this.time=Date.now()}getName(){return this.eventName}setValue(e){this.value=e}setMetadata(e){this.metadata=e}addStatsigMetadata(e,t){this.statsigMetadata[e]=t}setUser(e){this.user={...e},delete this.user.privateAttributes}setSecondaryExposures(e=[]){this.secondaryExposures=e}toJsonObject(){var e;return{eventName:this.eventName,user:this.user,value:this.value,metadata:this.metadata,time:this.time,statsigMetadata:this.statsigMetadata,secondaryExposures:null!==(e=this.secondaryExposures)&&void 0!==e?e:void 0}}}},793:function(e,t,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&s(t,e,i);return r(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i(825)),l=n(i(742)),u=i(187),d=n(i(857)),h=n(i(820)),c=n(i(578)),g=n(i(332)),f=n(i(69)),v=n(i(574)),p=a(i(567)),_=i(898),y=n(i(31)),S=n(i(682)),E=64,m=2048;class A{constructor(e,t,i){if(this.appState=null,this.currentAppState=null,this.initCalled=!1,this.pendingInitPromise=null,this.optionalLoggingSetup=!1,this.prefetchedUsersByCacheKey={},"string"!=typeof e||!e.startsWith("client-"))throw new u.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");this.errorBoundary=new l.default(e),this.ready=!1,this.sdkKey=e,this.options=new v.default(i),S.default.disabled=this.options.getDisableLocalStorage(),this.identity=new c.default(this.normalizeUser(null!=t?t:null),this.options.getOverrideStableID(),A.reactNativeUUID),this.network=new f.default(this),this.store=new p.default(this),this.logger=new g.default(this),null!=(null==i?void 0:i.initializeValues)&&this.setInitializeValues(null==i?void 0:i.initializeValues),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata())}getErrorBoundary(){return this.errorBoundary}getNetwork(){return this.network}getStore(){return this.store}getLogger(){return this.logger}getOptions(){return this.options}getSDKKey(){return null==this.sdkKey?"":this.sdkKey}getCurrentUser(){return this.identity.getUser()}getCurrentUserCacheKey(){return(0,_.getUserCacheKey)(this.getStableID(),this.getCurrentUser())}getStatsigMetadata(){return this.identity.getStatsigMetadata()}getSDKType(){return this.identity.getSDKType()}getSDKVersion(){return this.identity.getSDKVersion()}setInitializeValues(e){this.errorBoundary.capture("setInitializeValues",(()=>{this.store.bootstrap(e),this.ready||(this.ready=!0,this.initCalled=!0),this.handleOptionalLogging(),this.logger.sendSavedRequests()}),(()=>{this.ready=!0,this.initCalled=!0}))}async initializeAsync(){return this.errorBoundary.capture("initializeAsync",(async()=>{const e=Date.now();if(null!=this.pendingInitPromise)return this.pendingInitPromise;if(this.ready)return Promise.resolve();if(this.initCalled=!0,y.default.asyncStorage&&(await this.identity.initAsync(),await this.store.loadFromAsyncStorage()),this.appState&&this.appState.addEventListener&&"function"==typeof this.appState.addEventListener&&(this.currentAppState=this.appState.currentState,this.appState.addEventListener("change",this.handleAppStateChange.bind(this))),this.options.getLocalModeEnabled())return Promise.resolve();return this.pendingInitPromise=this.fetchAndSaveValues(this.identity.getUser(),this.options.getPrefetchUsers(),((t,i)=>{const s=this.options.getInitCompletionCallback();s&&s(Date.now()-e,t,i)})).finally((async()=>{this.pendingInitPromise=null,this.ready=!0,this.logger.sendSavedRequests()})),this.handleOptionalLogging(),this.pendingInitPromise}),(()=>(this.ready=!0,this.initCalled=!0,Promise.resolve())))}async prefetchUsers(e){if(e&&0!=e.length)return this.fetchAndSaveValues(null,e)}getEvaluationDetails(){return this.store.getGlobalEvaluationDetails()}checkGate(e,t=!1){return this.errorBoundary.capture("checkGate",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new u.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this.store.checkGate(e,t)}),(()=>!1))}getConfig(e,t=!1){return this.errorBoundary.capture("getConfig",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new u.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this.store.getConfig(e,t)}),(()=>new o.default(e,{},"",this.getEvalutionDetailsForError())))}getExperiment(e,t=!1,i=!1){return this.errorBoundary.capture("getExperiment",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new u.StatsigInvalidArgumentError("Must pass a valid string as the experimentName.");return this.store.getExperiment(e,t,i)}),(()=>new o.default(e,{},"",this.getEvalutionDetailsForError())))}getLayer(e,t=!1){return this.errorBoundary.capture("getLayer",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof e||0===e.length)throw new u.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this.store.getLayer(e,t)}),(()=>d.default._create(e,{},"",this.getEvalutionDetailsForError())))}logEvent(e,t=null,i=null){this.errorBoundary.swallow("logEvent",(()=>{if(!this.logger||!this.sdkKey)throw new u.StatsigUninitializedError("Must initialize() before logging events.");if("string"!=typeof e||0===e.length)return;this.shouldTrimParam(e,E)&&(e=e.substring(0,E)),"string"==typeof t&&this.shouldTrimParam(t,E)&&(t=t.substring(0,E)),this.shouldTrimParam(i,m)&&(i={error:"not logged due to size too large"});const s=new h.default(e);s.setValue(t),s.setMetadata(i),s.setUser(this.getCurrentUser()),this.logger.log(s)}))}async updateUser(e){return this.errorBoundary.capture("updateUser",(async()=>{if(!this.initializeCalled())throw new u.StatsigUninitializedError("Call initialize() first.");this.identity.updateUser(this.normalizeUser(e));const t=Boolean(this.prefetchedUsersByCacheKey[this.getCurrentUserCacheKey()]),i=this.store.updateUser(t);if(this.logger.resetDedupeKeys(),i&&t)return Promise.resolve(!0);if(null!=this.pendingInitPromise&&await this.pendingInitPromise,this.options.getLocalModeEnabled())return Promise.resolve(!0);const s=this.identity.getUser();return this.pendingInitPromise=this.fetchAndSaveValues(s).finally((()=>{this.pendingInitPromise=null})),this.pendingInitPromise.then((()=>Promise.resolve(!0))).catch((()=>Promise.resolve(!1)))}),(()=>Promise.resolve(!1)))}shutdown(){this.errorBoundary.swallow("shutdown",(()=>{this.logger.flush(!0),this.appState&&this.appState.removeEventListener&&"function"==typeof this.appState.removeEventListener&&this.appState.removeEventListener("change",this.handleAppStateChange.bind(this)),S.default.cleanup()}))}overrideGate(e,t){this.errorBoundary.swallow("overrideGate",(()=>{this.ensureStoreLoaded(),this.store.overrideGate(e,t)}))}overrideConfig(e,t){this.errorBoundary.swallow("overrideConfig",(()=>{this.ensureStoreLoaded(),this.store.overrideConfig(e,t)}))}removeGateOverride(e){this.errorBoundary.swallow("removeGateOverride",(()=>{this.ensureStoreLoaded(),this.store.removeGateOverride(e)}))}removeConfigOverride(e){this.errorBoundary.swallow("removeConfigOverride",(()=>{this.ensureStoreLoaded(),this.store.removeConfigOverride(e)}))}removeOverride(e){this.errorBoundary.swallow("removeOverride",(()=>{this.ensureStoreLoaded(),this.store.removeGateOverride(e)}))}getOverrides(){return this.errorBoundary.capture("getOverrides",(()=>(this.ensureStoreLoaded(),this.store.getAllOverrides().gates)),(()=>({})))}getAllOverrides(){return this.errorBoundary.capture("getAllOverrides",(()=>(this.ensureStoreLoaded(),this.store.getAllOverrides())),(()=>({gates:{},configs:{}})))}getStableID(){return this.errorBoundary.capture("getStableID",(()=>this.identity.getStatsigMetadata().stableID),(()=>""))}initializeCalled(){return this.initCalled}setSDKPackageInfo(e){null!=e&&(this.identity.setSDKPackageInfo(e),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()))}static setAsyncStorage(e){null!=e&&(y.default.asyncStorage=e)}static setReactNativeUUID(e){null!=e&&(A.reactNativeUUID=e)}setAppState(e){null!=e&&(this.appState=e)}setNativeModules(e){null!=e&&this.identity.setNativeModules(e)}setPlatform(e){null!=e&&this.identity.setPlatform(e)}setRNDeviceInfo(e){null!=e&&this.identity.setRNDeviceInfo(e)}setExpoConstants(e){null!=e&&this.identity.setExpoConstants(e)}setExpoDevice(e){null!=e&&this.identity.setExpoDevice(e)}handleOptionalLogging(){if("undefined"==typeof window||!window||!window.addEventListener)return;if(this.optionalLoggingSetup)return;const e=this.identity.getUser();if(this.options.getDisableErrorLogging()||window.addEventListener("error",(t=>{var i;let s=t.error;if(null!=s&&"object"==typeof s)try{s=JSON.stringify(s)}catch(t){}this.logger.logAppError(e,null!==(i=t.message)&&void 0!==i?i:"",{filename:t.filename,lineno:t.lineno,colno:t.colno,error_obj:s})})),!this.options.getDisableAutoMetricsLogging()){if("undefined"==typeof document||!document||"undefined"==typeof setTimeout||!setTimeout)return;const t=()=>{setTimeout((()=>{this.logger.logAppMetrics(e)}),1e3)};"complete"===document.readyState?t():window.addEventListener("load",(()=>t()))}this.optionalLoggingSetup=!0}handleAppStateChange(e){var t;"active"===this.currentAppState&&e.match(/inactive|background/)?this.logger.flush(!0):(null===(t=this.currentAppState)||void 0===t?void 0:t.match(/inactive|background/))&&"active"===e&&this.logger.sendSavedRequests(),this.currentAppState=e}shouldTrimParam(e,t){return null!=e&&("string"==typeof e?e.length>t:"object"==typeof e?JSON.stringify(e).length>t:"number"==typeof e&&e.toString().length>t)}normalizeUser(e){let t=JSON.parse(JSON.stringify(e));return t=this.trimUserObjIfNeeded(t),null!=this.options.getEnvironment()&&(t.statsigEnvironment=this.options.getEnvironment()),t}trimUserObjIfNeeded(e){var t,i;return null==e?{}:(this.shouldTrimParam(null!==(t=e.userID)&&void 0!==t?t:null,E)&&(e.userID=null===(i=e.userID)||void 0===i?void 0:i.toString().substring(0,E)),this.shouldTrimParam(e,m)&&(e.custom={},this.shouldTrimParam(e,m)&&(e={userID:e.userID})),e)}ensureStoreLoaded(){if(!this.store.isLoaded())throw new u.StatsigUninitializedError("Call and wait for initialize() to finish first.")}getEvalutionDetailsForError(){return{time:Date.now(),reason:p.EvaluationReason.Error}}async fetchAndSaveValues(e,t=[],i=null){t.length;const s=t.slice(0,5).reduce(((e,t)=>(e[(0,_.getUserCacheKey)(this.getStableID(),t)]=t,e)),{});return this.network.fetchValues(e,this.options.getInitTimeoutMs(),(async t=>this.errorBoundary.swallow("fetchAndSaveValues",(async()=>{await this.store.save((0,_.getUserCacheKey)(this.getStableID(),e),t),this.prefetchedUsersByCacheKey={...this.prefetchedUsersByCacheKey,...s}}))),(e=>{}),t.length>0?s:void 0).then((()=>{null==i||i(!0,null)})).catch((e=>{null==i||i(!1,e.message)}))}}t.default=A},578:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(614),a=i(652),n=s(i(31)),o=s(i(682));t.default=class{constructor(e,t,s){var r,l,u;this.platform=null,this.nativeModules=null,this.sdkType="js-client",this.reactNativeUUID=s,this.user=e,this.sdkVersion=null!==(l=null===(r=i(147))||void 0===r?void 0:r.version)&&void 0!==l?l:"",this.statsigMetadata={sessionID:this.getUUID(),sdkType:this.sdkType,sdkVersion:this.sdkVersion};let d=t;n.default.asyncStorage||(d=null!==(u=null!=d?d:o.default.getItem(a.STATSIG_STABLE_ID_KEY))&&void 0!==u?u:this.getUUID(),o.default.setItem(a.STATSIG_STABLE_ID_KEY,d)),d&&(this.statsigMetadata.stableID=d)}async initAsync(){let e=this.statsigMetadata.stableID;return e||(e=await n.default.getItemAsync(a.STATSIG_STABLE_ID_KEY),e=null!=e?e:this.getUUID()),n.default.setItemAsync(a.STATSIG_STABLE_ID_KEY,e),this.statsigMetadata.stableID=e,this}getSDKType(){return this.sdkType}getSDKVersion(){return this.sdkVersion}getStatsigMetadata(){return this.statsigMetadata.sdkType=this.sdkType,this.statsigMetadata.sdkVersion=this.sdkVersion,this.statsigMetadata}getUser(){return this.user}updateUser(e){this.user=e,this.statsigMetadata.sessionID=this.getUUID()}setSDKPackageInfo(e){this.sdkType=e.sdkType,this.sdkVersion=e.sdkVersion}setPlatform(e){this.platform=e,this.updateMetadataFromNativeModules()}setNativeModules(e){this.nativeModules=e,this.updateMetadataFromNativeModules()}updateMetadataFromNativeModules(){var e,t,i,s,r,a,n;null!=this.platform&&null!=this.nativeModules&&("android"===(null===(e=this.platform.OS)||void 0===e?void 0:e.toLocaleLowerCase())?this.statsigMetadata.locale=null===(t=this.nativeModules.I18nManager)||void 0===t?void 0:t.localeIdentifier:"ios"===(null===(i=this.platform.OS)||void 0===i?void 0:i.toLocaleLowerCase())&&(this.statsigMetadata.locale=(null===(r=null===(s=this.nativeModules.SettingsManager)||void 0===s?void 0:s.settings)||void 0===r?void 0:r.AppleLocale)||(null===(n=null===(a=this.nativeModules.SettingsManager)||void 0===a?void 0:a.settings)||void 0===n?void 0:n.AppleLanguages[0])))}getUUID(){var e,t;return null!==(t=null===(e=this.reactNativeUUID)||void 0===e?void 0:e.v4())&&void 0!==t?t:(0,r.v4)()}setRNDeviceInfo(e){var t,i,s,r,a;this.statsigMetadata.appVersion=null!==(t=e.getVersion())&&void 0!==t?t:"",this.statsigMetadata.systemVersion=null!==(i=e.getSystemVersion())&&void 0!==i?i:"",this.statsigMetadata.systemName=null!==(s=e.getSystemName())&&void 0!==s?s:"",this.statsigMetadata.deviceModelName=null!==(r=e.getModel())&&void 0!==r?r:"",this.statsigMetadata.deviceModel=null!==(a=e.getDeviceId())&&void 0!==a?a:""}setExpoConstants(e){var t,i;this.statsigMetadata.appVersion=null!==(i=null!==(t=e.nativeAppVersion)&&void 0!==t?t:e.nativeBuildVersion)&&void 0!==i?i:""}setExpoDevice(e){var t,i,s,r;this.statsigMetadata.systemVersion=null!==(t=e.osVersion)&&void 0!==t?t:"",this.statsigMetadata.systemName=null!==(i=e.osName)&&void 0!==i?i:"",this.statsigMetadata.deviceModelName=null!==(s=e.modelName)&&void 0!==s?s:"",this.statsigMetadata.deviceModel=null!==(r=e.modelId)&&void 0!==r?r:""}}},332:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(i(820)),a=i(69),n=i(652),o=s(i(31)),l=s(i(682)),u="statsig::log_event_failed",d=1024e3;new Set;t.default=class{constructor(e){this.failedLogEventCount=0,this.sdkInternal=e,this.queue=[],this.flushInterval=null,this.loggedErrors=new Set,this.failedLogEvents=[],this.exposureDedupeKeys={},this.failedLogEventCount=0,this.init()}init(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",(()=>this.flush(!0))),window.addEventListener("beforeunload",(()=>this.flush(!0)))),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&this.flush(!0)})),"undefined"==typeof window||null==window)return;const e=this;this.flushInterval=setInterval((()=>{e.flush()}),this.sdkInternal.getOptions().getLoggingIntervalMillis())}log(e){try{if(!this.sdkInternal.getOptions().getDisableCurrentPageLogging()&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){const t=window.location.href.split(/[?#]/);(null==t?void 0:t.length)>0&&e.addStatsigMetadata("currentPage",t[0])}}catch(e){}this.queue.push(e.toJsonObject()),this.queue.length>=this.sdkInternal.getOptions().getLoggingBufferMaxSize()&&this.flush()}resetDedupeKeys(){this.exposureDedupeKeys={}}shouldLogExposure(e){const t=this.exposureDedupeKeys[e],i=Date.now();return!(null!=t&&t>=i-6e5||(this.exposureDedupeKeys[e]=i,0))}logGateExposure(e,t,i,s,a,n){const o=t+String(i)+s+n.reason;if(!this.shouldLogExposure(o))return;const l=new r.default("statsig::gate_exposure");l.setUser(e),l.setMetadata({gate:t,gateValue:String(i),ruleID:s,reason:n.reason,time:n.time}),l.setSecondaryExposures(a),this.log(l)}logConfigExposure(e,t,i,s,a){const n=t+i+a.reason;if(!this.shouldLogExposure(n))return;const o=new r.default("statsig::config_exposure");o.setUser(e),o.setMetadata({config:t,ruleID:i,reason:a.reason,time:a.time}),o.setSecondaryExposures(s),this.log(o)}logLayerExposure(e,t,i,s,a,n,o,l){const u=[t,i,a,n,String(o),l.reason].join("|");if(!this.shouldLogExposure(u))return;const d=new r.default("statsig::layer_exposure");d.setUser(e),d.setMetadata({config:t,ruleID:i,allocatedExperiment:a,parameterName:n,isExplicitParameter:String(o),reason:l.reason,time:l.time}),d.setSecondaryExposures(s),this.log(d)}logAppError(e,t,i){const s=t.substring(0,128);if(this.loggedErrors.has(s)||this.loggedErrors.size>10)return;const a=new r.default("statsig::app_error");a.setUser(e),a.setValue(s),a.setMetadata(i),this.log(a),this.loggedErrors.add(s)}logAppMetrics(e){var t;if("function"!=typeof(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.getEntriesByType))return;const i=window.performance.getEntriesByType("navigation");if(!i||i.length<1)return;const s=i[0],a={statsig_dimensions:{url:s.name}},n=new r.default("statsig::app_metrics::page_load_time");n.setUser(e),n.setValue(s.duration),n.setMetadata(a),this.log(n);const o=new r.default("statsig::app_metrics::dom_interactive_time");o.setUser(e),o.setValue(s.domInteractive-s.startTime),o.setMetadata(a),this.log(o)}flush(e=!1){if(0===this.queue.length)return;e&&null!=this.flushInterval&&clearInterval(this.flushInterval);const t=this.queue;if(this.queue=[],e&&!this.sdkInternal.getNetwork().supportsKeepalive()&&"undefined"!=typeof navigator&&null!=navigator&&navigator.sendBeacon){return void(this.sdkInternal.getNetwork().sendLogBeacon({events:t,statsigMetadata:this.sdkInternal.getStatsigMetadata()})||(this.queue=t.concat(this.queue),this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),this.saveFailedRequests()))}const i=this;this.sdkInternal.getNetwork().postToEndpoint(a.StatsigEndpoint.Rgstr,{events:t,statsigMetadata:this.sdkInternal.getStatsigMetadata()},3,1e3,e).then((e=>{if(!e.ok)throw e})).catch((e=>{if("function"==typeof e.text)e.text().then((s=>{const a=new r.default(u);a.setMetadata({error:`${e.status}: ${s}`}),a.setUser(i.sdkInternal.getCurrentUser()),i.appendFailureLog(a,t)}));else{const s=new r.default(u);s.setMetadata({error:e.message}),s.setUser(i.sdkInternal.getCurrentUser()),i.appendFailureLog(s,t)}})).finally((async()=>{e&&(this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),await i.saveFailedRequests())}))}async saveFailedRequests(){if(this.failedLogEvents.length>0){const e=JSON.stringify(this.failedLogEvents);if(e.length>d)return void this.clearLocalStorageRequests();if(o.default.asyncStorage)return void await o.default.setItemAsync(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e);l.default.setItem(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,e)}}async sendSavedRequests(){let e,t=!1;if(e=o.default.asyncStorage?await o.default.getItemAsync(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY):l.default.getItem(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY),null==e)return void this.clearLocalStorageRequests();e.length>d&&(t=!0);let i=[];try{i=JSON.parse(e);for(const e of i)null!=e&&e.events&&Array.isArray(e.events)&&this.sdkInternal.getNetwork().postToEndpoint(a.StatsigEndpoint.Rgstr,e).then((e=>{if(!e.ok)throw Error(e.status+"")})).catch((i=>{t||this.addFailedRequest(e)}))}catch(e){}finally{this.clearLocalStorageRequests()}}addFailedRequest(e){if(e.time<Date.now()-432e6)return;if(this.failedLogEvents.length>100)return;const t=e.events.length;this.failedLogEventCount+t>1e3||(this.failedLogEvents.push(e),this.failedLogEventCount+=t)}clearLocalStorageRequests(){o.default.asyncStorage?o.default.removeItemAsync(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY):l.default.removeItem(n.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)}appendFailureLog(e,t){this.loggedErrors.has(e.getName())||(this.loggedErrors.add(e.getName()),t.push(e),this.failedLogEvents.push({events:t,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.saveFailedRequests())}}},69:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEndpoint=void 0;const r=s(i(607));var a;!function(e){e.Initialize="initialize",e.Rgstr="rgstr",e.LogEventBeacon="log_event_beacon"}(a=t.StatsigEndpoint||(t.StatsigEndpoint={}));t.default=class{constructor(e){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this.sdkInternal=e,this.leakyBucket={},this.init()}init(){if(!this.sdkInternal.getOptions().getDisableNetworkKeepalive())try{this.canUseKeepalive="keepalive"in new Request("")}catch(e){}}fetchValues(e,t,i,s,r){return this.postWithTimeout(a.Initialize,{user:e,prefetchUsers:r,statsigMetadata:this.sdkInternal.getStatsigMetadata()},i,s,t,3)}postWithTimeout(e,t,i,s,r=0,a=0,n=1e3){const o=this.postToEndpoint(e,t,a,n).then((t=>{if(t.ok&&"object"==typeof t.data){const e=t.data;return this.sdkInternal.getErrorBoundary().capture("postWithTimeout",(async()=>(i(e),Promise.resolve(e))),(()=>Promise.resolve({})),(async()=>this.getErrorData(t)))}return Promise.reject(new Error("Request to "+e+" failed with status "+t.status))})).then((()=>{})).catch((e=>("function"==typeof s&&s(e),Promise.reject(e))));if(0!=r){const e=new Promise(((e,t)=>{setTimeout((()=>{t(new Error(`The initialization timeout of ${r}ms has been hit before the network request has completed.`))}),r)}));return Promise.race([o,e])}return o}sendLogBeacon(e){if(this.sdkInternal.getOptions().getLocalModeEnabled())return!0;const t=new URL(this.sdkInternal.getOptions().getEventLoggingApi()+a.LogEventBeacon);t.searchParams.append("k",this.sdkInternal.getSDKKey()),e.clientTime=Date.now()+"";let i=null;try{i=JSON.stringify(e)}catch(e){return!1}return navigator.sendBeacon(t.toString(),i)}async postToEndpoint(e,t,i=0,s=1e3,n=!1){if(this.sdkInternal.getOptions().getLocalModeEnabled())return Promise.reject("no network requests in localMode");if("function"!=typeof fetch)return Promise.reject("fetch is not defined");if("undefined"==typeof window)return Promise.reject("window is not defined");const o=(e==a.Initialize?this.sdkInternal.getOptions().getApi():this.sdkInternal.getOptions().getEventLoggingApi())+e,l=this.leakyBucket[o];if(null!=l&&l>=30)return Promise.reject(new Error("Request failed because you are making the same request too frequently."));this.leakyBucket[o]=null==l?1:l+1;let u=e===a.Initialize&&r.default.encodeIntializeCall&&"function"==typeof(null===window||void 0===window?void 0:window.btoa),d=JSON.stringify(t);if(u)try{d=window.btoa(d).split("").reverse().join("")}catch(e){u=!1}const h={method:"POST",body:d,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this.sdkInternal.getSDKKey(),"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":this.sdkInternal.getSDKType(),"STATSIG-SDK-VERSION":this.sdkInternal.getSDKVersion(),"STATSIG-ENCODED":u?"1":"0"}};return this.canUseKeepalive&&n&&(h.keepalive=!0),fetch(o,h).then((async e=>{if(e.ok){const t=await e.text(),i=e;return i.data=JSON.parse(t),i}this.retryCodes[e.status]||(i=0);const t=await e.text();return Promise.reject(new Error(`${e.status}: ${t}`))})).catch((r=>i>0?new Promise(((r,a)=>{setTimeout((()=>{this.leakyBucket[o]=Math.max(this.leakyBucket[o]-1,0),this.postToEndpoint(e,t,i-1,2*s,n).then(r).catch(a)}),s)})):Promise.reject(r))).finally((()=>{this.leakyBucket[o]=Math.max(this.leakyBucket[o]-1,0)}))}supportsKeepalive(){return this.canUseKeepalive}async getErrorData(e){var t;try{const i={};return(null!==(t=e.headers)&&void 0!==t?t:[]).forEach(((e,t)=>{i[t]=e})),{headers:i,status:e.status,statusText:e.statusText,type:e.type,url:e.url,redirected:e.redirected,text:e.data?JSON.stringify(e.data).slice(-100):null}}catch(e){return{statusText:"statsig::failed to extract extra data"}}}}},574:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){var t,i,s,r,a,n,o,l,u,d,h,c,g,f;null==e&&(e={});let v=null!==(t=e.api)&&void 0!==t?t:"https://featuregates.org/v1/";this.api=v.endsWith("/")?v:v+"/",this.disableCurrentPageLogging=null!==(i=e.disableCurrentPageLogging)&&void 0!==i&&i,this.environment=null!==(s=e.environment)&&void 0!==s?s:null,this.loggingIntervalMillis=this.normalizeNumberInput(e.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(e.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(r=e.disableNetworkKeepalive)&&void 0!==r&&r,this.overrideStableID=null!==(a=e.overrideStableID)&&void 0!==a?a:null,this.localMode=null!==(n=e.localMode)&&void 0!==n&&n,this.initTimeoutMs=e.initTimeoutMs&&e.initTimeoutMs>=0?e.initTimeoutMs:3e3,this.disableErrorLogging=null!==(o=e.disableErrorLogging)&&void 0!==o&&o,this.disableAutoMetricsLogging=null!==(l=e.disableAutoMetricsLogging)&&void 0!==l&&l,this.initializeValues=null!==(u=e.initializeValues)&&void 0!==u?u:null;let p=null!==(h=null!==(d=e.eventLoggingApi)&&void 0!==d?d:e.api)&&void 0!==h?h:"https://events.statsigapi.net/v1/";this.eventLoggingApi=p.endsWith("/")?p:p+"/",this.prefetchUsers=null!==(c=e.prefetchUsers)&&void 0!==c?c:[],this.disableLocalStorage=null!==(g=e.disableLocalStorage)&&void 0!==g&&g,this.initCompletionCallback=null!==(f=e.initCompletionCallback)&&void 0!==f?f:null}getApi(){return this.api}getEnvironment(){return this.environment}getDisableCurrentPageLogging(){return this.disableCurrentPageLogging}getLoggingIntervalMillis(){return this.loggingIntervalMillis}getLoggingBufferMaxSize(){return this.loggingBufferMaxSize}getDisableNetworkKeepalive(){return this.disableNetworkKeepalive}getOverrideStableID(){return this.overrideStableID}getLocalModeEnabled(){return this.localMode}getInitTimeoutMs(){return this.initTimeoutMs}getDisableErrorLogging(){return this.disableErrorLogging}getDisableAutoMetricsLogging(){return this.disableAutoMetricsLogging}getEventLoggingApi(){return this.eventLoggingApi}getPrefetchUsers(){return this.prefetchUsers}getDisableLocalStorage(){return this.disableLocalStorage}getInitCompletionCallback(){return this.initCompletionCallback}normalizeNumberInput(e,t){return null==e?t.default:Math.max(Math.min(e,t.max),t.min)}}},567:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationReason=void 0;const r=s(i(825)),a=s(i(857)),n=i(652),o=i(898),l=s(i(31)),u=s(i(682));var d;!function(e){e.Network="Network",e.Bootstrap="Bootstrap",e.Cache="Cache",e.Prefetch="Prefetch",e.Sticky="Sticky",e.LocalOverride="LocalOverride",e.Unrecognized="Unrecognized",e.Uninitialized="Uninitialized",e.Error="Error"}(d=t.EvaluationReason||(t.EvaluationReason={}));t.default=class{constructor(e){this.overrides={gates:{},configs:{}},this.sdkInternal=e,this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.values={},this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0},this.stickyDeviceExperiments={},this.loaded=!1,this.reason=d.Uninitialized,this.loadFromLocalStorage()}updateUser(e){return this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.setUserValueFromCache(e)}async loadFromAsyncStorage(){this.parseCachedValues(await l.default.getItemAsync(n.INTERNAL_STORE_KEY),await l.default.getItemAsync(n.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0}bootstrap(e){var t,i,s;const r=this.sdkInternal.getCurrentUserCacheKey();this.loaded=!0;try{this.userValues.feature_gates=null!==(t=e.feature_gates)&&void 0!==t?t:{},this.userValues.dynamic_configs=null!==(i=e.dynamic_configs)&&void 0!==i?i:{},this.userValues.layer_configs=null!==(s=e.layer_configs)&&void 0!==s?s:{},this.userValues.evaluation_time=Date.now(),this.userValues.time=Date.now(),this.values[r]=this.userValues,this.reason=d.Bootstrap,this.loadOverrides()}catch(e){return}}loadFromLocalStorage(){l.default.asyncStorage||(this.parseCachedValues(u.default.getItem(n.INTERNAL_STORE_KEY),u.default.getItem(n.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0)}isLoaded(){return this.loaded}parseCachedValues(e,t){try{this.values=e?JSON.parse(e):this.values,this.setUserValueFromCache()}catch(e){this.removeFromStorage(n.INTERNAL_STORE_KEY)}try{const e=t?JSON.parse(t):null;e&&(this.stickyDeviceExperiments=e)}catch(e){this.removeFromStorage(n.STICKY_DEVICE_EXPERIMENTS_KEY)}this.loadOverrides()}setUserValueFromCache(e=!1){let t=this.values[this.userCacheKey];return null==t?(this.resetUserValues(),this.reason=d.Uninitialized,!1):(this.userValues=t,this.reason=e?d.Prefetch:d.Cache,!0)}removeFromStorage(e){l.default.removeItemAsync(e),u.default.removeItem(e)}loadOverrides(){const e=u.default.getItem(n.OVERRIDES_STORE_KEY);if(null!=e)try{this.overrides=JSON.parse(e)}catch(e){u.default.removeItem(n.OVERRIDES_STORE_KEY)}}async save(e,t){const i=t;if(i.prefetched_user_values){const e=Object.keys(i.prefetched_user_values);for(const t of e){const e=i.prefetched_user_values[t];this.values[t]=this.convertAPIDataToCacheValues(e,t)}}if(e){const t=this.convertAPIDataToCacheValues(i,e);this.values[e]=t,e==this.userCacheKey&&(this.userValues=t,this.reason=d.Network)}const s=Object.entries(this.values).sort((({1:e},{1:t})=>null==e?1:null==t?-1:(null==t?void 0:t.time)-(null==e?void 0:e.time))).slice(0,10);this.values=Object.fromEntries(s),l.default.asyncStorage?await l.default.setItemAsync(n.INTERNAL_STORE_KEY,JSON.stringify(this.values)):u.default.setItem(n.INTERNAL_STORE_KEY,JSON.stringify(this.values))}checkGate(e,t=!1){var i;const s=(0,o.getHashValue)(e);let r,a={value:!1,rule_id:"",secondary_exposures:[]};if(t||null==this.overrides.gates[e]){let e=null===(i=this.userValues)||void 0===i?void 0:i.feature_gates[s];e&&(a=e),r=this.getEvaluationDetails(null!=e)}else a={value:this.overrides.gates[e],rule_id:"override",secondary_exposures:[]},r=this.getEvaluationDetails(!1,d.LocalOverride);return this.sdkInternal.getLogger().logGateExposure(this.sdkInternal.getCurrentUser(),e,a.value,a.rule_id,a.secondary_exposures,r),!0===a.value}getConfig(e,t=!1){var i,s;const a=(0,o.getHashValue)(e);let n,l;if(t||null==this.overrides.configs[e])if(null!=(null===(i=this.userValues)||void 0===i?void 0:i.dynamic_configs[a])){const t=null===(s=this.userValues)||void 0===s?void 0:s.dynamic_configs[a];l=this.getEvaluationDetails(!0),n=this.createDynamicConfig(e,t,l)}else l=this.getEvaluationDetails(!1),n=new r.default(e,{},"",l);else l=this.getEvaluationDetails(!1,d.LocalOverride),n=new r.default(e,this.overrides.configs[e],"override",l);return this.sdkInternal.getLogger().logConfigExposure(this.sdkInternal.getCurrentUser(),e,n.getRuleID(),n._getSecondaryExposures(),l),n}getExperiment(e,t=!1,i=!1){let s,a;if(i||null==this.overrides.configs[e]){const i=this.getLatestValue(e,"dynamic_configs");a=this.getEvaluationDetails(null!=i);const r=this.getPossiblyStickyValue(e,i,t,!1,a);s=this.createDynamicConfig(e,r,a)}else a=this.getEvaluationDetails(!1,d.LocalOverride),s=new r.default(e,this.overrides.configs[e],"override",a);return this.sdkInternal.getLogger().logConfigExposure(this.sdkInternal.getCurrentUser(),e,s.getRuleID(),s._getSecondaryExposures(),a),s}getLayer(e,t){var i,s,r;const n=this.getLatestValue(e,"layer_configs"),o=this.getEvaluationDetails(null!=n),l=this.getPossiblyStickyValue(e,n,t,!0,o);return a.default._create(e,null!==(i=null==l?void 0:l.value)&&void 0!==i?i:{},null!==(s=null==l?void 0:l.rule_id)&&void 0!==s?s:"",o,this.sdkInternal,null==l?void 0:l.secondary_exposures,null==l?void 0:l.undelegated_secondary_exposures,null!==(r=null==l?void 0:l.allocated_experiment_name)&&void 0!==r?r:"",null==l?void 0:l.explicit_parameters)}overrideConfig(e,t){try{JSON.stringify(t)}catch(e){return}this.overrides.configs[e]=t,this.saveOverrides()}overrideGate(e,t){this.overrides.gates[e]=t,this.saveOverrides()}removeGateOverride(e){null==e?this.overrides.gates={}:delete this.overrides.gates[e],this.saveOverrides()}removeConfigOverride(e){null==e?this.overrides.configs={}:delete this.overrides.configs[e],this.saveOverrides()}getAllOverrides(){return this.overrides}saveOverrides(){try{u.default.setItem(n.OVERRIDES_STORE_KEY,JSON.stringify(this.overrides))}catch(e){}}getLatestValue(e,t){var i,s,r,a,n;const l=(0,o.getHashValue)(e);return null!==(r=null===(s=null===(i=this.userValues)||void 0===i?void 0:i[t])||void 0===s?void 0:s[l])&&void 0!==r?r:null===(n=null===(a=this.userValues)||void 0===a?void 0:a[t])||void 0===n?void 0:n[e]}getPossiblyStickyValue(e,t,i,s,r){var a;if(!i)return this.removeStickyValue(e),t;const n=this.getStickyValue(e);if(!n)return this.attemptToSaveStickyValue(e,t),t;let o=null;return o=s?this.getLatestValue(null!==(a=null==n?void 0:n.allocated_experiment_name)&&void 0!==a?a:"","dynamic_configs"):t,1==(null==o?void 0:o.is_experiment_active)?(r.reason=d.Sticky,n):(1==(null==t?void 0:t.is_experiment_active)?this.attemptToSaveStickyValue(e,t):this.removeStickyValue(e),t)}createDynamicConfig(e,t,i){var s,a,n;return new r.default(e,null!==(s=null==t?void 0:t.value)&&void 0!==s?s:{},null!==(a=null==t?void 0:t.rule_id)&&void 0!==a?a:"",i,null==t?void 0:t.secondary_exposures,null!==(n=null==t?void 0:t.allocated_experiment_name)&&void 0!==n?n:"")}getStickyValue(e){var t,i;const s=(0,o.getHashValue)(e);return null!==(i=null===(t=this.userValues)||void 0===t?void 0:t.sticky_experiments[s])&&void 0!==i?i:this.stickyDeviceExperiments[s]}attemptToSaveStickyValue(e,t){var i;if(!t||!t.is_user_in_experiment||!t.is_experiment_active)return;const s=(0,o.getHashValue)(e);!0===t.is_device_based?this.stickyDeviceExperiments[s]=t:(null===(i=this.userValues)||void 0===i?void 0:i.sticky_experiments)&&(this.userValues.sticky_experiments[s]=t),this.saveStickyValuesToStorage()}removeStickyValue(e){var t,i,s,r;if(0===Object.keys(null!==(i=null===(t=this.userValues)||void 0===t?void 0:t.sticky_experiments)&&void 0!==i?i:{}).length&&0===Object.keys(null!==(s=this.stickyDeviceExperiments)&&void 0!==s?s:{}).length)return;const a=(0,o.getHashValue)(e);null===(r=this.userValues)||void 0===r||delete r.sticky_experiments[a],delete this.stickyDeviceExperiments[a],this.saveStickyValuesToStorage()}saveStickyValuesToStorage(){this.values[this.userCacheKey]=this.userValues,this.setItemToStorage(n.INTERNAL_STORE_KEY,JSON.stringify(this.values)),this.setItemToStorage(n.STICKY_DEVICE_EXPERIMENTS_KEY,JSON.stringify(this.stickyDeviceExperiments))}getGlobalEvaluationDetails(){var e,t;return{reason:null!==(e=this.reason)&&void 0!==e?e:d.Uninitialized,time:null!==(t=this.userValues.evaluation_time)&&void 0!==t?t:0}}getEvaluationDetails(e,t){var i;return e?{reason:this.reason,time:null!==(i=this.userValues.evaluation_time)&&void 0!==i?i:Date.now()}:{reason:null!=t?t:this.reason==d.Uninitialized?d.Uninitialized:d.Unrecognized,time:Date.now()}}resetUserValues(){this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0}}convertAPIDataToCacheValues(e,t){var i,s;return{feature_gates:e.feature_gates,layer_configs:e.layer_configs,dynamic_configs:e.dynamic_configs,sticky_experiments:null!==(s=null===(i=this.values[t])||void 0===i?void 0:i.sticky_experiments)&&void 0!==s?s:{},time:Date.now(),evaluation_time:Date.now()}}setItemToStorage(e,t){l.default.asyncStorage?l.default.setItemAsync(e,t):u.default.setItem(e,t)}}},607:function(e,t,i){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigAsyncStorage=t.EvaluationReason=t.StatsigClient=t.Layer=t.DynamicConfig=void 0;const r=i(187),a=s(i(793)),n=i(567),o=s(i(623)),l=s(i(821)),u=s(i(605));var d=i(825);Object.defineProperty(t,"DynamicConfig",{enumerable:!0,get:function(){return s(d).default}});var h=i(857);Object.defineProperty(t,"Layer",{enumerable:!0,get:function(){return s(h).default}});var c=i(793);Object.defineProperty(t,"StatsigClient",{enumerable:!0,get:function(){return s(c).default}});var g=i(567);Object.defineProperty(t,"EvaluationReason",{enumerable:!0,get:function(){return g.EvaluationReason}});var f=i(31);Object.defineProperty(t,"StatsigAsyncStorage",{enumerable:!0,get:function(){return s(f).default}}),(0,o.default)(),(0,l.default)(),(0,u.default)();class v{constructor(){}static async initialize(e,t,i){var s;const r=null!==(s=v.instance)&&void 0!==s?s:new a.default(e,t,i);return v.instance||(v.instance=r),r.initializeAsync()}static async prefetchUsers(e){return await v.getClientX().prefetchUsers(e)}static setInitializeValues(e){v.getClientX().setInitializeValues(e)}static checkGate(e,t=!1){return v.getClientX().checkGate(e,t)}static getConfig(e,t=!1){return v.getClientX().getConfig(e,t)}static getExperiment(e,t=!1,i=!1){return v.getClientX().getExperiment(e,t,i)}static getLayer(e,t=!1){return v.getClientX().getLayer(e,t)}static logEvent(e,t=null,i=null){return v.getClientX().logEvent(e,t,i)}static updateUser(e){return v.getClientX().updateUser(e)}static shutdown(){v.getClientX().shutdown(),v.instance=null}static overrideGate(e,t){v.getClientX().overrideGate(e,t)}static overrideConfig(e,t){v.getClientX().overrideConfig(e,t)}static removeOverride(e){v.getClientX().removeOverride(e)}static removeGateOverride(e){v.getClientX().removeGateOverride(e)}static removeConfigOverride(e){v.getClientX().removeConfigOverride(e)}static getOverrides(){return v.getClientX().getOverrides()}static getAllOverrides(){return v.getClientX().getAllOverrides()}static getStableID(){return v.getClientX().getStableID()}static getEvaluationDetails(){var e,t;return null!==(t=null===(e=v.instance)||void 0===e?void 0:e.getEvaluationDetails())&&void 0!==t?t:{reason:n.EvaluationReason.Uninitialized,time:0}}static getClientX(){if(!v.instance)throw new r.StatsigUninitializedError;return v.instance}}t.default=v,v.encodeIntializeCall=!0,v.instance=null},344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0,t.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_encodeBinary:function(e){for(var t,i,s,r,a,n,o,l="",u=0;u<e.length;)r=(t=e.charCodeAt(u++))>>2,a=(3&t)<<4|(i=e.charCodeAt(u++))>>4,n=(15&i)<<2|(s=e.charCodeAt(u++))>>6,o=63&s,isNaN(i)?n=o=64:isNaN(s)&&(o=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(o);return l},encodeArrayBuffer(e){for(var i="",s=new Uint8Array(e),r=s.byteLength,a=0;a<r;a++)i+=String.fromCharCode(s[a]);return t.Base64._encodeBinary(i)}}},652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_PREFIX=t.LOCAL_STORAGE_KEYS=t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=t.STATSIG_STABLE_ID_KEY=t.INTERNAL_STORE_KEY=t.STICKY_DEVICE_EXPERIMENTS_KEY=t.OVERRIDES_STORE_KEY=void 0,t.OVERRIDES_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3",t.STICKY_DEVICE_EXPERIMENTS_KEY="STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS",t.INTERNAL_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4",t.STATSIG_STABLE_ID_KEY="STATSIG_LOCAL_STORAGE_STABLE_ID",t.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOCAL_STORAGE_LOGGING_REQUEST",t.LOCAL_STORAGE_KEYS={STATSIG_LOCAL_STORAGE_STABLE_ID:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4:!0,STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST:!0},t.STORAGE_PREFIX="STATSIG_LOCAL_STORAGE"},898:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserCacheKey=t.getHashValue=t.SimpleHash=void 0;const s=i(23),r=i(344);function a(e){for(var t=0,i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return String(t)}t.SimpleHash=a,t.getHashValue=function(e){let t=s.sha256.create().update(e).arrayBuffer();return r.Base64.encodeArrayBuffer(t)},t.getUserCacheKey=function(e,t){var i;let s=`userID:${String(null!==(i=null==t?void 0:t.userID)&&void 0!==i?i:"")};stableID:${e}`;const r=null==t?void 0:t.customIDs;if(null!=r)for(const[e,t]of Object.entries(r))s+=`;${e}:${t}`;return a(s)}},623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,s=new Array(i);i--;)s[i]=[t[i],e[t[i]]];return s})}},821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Object.fromEntries||(Object.fromEntries=function(e){const t={};for(const i of e){if(Object(i)!==i)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:s}=i;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:s})}return t})}},605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Promise.prototype.finally=Promise.prototype.finally||{finally(e){const t=t=>Promise.resolve(e()).then(t);return this.then((e=>t((()=>e))),(e=>t((()=>Promise.reject(e)))))}}.finally}},31:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{static getItemAsync(e){var t;return i.asyncStorage?null!==(t=i.asyncStorage.getItem(e))&&void 0!==t?t:null:Promise.resolve(null)}static setItemAsync(e,t){return i.asyncStorage?i.asyncStorage.setItem(e,t):Promise.resolve()}static removeItemAsync(e){return i.asyncStorage?i.asyncStorage.removeItem(e):Promise.resolve()}}t.default=i},682:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(652);class r{static getItem(e){var t;try{if(this.isStorageAccessible())return window.localStorage.getItem(e)}catch(e){}return null!==(t=this.fallbackSessionCache[e])&&void 0!==t?t:null}static setItem(e,t){try{if(this.isStorageAccessible())return void window.localStorage.setItem(e,t)}catch(e){}this.fallbackSessionCache[e]=t}static removeItem(e){try{if(this.isStorageAccessible())return void window.localStorage.removeItem(e)}catch(e){}delete this.fallbackSessionCache[e]}static cleanup(){try{if(this.isStorageAccessible(!0))for(var e in window.localStorage)"string"==typeof window.localStorage[e]&&null!=e&&(!this.disabled&&e in s.LOCAL_STORAGE_KEYS||(this.disabled||e.substring(0,s.STORAGE_PREFIX.length)===s.STORAGE_PREFIX)&&window.localStorage.removeItem(e))}catch(e){}}static isStorageAccessible(e=!1){const t="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage;return(e||!this.disabled)&&t}}t.default=r,r.disabled=!1,r.fallbackSessionCache={}},614:(e,t,i)=>{"use strict";var s;i.r(t),i.d(t,{NIL:()=>D,parse:()=>p,stringify:()=>d,v1:()=>v,v3:()=>C,v4:()=>O,v5:()=>L,validate:()=>o,version:()=>M});var r=new Uint8Array(16);function a(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(r)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const o=function(e){return"string"==typeof e&&n.test(e)};for(var l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!o(i))throw TypeError("Stringified UUID is invalid");return i};var h,c,g=0,f=0;const v=function(e,t,i){var s=t&&i||0,r=t||new Array(16),n=(e=e||{}).node||h,o=void 0!==e.clockseq?e.clockseq:c;if(null==n||null==o){var l=e.random||(e.rng||a)();null==n&&(n=h=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==o&&(o=c=16383&(l[6]<<8|l[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:f+1,p=u-g+(v-f)/1e4;if(p<0&&void 0===e.clockseq&&(o=o+1&16383),(p<0||u>g)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=u,f=v,c=o;var _=(1e4*(268435455&(u+=122192928e5))+v)%4294967296;r[s++]=_>>>24&255,r[s++]=_>>>16&255,r[s++]=_>>>8&255,r[s++]=255&_;var y=u/4294967296*1e4&268435455;r[s++]=y>>>8&255,r[s++]=255&y,r[s++]=y>>>24&15|16,r[s++]=y>>>16&255,r[s++]=o>>>8|128,r[s++]=255&o;for(var S=0;S<6;++S)r[s+S]=n[S];return t||d(r)};const p=function(e){if(!o(e))throw TypeError("Invalid UUID");var t,i=new Uint8Array(16);return i[0]=(t=parseInt(e.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i[4]=(t=parseInt(e.slice(9,13),16))>>>8,i[5]=255&t,i[6]=(t=parseInt(e.slice(14,18),16))>>>8,i[7]=255&t,i[8]=(t=parseInt(e.slice(19,23),16))>>>8,i[9]=255&t,i[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=255&t,i};function _(e,t,i){function s(e,s,r,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}(e)),"string"==typeof s&&(s=p(s)),16!==s.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var n=new Uint8Array(16+e.length);if(n.set(s),n.set(e,s.length),(n=i(n))[6]=15&n[6]|t,n[8]=63&n[8]|128,r){a=a||0;for(var o=0;o<16;++o)r[a+o]=n[o];return r}return d(n)}try{s.name=e}catch(e){}return s.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",s.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",s}function y(e){return 14+(e+64>>>9<<4)+1}function S(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function E(e,t,i,s,r,a){return S((n=S(S(t,e),S(s,a)))<<(o=r)|n>>>32-o,i);var n,o}function m(e,t,i,s,r,a,n){return E(t&i|~t&s,e,t,r,a,n)}function A(e,t,i,s,r,a,n){return E(t&s|i&~s,e,t,r,a,n)}function I(e,t,i,s,r,a,n){return E(t^i^s,e,t,r,a,n)}function w(e,t,i,s,r,a,n){return E(i^(t|~s),e,t,r,a,n)}const b=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){for(var t=[],i=32*e.length,s="0123456789abcdef",r=0;r<i;r+=8){var a=e[r>>5]>>>r%32&255,n=parseInt(s.charAt(a>>>4&15)+s.charAt(15&a),16);t.push(n)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[y(t)-1]=t;for(var i=1732584193,s=-271733879,r=-1732584194,a=271733878,n=0;n<e.length;n+=16){var o=i,l=s,u=r,d=a;i=m(i,s,r,a,e[n],7,-680876936),a=m(a,i,s,r,e[n+1],12,-389564586),r=m(r,a,i,s,e[n+2],17,606105819),s=m(s,r,a,i,e[n+3],22,-1044525330),i=m(i,s,r,a,e[n+4],7,-176418897),a=m(a,i,s,r,e[n+5],12,1200080426),r=m(r,a,i,s,e[n+6],17,-1473231341),s=m(s,r,a,i,e[n+7],22,-45705983),i=m(i,s,r,a,e[n+8],7,1770035416),a=m(a,i,s,r,e[n+9],12,-1958414417),r=m(r,a,i,s,e[n+10],17,-42063),s=m(s,r,a,i,e[n+11],22,-1990404162),i=m(i,s,r,a,e[n+12],7,1804603682),a=m(a,i,s,r,e[n+13],12,-40341101),r=m(r,a,i,s,e[n+14],17,-1502002290),i=A(i,s=m(s,r,a,i,e[n+15],22,1236535329),r,a,e[n+1],5,-165796510),a=A(a,i,s,r,e[n+6],9,-1069501632),r=A(r,a,i,s,e[n+11],14,643717713),s=A(s,r,a,i,e[n],20,-373897302),i=A(i,s,r,a,e[n+5],5,-701558691),a=A(a,i,s,r,e[n+10],9,38016083),r=A(r,a,i,s,e[n+15],14,-660478335),s=A(s,r,a,i,e[n+4],20,-405537848),i=A(i,s,r,a,e[n+9],5,568446438),a=A(a,i,s,r,e[n+14],9,-1019803690),r=A(r,a,i,s,e[n+3],14,-187363961),s=A(s,r,a,i,e[n+8],20,1163531501),i=A(i,s,r,a,e[n+13],5,-1444681467),a=A(a,i,s,r,e[n+2],9,-51403784),r=A(r,a,i,s,e[n+7],14,1735328473),i=I(i,s=A(s,r,a,i,e[n+12],20,-1926607734),r,a,e[n+5],4,-378558),a=I(a,i,s,r,e[n+8],11,-2022574463),r=I(r,a,i,s,e[n+11],16,1839030562),s=I(s,r,a,i,e[n+14],23,-35309556),i=I(i,s,r,a,e[n+1],4,-1530992060),a=I(a,i,s,r,e[n+4],11,1272893353),r=I(r,a,i,s,e[n+7],16,-155497632),s=I(s,r,a,i,e[n+10],23,-1094730640),i=I(i,s,r,a,e[n+13],4,681279174),a=I(a,i,s,r,e[n],11,-358537222),r=I(r,a,i,s,e[n+3],16,-722521979),s=I(s,r,a,i,e[n+6],23,76029189),i=I(i,s,r,a,e[n+9],4,-640364487),a=I(a,i,s,r,e[n+12],11,-421815835),r=I(r,a,i,s,e[n+15],16,530742520),i=w(i,s=I(s,r,a,i,e[n+2],23,-995338651),r,a,e[n],6,-198630844),a=w(a,i,s,r,e[n+7],10,1126891415),r=w(r,a,i,s,e[n+14],15,-1416354905),s=w(s,r,a,i,e[n+5],21,-57434055),i=w(i,s,r,a,e[n+12],6,1700485571),a=w(a,i,s,r,e[n+3],10,-1894986606),r=w(r,a,i,s,e[n+10],15,-1051523),s=w(s,r,a,i,e[n+1],21,-2054922799),i=w(i,s,r,a,e[n+8],6,1873313359),a=w(a,i,s,r,e[n+15],10,-30611744),r=w(r,a,i,s,e[n+6],15,-1560198380),s=w(s,r,a,i,e[n+13],21,1309151649),i=w(i,s,r,a,e[n+4],6,-145523070),a=w(a,i,s,r,e[n+11],10,-1120210379),r=w(r,a,i,s,e[n+2],15,718787259),s=w(s,r,a,i,e[n+9],21,-343485551),i=S(i,o),s=S(s,l),r=S(r,u),a=S(a,d)}return[i,s,r,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,i=new Uint32Array(y(t)),s=0;s<t;s+=8)i[s>>5]|=(255&e[s/8])<<s%32;return i}(e),8*e.length))};const C=_("v3",48,b);const O=function(e,t,i){var s=(e=e||{}).random||(e.rng||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){i=i||0;for(var r=0;r<16;++r)t[i+r]=s[r];return t}return d(s)};function T(e,t,i,s){switch(e){case 0:return t&i^~t&s;case 1:case 3:return t^i^s;case 2:return t&i^t&s^i&s}}function R(e,t){return e<<t|e>>>32-t}const k=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var s=unescape(encodeURIComponent(e));e=[];for(var r=0;r<s.length;++r)e.push(s.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,n=Math.ceil(a/16),o=new Array(n),l=0;l<n;++l){for(var u=new Uint32Array(16),d=0;d<16;++d)u[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];o[l]=u}o[n-1][14]=8*(e.length-1)/Math.pow(2,32),o[n-1][14]=Math.floor(o[n-1][14]),o[n-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<n;++h){for(var c=new Uint32Array(80),g=0;g<16;++g)c[g]=o[h][g];for(var f=16;f<80;++f)c[f]=R(c[f-3]^c[f-8]^c[f-14]^c[f-16],1);for(var v=i[0],p=i[1],_=i[2],y=i[3],S=i[4],E=0;E<80;++E){var m=Math.floor(E/20),A=R(v,5)+T(m,p,_,y)+S+t[m]+c[E]>>>0;S=y,y=_,_=R(p,30)>>>0,p=v,v=A}i[0]=i[0]+v>>>0,i[1]=i[1]+p>>>0,i[2]=i[2]+_>>>0,i[3]=i[3]+y>>>0,i[4]=i[4]+S>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};const L=_("v5",80,k),D="00000000-0000-0000-0000-000000000000";const M=function(e){if(!o(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},147:e=>{"use strict";e.exports=JSON.parse('{"name":"statsig-js","version":"4.22.1","description":"Statsig JavaScript client SDK for single user environments.","main":"dist/index.js","types":"dist/index.d.ts","scripts":{"prepare":"rm -rf build/ && rm -rf dist/ && tsc && webpack","postbuild":"rm -rf build/**/*.map","test":"jest","test:watch":"jest --watch","build:dryrun":"npx tsc src/**/*.ts --noEmit --resolveJsonModule true","types":"npx tsc"},"files":["build/statsig-prod-web-sdk.js","dist/*.js","dist/*.d.ts","dist/utils/*.js","dist/utils/*.d.ts"],"jsdelivr":"build/statsig-prod-web-sdk.js","repository":{"type":"git","url":"git+https://github.com/statsig-io/js-client-sdk.git"},"author":"Statsig, Inc.","license":"ISC","bugs":{"url":"https://github.com/statsig-io/js-client-sdk/issues"},"keywords":["feature gate","feature flag","continuous deployment","ci","ab test"],"homepage":"https://www.statsig.com","devDependencies":{"@babel/preset-env":"^7.14.9","@babel/preset-typescript":"^7.14.5","@types/jest":"^26.0.24","@types/uuid":"^8.3.1","core-js":"^3.16.4","jest":"^27.1.0","terser-webpack-plugin":"^5.1.4","ts-loader":"^9.2.3","typescript":"^4.2.2","webpack":"^5.48.0","webpack-cli":"^4.7.2"},"dependencies":{"js-sha256":"^0.9.0","uuid":"^8.3.2","whatwg-fetch":"^3.6.2"},"importSort":{".js, .jsx, .ts, .tsx":{"style":"module","parser":"typescript"}}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.amdO={},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(607);statsig=__webpack_exports__.default})();