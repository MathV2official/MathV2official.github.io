<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta http-equiv="Referrer-Policy" content="no-referrer" />
		<meta name="referrer" content="no-referrer" />
		<meta name="robots" content="noindex,nofollow" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1" />
		<base href="/" />
		<link rel="icon" type="image/x-icon" href="favicon.ico" />
		<link rel="stylesheet" type="text/css" href="lib/jsdos/js-dos.css" />
		<script type="text/javascript" src="lib/ruffle/ruffle.js"></script>
		<script type="text/javascript" src="lib/jsdos/js-dos.js"></script>
		<title>Frame0</title>
		<style type="text/css">
* {
	margin: 0px;
	padding: 0px;
}

body {
	position: absolute;
	display: block;
	width: 100%;
	height: 100%;
	overflow: hidden;
}

embed, ruffle-embed, ruffle-player {
	position: absolute;
	display: block;
	width: 100%;
	height: 100%;
	border: none;
}

#frame {
	position: absolute;
	width: 100%;
	height: 100%;
}
		</style>
	</head>
	<body>
		<script type="text/javascript">
"use strict";

// <![CDATA[
(() => {
const location = new URL(window.location.href);
emulators.pathPrefix = "/lib/jsdos/";

let src = location.searchParams.get("src");
let type = location.searchParams.get("type");

if (src == null || src.length == 0) {
	console.warn("No embed source specified");
	return;
}

switch (type) {
	case "flash": {
		let ruffle = window.RufflePlayer.newest();
		let player = ruffle.createPlayer();
		document.body.appendChild(player);
		player.load(src);
		break;
	}
	case "jsdos": {
		let frame = document.createElement("div");
		frame.id = "frame";
		document.body.appendChild(frame);
		Dos(frame).run(src);
		break;
	}
	default: {
		let frame = document.createElement("embed");
		frame.type = "text/plain";
		frame.width = "1024";
		frame.height = "768";
		frame.src = src;
		document.body.appendChild(frame);
		break;
	}
}

})();
// ]]>
		</script>
	</body>
</html>